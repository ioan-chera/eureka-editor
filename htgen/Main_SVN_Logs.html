<div id='wikitext'>
<h1>Git and SVN Logs</h1>
<div class='vspace'></div><pre>__________________

REPOSITORY HISTORY
__________________


This file contains commit logs from several different repositories,
in reverse chronological order (from newest to oldest).

When I first created Eureka (forking from Yadex), I just made all
the changes on my hard-drive -- without using any source control
at all.  Hence there are no change logs from that period.

After a while, I developed the code on the EDGE SVN repository,
and later moved the code to the AwwPorts repository and continued
developing it there.  Eventually I made a preview version available
on the DoomWorld forums to see if there was any interest, and then
registered a SourceForge project for it, and the code repository
got moved yet again.

In January 2016 the SVN repository was converted into a GIT
repository (still on SourceForge though).


====================================================
    CURRENT DEVELOPMENT (GIT)
====================================================

------------------------------------------------------------------------
805f280c4502 | Andrew Apted | 2018-08-05 20:10:14 +1000

CHANGELOG : added a missing item.

------------------------------------------------------------------------
ff3c215b9698 | Andrew Apted | 2018-08-05 19:44:21 +1000

README : updated the date.

------------------------------------------------------------------------
a8dc678a77da | Andrew Apted | 2018-08-05 19:39:59 +1000

CHANGELOG : tidied up for the release.

------------------------------------------------------------------------
20809fa092e6 | Andrew Apted | 2018-08-05 19:30:27 +1000

honor defaults for sector/sprite rendering when opening new maps.

------------------------------------------------------------------------
e35bd815e310 | Andrew Apted | 2018-08-05 19:15:55 +1000

preferences : a setting for default sprite rendering (on/off).

------------------------------------------------------------------------
181480403d86 | Andrew Apted | 2018-08-05 18:29:53 +1000

canvas : disable sector rendering when in error mode.

------------------------------------------------------------------------
b3179498cbda | Andrew Apted | 2018-08-05 18:22:01 +1000

CHANGELOG and TODO update.

------------------------------------------------------------------------
686cc40428f9 | Andrew Apted | 2018-08-05 18:19:43 +1000

canvas : ensure the sector cache is invalidated when necessary.

------------------------------------------------------------------------
d23b8b0b8a63 | Andrew Apted | 2018-08-05 17:55:07 +1000

canvas : quickly reject off-screen sectors in RenderSector().

This uses the new sector_info cache.  This test and the
reduced linedef range to iterate over has already massively
improved the sector rendering performace on huge maps (when
the whole map is not in view, at least).

------------------------------------------------------------------------
93c1f08fc392 | Andrew Apted | 2018-08-05 17:39:00 +1000

canvas : added a sector_info cache which remembers some sector info.

So far the cache stores the linedef range used by sectors, and
also the bounding box of each sector.  RenderSector() will use
the cache to help speed up sector rendering.

------------------------------------------------------------------------
6747daff609a | Andrew Apted | 2018-08-05 15:59:41 +1000

CHANGELOG and TODO update.

------------------------------------------------------------------------
8cbd07da0449 | Andrew Apted | 2018-08-05 15:51:17 +1000

canvas : speed up drawing selection when it has many sectors.

This affected all OSes (not just X windows), especially in
maps with a huge number of linedefs.  The slowdown was caused
by iterating over the selected sectors one-by-one, and for
each sector we iterated over ALL the linedefs.

This commit uses a better method when the selection mode is
OBJ_SECTORS and the number of sectors is large.  It performs
just a single iteration over the linedefs.

------------------------------------------------------------------------
dd45516e3d87 | Andrew Apted | 2018-08-05 15:33:00 +1000

canvas : speed up drawing the selection under X windows.

------------------------------------------------------------------------
7f2651e73f68 | Andrew Apted | 2018-08-05 15:19:43 +1000

canvas : moved fl_line_style() calls out of DrawMapVector().

This is preliminary work to speed up drawing of the selection,
which is greatly slowed down under X windows by all the calls
to fl_line_style().

------------------------------------------------------------------------
638b74924669 | Andrew Apted | 2018-08-05 14:44:47 +1000

canvas : reworked DrawHighlight() to minimize color changes.

Includes splitting off some code --&gt; DrawTagged() method.

------------------------------------------------------------------------
0e9a99b631e0 | Andrew Apted | 2018-08-05 14:14:44 +1000

canvas : small speed up of DrawThings() and DrawThingBodies().

------------------------------------------------------------------------
08ed828a2231 | Andrew Apted | 2018-08-05 13:15:40 +1000

canvas : big speed up of DrawLinedefs() under X windows.

It turned out that FLTK's fl_color() under X windows is very
very slow.  This commit works around that issue by iterating
over the lines multiple times, drawing e.g. all LIGHTGREY lines
in a single pass.

------------------------------------------------------------------------
28117740dea9 | Andrew Apted | 2018-08-04 22:35:46 +1000

preferences : moved sector rendering setting --&gt; Grid tab.

------------------------------------------------------------------------
227054a4c2ff | Andrew Apted | 2018-08-04 22:22:00 +1000

wad code : in ReadDirectory, detect invalid lumps.

In other words, detect lumps with where the start or length
are negative or beyond the end of the wad file.

When found, we log a warning message and clear the lump
(make it empty), since an invalid position would lead to an
error or assertion failure later on (e.g. when saving).

------------------------------------------------------------------------
4f0f9d2746ae | Andrew Apted | 2018-08-04 16:06:39 +1000

TODO update.

------------------------------------------------------------------------
7c8de6a554f9 | Andrew Apted | 2018-08-04 16:05:19 +1000

basic validation of the ACS bytecode for &quot;Add BEHAVIOR&quot; command.

------------------------------------------------------------------------
74e3cb5ab9af | Andrew Apted | 2018-08-04 16:02:12 +1000

lib_file : fixed FileLoad() to handle zero-length files.

------------------------------------------------------------------------
ad2e7f803848 | Andrew Apted | 2018-08-04 15:32:13 +1000

implemented new &quot;Add BEHAVIOR&quot; command.

This inserts a compiled ACS file as the BEHAVIOR lump of the
current map.

------------------------------------------------------------------------
ab6fd9306e08 | Andrew Apted | 2018-08-03 14:51:29 +1000

wad code : better error message for &quot;want_pos &lt; total_size&quot; assertion.

------------------------------------------------------------------------
0cf8157eaad4 | Andrew Apted | 2018-08-03 13:36:08 +1000

ZDoom : render point-light things as a yellow ball sprite.

These things use a fake sprite name &quot;_LYT&quot;, and the sprite is
generated by some code.

------------------------------------------------------------------------
888ee2aba6ff | Andrew Apted | 2018-08-03 12:55:46 +1000

INSTALL.txt : describe compilation of the Windows binary.

There is also a small section for MacOS X, which merely
refers the reader to the documents in the osx/ folder.

------------------------------------------------------------------------
bdc27218d3b9 | Andrew Apted | 2018-08-02 23:48:15 +1000

TODO and CHANGELOG update.

------------------------------------------------------------------------
a9875d7be4e7 | Andrew Apted | 2018-08-02 23:43:54 +1000

Checks : improved fixer for non-animating switch textures.

The fixer now takes into account whether the lower and/or
upper texture is visible or not (due to sector heights),
and prefers to clear the one(s) which are not visible.

------------------------------------------------------------------------
5f1c21199f62 | Andrew Apted | 2018-07-22 20:35:17 +1000

Version bumped after recent WIP test package.

------------------------------------------------------------------------
7b360b027f8b | Andrew Apted | 2018-07-22 20:30:38 +1000

View Logs : always show/raise the log viewer window.

------------------------------------------------------------------------
26e85f719fd6 | Andrew Apted | 2018-07-22 19:06:07 +1000

fixed clumsiness in missing IWAD dialog (hide the Setup button).

------------------------------------------------------------------------
6d743345bae2 | Andrew Apted | 2018-07-22 18:54:05 +1000

fixed spurious warning dialog about incompatible ports.

For example, specifying --wad as &quot;tnt&quot; and --port &quot;boom&quot; would
trigger the incompatible port warning dialog.  The compatibility
checking code was not handling game variants (e.g. &quot;tnt&quot; is marked
as a variant of &quot;doom2&quot;).

------------------------------------------------------------------------
d109b4628cd7 | Andrew Apted | 2018-07-22 18:07:56 +1000

CHANGELOG : added recent changes (not yet prettified).

------------------------------------------------------------------------
d7484099f502 | Andrew Apted | 2018-07-22 18:07:00 +1000

grid : when changing size via keyboard, ensure grid is shown.

------------------------------------------------------------------------
9178e56aa4ce | Andrew Apted | 2018-07-22 18:01:14 +1000

preferences : a setting for default sector rendering (on/off).

------------------------------------------------------------------------
bd1cbc6eed76 | Andrew Apted | 2018-07-22 17:09:26 +1000

removed config var &quot;require_click_to_focus&quot; + preference setting.

This has been solved in a way not requiring an extra setting
(see previous commit).

------------------------------------------------------------------------
7fe0f9e5edd6 | Andrew Apted | 2018-07-22 17:01:36 +1000

Linux/X11 : detect when our main window has &quot;true&quot; focus.

We do this by looking directly at the raw XEvents, because
FLTK does not provide the functionality needed.

When we don't have the true focus, then we never grab the
focus when the mouse hovers over the canvas/render widget.

This should fix ticket #22 once and for all.

------------------------------------------------------------------------
00a18a8c9127 | Andrew Apted | 2018-07-22 16:01:11 +1000

Preferences : better name for add/del button setting.

------------------------------------------------------------------------
5459891116ea | Andrew Apted | 2018-07-22 15:55:59 +1000

PORTS / ZDoom : added gzdoom PointLight things (9800-9824).

------------------------------------------------------------------------
798927a3d21c | Andrew Apted | 2018-07-22 15:44:48 +1000

PORTS / ZDoom : added zdoom hexen-format sector specials.

Specifically: the sector types 65-87, and 195-200.
These are ZDoom-ism which don't exist in vanilla Hexen.

------------------------------------------------------------------------
82c7390f8367 | Andrew Apted | 2018-07-04 16:30:17 +1000

moved several menu commands to a new &quot;Tools&quot; menu.

The commands are: Preferences, Test Map, Build All Nodes,
Edit Text Lump, and View Logs.

------------------------------------------------------------------------
34b25c12059f | Andrew Apted | 2018-07-02 00:25:56 +1000

TODO update.

------------------------------------------------------------------------
66d3a8f88755 | Andrew Apted | 2018-07-02 00:21:00 +1000

Merge branch 'master' of ssh://git.code.sf.net/p/eureka-editor/git

------------------------------------------------------------------------
28bead6e36f5 | Andrew Apted | 2018-07-02 00:20:10 +1000

Sector panel : added a &quot;fresh&quot; button for getting the next free tag.

------------------------------------------------------------------------
4186af94e186 | Ioan Chera | 2018-06-30 22:03:29 +0300

osx: fixed bad dependency on resolved symbolic link paths

------------------------------------------------------------------------
51ff0cd2abb7 | Ioan Chera | 2018-06-30 21:44:26 +0300

Updated the osx app version and removed a year-dependend plist entry

------------------------------------------------------------------------
25c17aee1c5b | Ioan Chera | 2018-06-30 21:44:06 +0300

Fixed Xcode developer ID settings

------------------------------------------------------------------------
4a1f991ab1b4 | Ioan Chera | 2018-06-30 21:40:24 +0300

Cleared all warnings from Xcode project

------------------------------------------------------------------------
735669adf8b6 | Ioan Chera | 2018-06-30 21:32:34 +0300

Ignore downloaded files in osx/

------------------------------------------------------------------------
511ff12a5526 | Ioan Chera | 2018-06-30 21:28:34 +0300

osx Xcode project now automatically downloads FLTK so you don't need to prepare dependencies yourself.

------------------------------------------------------------------------
e59b6a49891c | Ioan Chera | 2018-04-24 19:58:56 +0300

Updated debug settings for Xcode project

------------------------------------------------------------------------
a83bb431b7c8 | Andrew Apted | 2018-06-28 00:25:25 +1000

Checks : find and fix non-animating switch textures.

These are linedefs where a switch texture won't animate
because there is another switch texture in an unseed part
(e.g. in the upper of a 1S wall) and the DOOM engine finds
and changes that texture (and not the visible one).

------------------------------------------------------------------------
f9d36bb29140 | Andrew Apted | 2018-06-27 23:23:49 +1000

Checks : small fix for transparent-texture-on-solid-wall fixer.

Previous we blindly used the default wall texture, assuming
it was never transparent.  This commit checks it, and if so
falls back to something reasonable.

------------------------------------------------------------------------
14f700f02326 | Andrew Apted | 2018-06-27 22:48:42 +1000

Makefiles : added --std=c++03 compiler flag.

This specifies that the C++ standard of the code is the
original C++ plus the amendments from 2003.  I'm not sure
this flag is truly needed, but it does serve as a reminder
that the code may not live up to modern standards.

------------------------------------------------------------------------
a02df53871ae | Andrew Apted | 2018-06-27 19:12:00 +1000

misc : checked in my FLTK 1.3 patch for nicer menu dividers.

------------------------------------------------------------------------
cd030fa98211 | Andrew Apted | 2018-06-24 14:10:29 +1000

fixed version in Win32 RC file.

------------------------------------------------------------------------
15e463f06566 | Andrew Apted | 2018-06-23 23:21:34 +1000

CHANGELOG : re-organized and made pretty.

------------------------------------------------------------------------
bac2d27a9f6d | Andrew Apted | 2018-06-23 22:54:29 +1000

handle text files containing a Unicode BOM (byte-order mark).

The Unicode BOM is common under Windows, but rare under Linux
or MacOSX.  Previously the definition file parser (etc) would
fatal error if a BOM was present.  Now it is simply ignored.

------------------------------------------------------------------------
5c4cacc4860d | Andrew Apted | 2018-06-23 22:40:31 +1000

EditLump : wrote new file reading code (for &quot;Insert&quot; command).

------------------------------------------------------------------------
543c31b0032b | Andrew Apted | 2018-06-23 21:32:00 +1000

added M_ReadTextLine() function, automatically strips CR/LF.

------------------------------------------------------------------------
5f69cc73b3ee | Andrew Apted | 2018-06-23 21:02:20 +1000

EditLump : wrote new file saving code, add a BOM under Windows.

The BOM is only added if the document contains Unicode (UTF-8).
Linux and MacOSX never need a BOM, since UTF-8 is the norm.

------------------------------------------------------------------------
917a6984cf4d | Andrew Apted | 2018-06-23 18:46:00 +1000

Preferences : added checkbox for &quot;require_click_to_focus&quot;.

------------------------------------------------------------------------
bdd65ffda1c6 | Andrew Apted | 2018-06-23 18:38:03 +1000

new config variable &quot;require_click_to_focus&quot;.

Default is false (off).  When true, the canvas never steals
the focus when the mouse pointer passes over it.

------------------------------------------------------------------------
e8db16fb657c | Andrew Apted | 2018-06-23 17:22:47 +1000

Open Map dialog : show buttons for ALL maps via scrollable area.

------------------------------------------------------------------------
c4bf26257480 | Andrew Apted | 2018-06-23 17:08:20 +1000

UI_Scroll : support scrollbar on either side (left or right).

------------------------------------------------------------------------
b073d803cddf | Andrew Apted | 2018-06-23 15:29:42 +1000

Insert_Vertex : final refactor, fixing the &quot;zero-length line&quot; error.

------------------------------------------------------------------------
8fc86f8b864b | Andrew Apted | 2018-06-23 14:47:30 +1000

turn off more debugging noise (dangling vertices).

------------------------------------------------------------------------
24e2ae32628f | Andrew Apted | 2018-06-23 01:18:56 +1000

Checks / Lines : fixed alignment of buttons.

------------------------------------------------------------------------
09a1013c20c6 | Andrew Apted | 2018-06-23 01:02:49 +1000

Insert_Vertex : yet more refactoring.

The solution to the &quot;Bug detected ...&quot; fatal error is getting
closer.  Should be able to fix it tomorrow.

This commit also turns off some debugging noise on stderr.

------------------------------------------------------------------------
7c0d2b3a7c3a | Andrew Apted | 2018-06-23 00:31:00 +1000

Insert_Vertex : more refactoring (logic should be unchanged).

------------------------------------------------------------------------
1f0e16d26088 | Andrew Apted | 2018-06-22 23:37:40 +1000

refactored the Insert_Vertex() code, no changes in the logic.

------------------------------------------------------------------------
73b3c5b45f44 | Andrew Apted | 2018-06-22 21:57:22 +1000

TODO update.

------------------------------------------------------------------------
0a54dbdb7015 | Andrew Apted | 2018-06-22 21:56:32 +1000

Checks : fixed merging multiple groups of overlapping vertices.

------------------------------------------------------------------------
ea60f52b6fa5 | Andrew Apted | 2018-06-22 20:44:31 +1000

added VIM syntax file for editing definition (.ugh) files.

------------------------------------------------------------------------
5c922ee5c16f | Andrew Apted | 2018-06-22 18:54:27 +1000

tidy up misc/ -- removed obsolete crud about the &quot;up&quot; language.

------------------------------------------------------------------------
bc725f701edb | Andrew Apted | 2018-06-22 18:46:15 +1000

Find/Replace : fixed to handle generalized sectors.

------------------------------------------------------------------------
32d2531a029d | Andrew Apted | 2018-06-22 18:22:13 +1000

TODO update.

------------------------------------------------------------------------
f3be703d26fd | Andrew Apted | 2018-06-22 18:19:33 +1000

PORTS / ZDoom : support the sector bit-flags in Hexen maps.

These flags are the same as the BOOM generalized sector flags,
but they are shifted up 3 bits to accommodate more real types.

This commit also renames the feature keyword --&gt; &quot;gen_sectors&quot;.

------------------------------------------------------------------------
3b1520f67405 | Andrew Apted | 2018-06-22 16:37:03 +1000

Port defs : support new &quot;sector_flags&quot; feature keyword.

Previously the &quot;gen_types&quot; feature enabled both generalized
line types and sector type bitflags.  They are separate now.

------------------------------------------------------------------------
c21fef8b481f | Andrew Apted | 2018-06-22 16:12:17 +1000

PORTS / ZDoom : added missing DOOM sector types (15,18-24).

------------------------------------------------------------------------
8add11be3216 | Andrew Apted | 2018-06-22 14:56:45 +1000

Version bump to 1.23-WIP

------------------------------------------------------------------------
7b56119f35bb | Andrew Apted | 2018-06-22 14:52:01 +1000

CHANGELOG update.

------------------------------------------------------------------------
9cd48cc24cd9 | Andrew Apted | 2018-06-22 14:45:36 +1000

Port defs : indent stuff in an if..endif block.

------------------------------------------------------------------------
94e685c7f4a9 | Andrew Apted | 2018-06-22 14:42:56 +1000

Game defs : prefer the &quot;linegroup&quot; command over &quot;spec_group&quot;.

(They are now synonymous).

------------------------------------------------------------------------
65f6ef4135fd | Andrew Apted | 2018-06-22 14:34:44 +1000

Game def parser : support new &quot;clear&quot; command.

This command takes one or more keywords, such as &quot;lines&quot; or
&quot;sectors&quot;, and clears the corresponding set of types.

Use this keyword in the ZDoom port definitions to clear
out the DOOM line and sector specials when the map format
is HEXEN, to better support &quot;Doom in Hexen Format&quot; maps.

------------------------------------------------------------------------
d856b57a3d26 | Andrew Apted | 2018-06-21 23:58:51 +1000

Checks : for tag 666 checking, support Heretic in a better way.

Namely by using a valid of &quot;2&quot; for the tag_666 feature.
This is (slightly) better than comparing the game name with
the string &quot;heretic&quot;.

------------------------------------------------------------------------
d0d46a39f3d4 | Andrew Apted | 2018-06-21 23:54:05 +1000

CHANGELOG updated.

------------------------------------------------------------------------
052d2b7b2e78 | Andrew Apted | 2018-06-21 23:48:22 +1000

warn user when port is not compatible with the current game.

The dialog provides two options, one to reset the port to vanilla,
and another to keep the current (invalid) port.

This commit also tweaks other code related to handling the port,
e.g. produce a fatal error in DeterminePort() for unknown ports
specified on the command-line.  Plus factored out some of the
Main_LoadResources() code to separate functions.  Tweaked some
error messages too.

------------------------------------------------------------------------
746a6b35a376 | Andrew Apted | 2018-06-21 22:21:59 +1000

code tidying : commented some of the IWAD handling logic.

------------------------------------------------------------------------
74c58324ea3f | Andrew Apted | 2018-06-21 21:25:27 +1000

when no explicit port is given, check user's default makes sense.

i.e. check that the default port is compatible with the IWAD.
If not usable, then revert to &quot;vanilla&quot;.

------------------------------------------------------------------------
9272e7c1ab57 | Andrew Apted | 2018-06-21 21:08:17 +1000

minor rename : DetermineGame --&gt; GameNameFromIWAD.

------------------------------------------------------------------------
5ced3d495972 | Andrew Apted | 2018-06-21 20:51:18 +1000

Game defs : split off Hexen sectors --&gt; &quot;common/hexen_sectors.ugh&quot;

------------------------------------------------------------------------
bae832b30acd | Andrew Apted | 2018-06-21 20:47:27 +1000

Game defs : renamed &quot;hexen_specials.ugh&quot; --&gt; &quot;hexen_lines.ugh&quot;

------------------------------------------------------------------------
acf329526377 | Andrew Apted | 2018-06-21 20:43:55 +1000

Game defs : split &quot;doom_specials.ugh&quot; into two files.

One file for line specials, other file for sector types.

------------------------------------------------------------------------
a2d6004d6b79 | Andrew Apted | 2018-06-21 20:39:48 +1000

Game defs : renamed &quot;doom_specials.ugh&quot; --&gt; &quot;doom_lines.ugh&quot;

------------------------------------------------------------------------
b2c5afb122d5 | Andrew Apted | 2018-06-20 14:46:22 +1000

GAMES / Hexen : removed sector type #9 (it is basically inert).

------------------------------------------------------------------------
34d2d422a1c6 | Andrew Apted | 2018-06-20 14:36:33 +1000

TODO : even more fun stuff to hack on....

------------------------------------------------------------------------
42163a47e50e | Andrew Apted | 2018-06-18 15:05:09 +1000

code tidying : removed some commented-out crud.

------------------------------------------------------------------------
a381064e1fdb | Andrew Apted | 2018-06-18 15:01:38 +1000

Makefiles : added the -fwrapv compiler flag.

This ensures that integer addition overflows as expected, i.e.
the value wraps around.

------------------------------------------------------------------------
328628897af5 | Andrew Apted | 2018-06-18 14:45:03 +1000

A preference setting for raw sidedef manipulation buttons.

i.e. for the existing &quot;sidedef_add_del_buttons&quot; config var.

This closes ticket #24.

------------------------------------------------------------------------
9dd19874605e | Andrew Apted | 2018-06-18 00:08:56 +1000

TODO update.

------------------------------------------------------------------------
92f4eeba7cbe | Andrew Apted | 2018-06-18 00:07:11 +1000

Strife : updated Thing panel to support the new thing flags.

This closes ticket #20 (for real this time).

------------------------------------------------------------------------
693cbbafcd25 | Andrew Apted | 2018-06-17 23:29:24 +1000

Strife : define the new thing options (such as MTF_Shadow).

------------------------------------------------------------------------
800bfdaf576f | Andrew Apted | 2018-06-17 23:09:48 +1000

Strife : support both translucency flags in the LineDef panel.

------------------------------------------------------------------------
1e9ee6e55da5 | Andrew Apted | 2018-06-17 22:46:05 +1000

Strife : support the new linedef flags in LineDef panel.

The flags are: JumpOver, BlockFloaters, Translucent1.

The only new flag not supported is Translucent2, because
there is not enough space in the LineDef panel.

This closes ticket #20.

------------------------------------------------------------------------
fb548b78a015 | Andrew Apted | 2018-06-17 21:53:52 +1000

Strife : define the new linedef flags (like MLF_Strife_JumpOver).

------------------------------------------------------------------------
17dd820d009b | Andrew Apted | 2018-06-17 20:58:10 +1000

TODO : small update.

------------------------------------------------------------------------
bcd5506a3268 | Andrew Apted | 2018-06-17 20:52:57 +1000

CHANGELOG update (and reformat).

------------------------------------------------------------------------
f20f24da9cfb | Andrew Apted | 2018-06-17 20:51:47 +1000

Hexen : show every arg value when special is not 0.

Arg values are also dimmed when the usage is unknown.

------------------------------------------------------------------------
83765bbb0f89 | Andrew Apted | 2018-06-17 20:17:50 +1000

TODO : minor changes (remove trailing periods).

------------------------------------------------------------------------
5fff9c7952dc | Andrew Apted | 2018-06-17 14:15:16 +1000

3D View : removed Sort_Bubble() -- it did not speed things up.

------------------------------------------------------------------------
61f3309c85de | Andrew Apted | 2018-06-17 13:44:45 +1000

3D View : restored the recursion minimization in Sort_Range().

------------------------------------------------------------------------
c5f48dd65c30 | Andrew Apted | 2018-06-17 13:31:51 +1000

3D View : removed Sort_ChoosePivot() code.

Choosing the pivot in a simple way (just the middle element)
has shown to be adequate, and in some cases faster than the
3-way median logic which Sort_ChoosePivot() uses.

------------------------------------------------------------------------
8f24973a8b07 | Andrew Apted | 2018-06-17 13:18:01 +1000

3D View : improved the IsCloser() code and its comments.

In particular, we always test if two walls share a vertex
(and perform the more complicated closer test).  Also added
logic to prevent two things at same location from flickering.

------------------------------------------------------------------------
270cb9a0d12b | Andrew Apted | 2018-06-16 22:44:07 +1000

3D View : worked on rewriting the wall sorting code.

The previous code had some problems, especially when the wall
list contained many DrawWalls at the same depth, i.e. sprites.

This commit is a preliminary fix to the QuickSort algorithm,
in particular the case when everything was &gt;= pivot, the old
code did not ensure the pivot was moved to the beginning.

------------------------------------------------------------------------
ed95a485bd97 | Andrew Apted | 2018-06-15 19:05:23 +1000

3D View : fixed closed sectors having a see-through gap.

------------------------------------------------------------------------
580569767cfb | Andrew Apted | 2018-06-15 15:28:12 +1000

Checks : detect when tag 666 or 667 are used on the wrong map.

This closes ticket #12.

------------------------------------------------------------------------
6b692a486984 | Andrew Apted | 2018-06-15 14:41:53 +1000

Checks / Tags : ignore 666 and 667 for unmatched sector tags.

They normally never have a linedef, since those sectors are
activated by the engine on the death of a boss monster.

Also ignore 666/667 for the lowest/highest tag display.

------------------------------------------------------------------------
c5038af61710 | Andrew Apted | 2018-06-15 14:28:05 +1000

Game defs : enable &quot;tag_666&quot; feature for DOOM and Heretic.

------------------------------------------------------------------------
99355dea395c | Andrew Apted | 2018-06-15 00:21:23 +1000

CHANGELOG update.

------------------------------------------------------------------------
9ccfad0b7547 | Andrew Apted | 2018-06-15 00:04:57 +1000

Checks : detect unspawnable things where all Hexen classes are unset.

This finishes the feature, closing ticket #23.

------------------------------------------------------------------------
5b5a0ce37866 | Andrew Apted | 2018-06-15 00:00:28 +1000

Checks : for unspawnable things, always ignore the CAMERA_PEST.

------------------------------------------------------------------------
afa3e0c670dd | Andrew Apted | 2018-06-14 23:55:18 +1000

Checks : detect when a thing in unspawnable due to game modes.

i.e. when the SP, COOP and DM flags are all clear.

This does not apply to Vanilla DOOM, only to Boom compatible
source ports and Hexen format maps.

------------------------------------------------------------------------
a47eacbf7813 | Andrew Apted | 2018-06-14 23:13:58 +1000

Checks : skip things which the game engine always spawns.

For some things, e.g. player starts, the game engine never
checks the skill flags (etc).  Hence these can be safely
skipped by the &quot;unspawnable thing&quot; detector.

------------------------------------------------------------------------
e52e47513bcf | Andrew Apted | 2018-06-14 23:01:11 +1000

Checks : worked on detecting &quot;unspawnable&quot; things.

i.e. things which will never spawn because the skill bits
(easy, medium, hard) are all clear.

This commit includes ability to &quot;Show&quot; these things, and
also &quot;Fix&quot; them (which sets all three skill bits).

------------------------------------------------------------------------
512c21c3c835 | Andrew Apted | 2018-06-14 15:46:01 +1000

BSP : compute 'angle' and 'dist' of vanilla segs more accurately.

------------------------------------------------------------------------
b4e02e9ad1f7 | Andrew Apted | 2018-06-13 22:57:23 +1000

TODO : reorganized items based on likelihood of getting done.

The new section headers are &quot;In Progress&quot;, &quot;Most Likely&quot;,
&quot;Slightly Possible&quot; and &quot;Rejected Ideas&quot;.

Also moved a couple ideas to the rejection pile, and simply
deleted a couple of the wackiest ideas.

------------------------------------------------------------------------
9098d2b55114 | Andrew Apted | 2018-06-13 22:25:22 +1000

TODO : moved several items to the &quot;NOT-TODO&quot; section.

------------------------------------------------------------------------
b40e69c17028 | Andrew Apted | 2018-06-13 19:05:51 +1000

EditLump : treat &quot;SCRIPTS&quot; as a invalid lump (prevent editing).

Normally &quot;SCRIPTS&quot; is a level lump, appearing directly after
the &quot;BEHAVIOR&quot; lump, and is completely optional.  There are some
wad files which contain a global &quot;SCRIPTS&quot; lump (not attached to
any particular level).

Trying to support such a duality leads to problems, especially
when the user creates a global &quot;SCRIPTS&quot; lump, but it ends up
directly after a level inside the wad, and hence suddenly looks
like a level lump (not global anymore).  So the user may find that
their edited lump has &quot;disappeared&quot; when next trying to edit it,
which is totally unacceptable.

Investigations show that source ports (esp. ZDoom) never read a
global &quot;SCRIPTS&quot; lump, it is just a way for modders to bundle
the source of their ACS scripts (as a courtesy).  Hence I think
it is better to err on the side of safety, and only allow the
creation/editing of level-local &quot;SCRIPTS&quot; lumps.

------------------------------------------------------------------------
62ee6fc89ace | Andrew Apted | 2018-06-13 18:27:13 +1000

TODO updated (a wish just came true).

------------------------------------------------------------------------
731fe3f30662 | Andrew Apted | 2018-06-13 18:23:00 +1000

CHANGELOG : noted the new text lump editor.

------------------------------------------------------------------------
8671caa462ee | Andrew Apted | 2018-06-13 18:19:16 +1000

Merge branch 'text-edit'

------------------------------------------------------------------------
347a63834105 | Andrew Apted | 2018-06-13 16:35:10 +1000

EditLump : improved code to set the window title.

Also fixed a bug or two.

------------------------------------------------------------------------
b40f52ee6775 | Andrew Apted | 2018-06-13 15:43:27 +1000

EditLump : added the two flags to &quot;EditLump&quot; command entry.

The two flags are: &quot;/header&quot; and &quot;/scripts&quot;.

------------------------------------------------------------------------
79f2cd470760 | Andrew Apted | 2018-06-13 15:41:26 +1000

EditLump : prevent using &quot;/scripts&quot; option on a non-Hexen map.

------------------------------------------------------------------------
408c837c2368 | Andrew Apted | 2018-06-13 15:31:18 +1000

EditLump : added EDLUMP_XXX constants for the two special lumps.

Those two lumps are the map header of current level, and &quot;SCRIPTS&quot;
lump part of the current level.  Main reason for this is that some
wads contain a global &quot;SCRIPTS&quot; lump, so we cannot use that name
to represent the per-level lump.

------------------------------------------------------------------------
3439417107ac | Andrew Apted | 2018-06-13 15:13:12 +1000

EditLump : implemented loading and saving from/to a memory buffer.

------------------------------------------------------------------------
6d65b435ee39 | Andrew Apted | 2018-06-12 23:12:37 +1000

EditLump : implemented callbacks for the short-cut buttons.

------------------------------------------------------------------------
f5631b40a558 | Andrew Apted | 2018-06-12 22:44:06 +1000

EditLump : added short-cut buttons to the UI -- currently inert.

------------------------------------------------------------------------
14beadc17658 | Andrew Apted | 2018-06-12 00:35:34 +1000

EditLump : sorted out main logic for map header and &quot;SCRIPTS&quot; lumps.

------------------------------------------------------------------------
070f81c8ccee | Andrew Apted | 2018-06-12 00:01:07 +1000

EditLump : collected a group of common text lumps.

------------------------------------------------------------------------
9cc0d69a2e2d | Andrew Apted | 2018-06-11 16:15:28 +1000

EditLump : verify lump name as it is typed, and fixed a bug.

------------------------------------------------------------------------
fcbdfb20b0f8 | Andrew Apted | 2018-06-11 15:45:58 +1000

EditLump : reject more lumps in ValidLumpToEdit().

------------------------------------------------------------------------
b6d4875b7fc2 | Andrew Apted | 2018-06-11 01:04:43 +1000

EditLump : fleshed out ValidLumpToEdit() code.

Includes a invalid_text_lump[], which lists numerous common lumps
which are known to use a binary format (and hence cannot be edited
as text).

------------------------------------------------------------------------
5a5237afa1bc | Andrew Apted | 2018-06-11 00:46:56 +1000

EditLump : &quot;OK&quot; and &quot;Cancel&quot; buttons for UI_ChooseTextLump dialog.

------------------------------------------------------------------------
516f137adeb1 | Andrew Apted | 2018-06-11 00:30:58 +1000

EditLump : began work on a UI_ChooseTextLump() dialog....

------------------------------------------------------------------------
8ef3519c225a | Andrew Apted | 2018-06-10 23:39:35 +1000

Hexen : support loading and saving the &quot;SCRIPTS&quot; level lump.

This is an optional (and usually absent) level lump which
contains the texts of ACS scripts.  The plan is to be able to
edit this lump with the Lump Editor being developed.

------------------------------------------------------------------------
dcfe8d1f39a6 | Andrew Apted | 2018-06-10 23:15:27 +1000

TODO : minor update.

I tested the render speed with a simpler Sort_ChoosePivot(),
and the results were mixed: lo-res mode was faster but hi-res
mode was slower.  Hence decided to keep the code as-is.

------------------------------------------------------------------------
ed15d59726cd | Andrew Apted | 2018-06-10 22:49:40 +1000

Checks : never consider #0 to be an unknown line or sector type.

------------------------------------------------------------------------
e67850b96de9 | Andrew Apted | 2018-06-09 22:31:34 +1000

EditLump : disabled unimplemented &quot;Replace&quot; menu command.

------------------------------------------------------------------------
2fe4e962934d | Andrew Apted | 2018-06-09 22:15:33 +1000

EditLump : fixed backwards search getting &quot;stuck&quot; at same spot.

------------------------------------------------------------------------
198338600a64 | Andrew Apted | 2018-06-09 21:56:58 +1000

EditLump : finished the Find commands.

------------------------------------------------------------------------
ea431cf7ef1f | Andrew Apted | 2018-06-09 21:22:05 +1000

EditLump : partial work on the Find/Find-Next/Find-Prev commands...

------------------------------------------------------------------------
d813cc21ddda | Andrew Apted | 2018-06-09 16:04:09 +1000

EditLump : if user tries to save a read-only lump, ask to export it.

Also a successful export clears the MODIFIED status.

------------------------------------------------------------------------
31c4ccec0363 | Andrew Apted | 2018-06-09 15:35:56 +1000

EditLump : confirmation dialog if closing with modifications.

------------------------------------------------------------------------
a7b30a3e4339 | Andrew Apted | 2018-06-09 15:06:51 +1000

EditLump : fixed MODIFIED being shown directly after loading a lump.

------------------------------------------------------------------------
b46d65ab4b9d | Andrew Apted | 2018-06-09 15:01:59 +1000

EditLump : implemented the &quot;Save&quot; menu command.

------------------------------------------------------------------------
2ea0dd60c0e8 | Andrew Apted | 2018-06-09 14:22:47 +1000

EditLump : implemented SaveLump() method.

------------------------------------------------------------------------
5dd1f014cafd | Andrew Apted | 2018-06-09 02:23:07 +1000

EditLump : implemented LoadLump().

------------------------------------------------------------------------
a4e9f83e3016 | Andrew Apted | 2018-06-09 01:54:08 +1000

EditLump : proper dialog when lump is not found or wad is read-only.

------------------------------------------------------------------------
f6f748774343 | Andrew Apted | 2018-06-08 23:13:02 +1000

EditLump : implemented the &quot;Export to File&quot; menu command.

------------------------------------------------------------------------
39ddbe96c571 | Andrew Apted | 2018-06-08 22:39:40 +1000

EditLump : implemented the &quot;Insert File&quot; menu command.

------------------------------------------------------------------------
594deeeaaa37 | Andrew Apted | 2018-06-08 21:44:34 +1000

EditLump : implemented Select-All and Unselect-All menu commands.

------------------------------------------------------------------------
3990914461fe | Andrew Apted | 2018-06-08 21:32:47 +1000

EditLump : implemented the &quot;Go to Top/Bottom&quot; menu commands.

Also tidied up some other menu callbacks.

------------------------------------------------------------------------
0bf89e06e3eb | Andrew Apted | 2018-06-08 20:48:51 +1000

EditLump : fixed selection color to be visible (FL_BLUE).

------------------------------------------------------------------------
3a6c299d901b | Andrew Apted | 2018-06-08 20:45:48 +1000

EditLump : implemented menu callbacks for Undo/Cut/Copy/Paste/Delete.

------------------------------------------------------------------------
ce9d6ea111bc | Andrew Apted | 2018-06-08 19:00:22 +1000

EditLump : limit size of editor window to a sensible minimum.

------------------------------------------------------------------------
d4bc461289f4 | Andrew Apted | 2018-06-08 16:45:44 +1000

Makefile : added &quot;full-install&quot; target which uses the XDG tools.

This target installs the .desktop file and icon image, whereas
the plain &quot;install&quot; target no longer does that.

Also added a &quot;full-uninstall&quot; target.

------------------------------------------------------------------------
9d47f492ac93 | Andrew Apted | 2018-06-08 16:39:33 +1000

Makefile : fixed &quot;clean&quot; target to remove &quot;.o&quot; files (not everything).

This allows OBJ_DIR to be safely set to the src/ directory.

------------------------------------------------------------------------
e37d75b2b389 | Andrew Apted | 2018-06-08 16:27:45 +1000

Makefile : support DESTDIR in install and uninstall targets.

------------------------------------------------------------------------
7e8758b20c4a | Andrew Apted | 2018-06-07 00:45:40 +1000

Makefile : minor commenting.

------------------------------------------------------------------------
6e08fe7464eb | Andrew Apted | 2018-06-07 00:42:49 +1000

PORTS / ZDoom : fixed missing line-special 0 (NOTHING).

This caused spurious &quot;unknown line special&quot; warnings when
invoking the level checking system.

------------------------------------------------------------------------
a3291abf0e2b | Andrew Apted | 2018-06-04 16:10:14 +1000

rely on automatic detection of target OS (especially Windows).

Removed the &quot;OS&quot; variable from the Makefiles, and updated
some code that checked for &quot;UNIX&quot; (mostly in lib_util.cc),
and updated the detection for Windows in main.h.

------------------------------------------------------------------------
cbdb95b5a15c | Andrew Apted | 2018-06-02 19:10:12 +1000

BSP : renamed &quot;minor warnings&quot; --&gt; &quot;minor issues&quot;.

------------------------------------------------------------------------
2479cec3fc82 | Andrew Apted | 2018-06-01 01:14:29 +1000

EditLump : added &quot;has_changes&quot; field, use a callback to update it.

------------------------------------------------------------------------
64b2fc0584e1 | Andrew Apted | 2018-06-01 01:02:14 +1000

EditLump : implemented File/Quit in the menus.

------------------------------------------------------------------------
bcce70741e4d | Andrew Apted | 2018-06-01 00:53:20 +1000

EditLump : got showing the line and column number working.

------------------------------------------------------------------------
b1832b487981 | Andrew Apted | 2018-06-01 00:21:32 +1000

TODO : minor whitespace fixes.

------------------------------------------------------------------------
ee578ebaf7f5 | Andrew Apted | 2018-05-31 23:48:08 +1000

BSP : added BUILD_LumpOverflow result code.

------------------------------------------------------------------------
8986107f5b14 | Andrew Apted | 2018-05-31 23:30:56 +1000

BSP : removed unused 'message' field and SetErrorMsg() func.

------------------------------------------------------------------------
506fd12a9e86 | Andrew Apted | 2018-05-31 20:09:31 +1000

BSP : added Failure() func, similar to Warning() but for overflows.

------------------------------------------------------------------------
74272345ce82 | Andrew Apted | 2018-05-31 19:52:12 +1000

BSP : renamed function PrintVerbose() --&gt; PrintDetail()

------------------------------------------------------------------------
c2acac4a3e8c | Andrew Apted | 2018-05-31 01:36:09 +1000

EditLump : wrap Fl_Text_Editor class in order to get line/col info.

------------------------------------------------------------------------
14db0511ba3d | Andrew Apted | 2018-05-31 01:03:11 +1000

EditLump : fully implemented the status bar widget.

------------------------------------------------------------------------
948817be3c34 | Andrew Apted | 2018-05-29 00:34:35 +1000

EditLump : decided contents of each menu (awaiting impl...)

------------------------------------------------------------------------
0cbd823988b1 | Andrew Apted | 2018-05-29 00:06:37 +1000

EditLump : added a minimal menu bar, though nothing works yet.

------------------------------------------------------------------------
dd70154e4c7a | Andrew Apted | 2018-05-28 19:18:50 +1000

BSP : code tidying, removed unused parameter from PutNodes().

------------------------------------------------------------------------
686d2c77728c | Andrew Apted | 2018-05-28 19:10:02 +1000

code correctness : made Editor_State_t not be a typedef.

------------------------------------------------------------------------
ee3b3af939b0 | Andrew Apted | 2018-05-28 19:07:48 +1000

code correctness : removed spurious '&amp;' before arrays in memset().

------------------------------------------------------------------------
714f90c2c970 | Andrew Apted | 2018-05-28 19:06:01 +1000

code correctness : added #include &lt;algorithm&gt; to main.h

That's because we use std::swap() a lot, and that function
requires the &lt;algorithm&gt; header file.

------------------------------------------------------------------------
9fa124561491 | Andrew Apted | 2018-05-28 15:29:16 +1000

fixed returning NULL from a function which returns bool.

------------------------------------------------------------------------
283e4b022565 | Andrew Apted | 2018-05-28 15:27:00 +1000

Basis : removed unused typedefs: VPtr, TPtr, SPtr, LDPtr and SDPtr.

------------------------------------------------------------------------
765f38e3ae02 | Andrew Apted | 2018-05-28 15:21:17 +1000

Makefiles : have a WARNINGS var, enable extra warnings.

------------------------------------------------------------------------
e802ae56bd9b | Andrew Apted | 2018-05-28 15:02:14 +1000

minor rename of ClipboardOp() parameter: what --&gt; op.

------------------------------------------------------------------------
f8f8dab7978d | Andrew Apted | 2018-05-28 14:57:00 +1000

minor rename of a local variable (category --&gt; item_cat).

------------------------------------------------------------------------
daca8454a3e7 | Andrew Apted | 2018-05-28 14:49:13 +1000

wad code : renamed parameter of Backup() method.

------------------------------------------------------------------------
c91eb66acc6a | Andrew Apted | 2018-05-28 14:46:39 +1000

EditLump : tweaked the text color.

------------------------------------------------------------------------
c48c308b9461 | Andrew Apted | 2018-05-28 00:18:07 +1000

EditLump : add status bar, text editing widget to UI_TextEditor.

The status bar is currently empty.  This commit also creates a
menu, which is empty too.

------------------------------------------------------------------------
dc262a1ae03b | Andrew Apted | 2018-05-27 19:06:24 +1000

EditLump : split UI_TextEditor code into its own file.

That's because I expect the UI aspects of the code to grow
to a considerable size, with the addition to several menus,
a status bar, etc...

More non-editor stuff is needed too, like a dialog for
selecting what lump to edit.

------------------------------------------------------------------------
bb8ef9ebfc11 | Andrew Apted | 2018-05-27 18:31:21 +1000

EditLump : set the window title, and check for read-only wads.

------------------------------------------------------------------------
f3b54cd92b0e | Andrew Apted | 2018-05-27 18:26:31 +1000

EditLump : bit more fleshing out, determine Wad_file to use.

------------------------------------------------------------------------
d9da157135b7 | Andrew Apted | 2018-05-27 16:29:14 +1000

EditLump : more fleshing out of the high-level logic.

------------------------------------------------------------------------
031c3382470d | Andrew Apted | 2018-05-27 15:49:13 +1000

EditLump : the beginnings of a UI_TextEditor class....

------------------------------------------------------------------------
451a7895eb5a | Andrew Apted | 2018-05-27 13:57:10 +1000

began work on a command to edit text lumps.

This commit adds two new files: &quot;m_editlump.cc/h&quot;, and a &quot;Lump Editor&quot;
entry to the File menu, and adds &quot;EditLump&quot; to the command table.

The implementation (in CMD_EditLump) has barely begun...

------------------------------------------------------------------------
30d0ce15853f | Andrew Apted | 2018-05-27 01:18:40 +1000

Makefiles : added rule to create the OBJ_DIR directory.

------------------------------------------------------------------------
1280695b7336 | Andrew Apted | 2018-05-27 01:02:59 +1000

TODO.txt updated.

------------------------------------------------------------------------
4cd4bf1ecfc2 | Andrew Apted | 2018-05-26 00:27:56 +1000

BSP : removed BUILD_ReadError and BUILD_WriteError -- never used.

------------------------------------------------------------------------
274ba59ed21f | Andrew Apted | 2018-05-26 00:22:57 +1000

BSP : better error messages when Seek() fails.

------------------------------------------------------------------------
61cb22e8fcac | Andrew Apted | 2018-05-25 23:44:56 +1000

BSP : code tidying, use the term &quot;overflow&quot; instead of &quot;hard failure&quot;.

------------------------------------------------------------------------
2614eb09c626 | Andrew Apted | 2018-05-25 15:50:01 +1000

BSP : tweaked the message about forcing XNOD format.

------------------------------------------------------------------------
351a16fe07db | Andrew Apted | 2018-05-25 14:31:07 +1000

lib_util : improved StringTidy() to not use a static buffer.

------------------------------------------------------------------------
c41fbafc1c47 | Andrew Apted | 2018-05-25 14:29:33 +1000

fixed typo in a node building message (&quot;filed&quot; --&gt; &quot;failed&quot;).

------------------------------------------------------------------------
ae6efd559fd7 | Andrew Apted | 2018-05-25 14:27:41 +1000

wad code : fixed a printf with wrong arguments.

------------------------------------------------------------------------
6bd3cdd51826 | Andrew Apted | 2018-05-16 23:43:13 +1000

conversion scripts : add &quot;next page&quot; links to each page.

------------------------------------------------------------------------
dfa5b5d28cdd | Andrew Apted | 2018-05-16 23:10:40 +1000

conversion scripts : add a link back to the index (TOC) on each page.

------------------------------------------------------------------------
785ab5241e36 | Andrew Apted | 2018-05-15 16:21:49 +1000

conversion scripts : better handling of code blocks.

------------------------------------------------------------------------
98791cab97a6 | Andrew Apted | 2018-05-08 21:38:07 +1000

handle a very rare assertion failure in m_strings.cc more gracefully.

Note: I would normally look for the root cause, but internalised
strings are used a lot throughout the code, so it is impossible to
know where the real problem is unless you can trigger the issue
while using a debugger.  Hence added a workaround here for the
sake of robustness.

------------------------------------------------------------------------
40b244d85807 | Andrew Apted | 2018-05-08 20:28:59 +1000

fix for a rare assertion failure in UI_LineDef::SolidMask().

------------------------------------------------------------------------
1597b376b98e | Andrew Apted | 2018-05-08 00:41:55 +1000

fixed inserting things in Hexen getting no SP/COOP/DM/class flags.

------------------------------------------------------------------------
0a3b6483b923 | Andrew Apted | 2018-05-08 00:18:56 +1000

Updated some copyright years (e.g. About box) for 2018.

------------------------------------------------------------------------
2ac07bfae448 | Andrew Apted | 2018-05-08 00:07:19 +1000

conversion scripts : improved &quot;note&quot; and &quot;warning&quot; blocks.

------------------------------------------------------------------------
5c5ad8d47b97 | Andrew Apted | 2018-05-07 23:45:39 +1000

CHANGELOG : another two fixes.

------------------------------------------------------------------------
b127974e4729 | Andrew Apted | 2018-05-07 23:34:31 +1000

TODO.txt : merged the high/low priority sections (remove that distinction).

------------------------------------------------------------------------
bf22dbd2f3f7 | Andrew Apted | 2018-05-07 16:58:55 +1000

conversion scripts : link :download: to the SF project files/ dir.

------------------------------------------------------------------------
1f2f1d31df3e | Andrew Apted | 2018-05-07 15:17:45 +1000

AUTHORS.txt : added Wesley Werner as a contributor.

------------------------------------------------------------------------
0f7f503e725a | Andrew Apted | 2018-05-07 15:06:11 +1000

Merge branch 'master' of ssh://git.code.sf.net/p/eureka-editor/git

------------------------------------------------------------------------
a28cb63abd90 | Andrew Apted | 2018-05-05 23:42:50 +1000

conversion scripts : fixed wrong sub-list syntax (in Index).

------------------------------------------------------------------------
a755cccadd0f | Andrew Apted | 2018-05-05 23:31:01 +1000

conversion scripts : added #notifybox and #warningbox CSS.

------------------------------------------------------------------------
3ecd689f507e | Andrew Apted | 2018-05-05 22:35:19 +1000

conversion scripts : don't clobber our hand-edited User.Index

------------------------------------------------------------------------
dbf4feac7a6c | Andrew Apted | 2018-05-05 22:30:18 +1000

conversion scripts : workaround for a pandoc issue with `\``

------------------------------------------------------------------------
66e85e5670c2 | Andrew Apted | 2018-05-05 19:04:40 +1000

conversion scripts : fixed order of pages (for the Index).

------------------------------------------------------------------------
2975ecd6ede3 | Andrew Apted | 2018-05-05 18:41:14 +1000

conversion scripts : generate links for the Index page.

------------------------------------------------------------------------
baba03eb19c3 | Andrew Apted | 2018-05-05 17:25:03 +1000

conversion scripts : generate raw pmWiki page files.

------------------------------------------------------------------------
2fa5cec5e954 | Andrew Apted | 2018-05-05 16:18:01 +1000

conversion scripts : put a copy of image files into pm/user/

------------------------------------------------------------------------
e379f79d047b | Andrew Apted | 2018-05-05 15:51:27 +1000

conversion scripts : put a copy of :download: files into pm/user/

------------------------------------------------------------------------
cdfab4d638fd | Andrew Apted | 2018-05-05 15:32:13 +1000

conversion scripts : handle the :download: elements.

------------------------------------------------------------------------
c4e4022c5f8a | Andrew Apted | 2018-05-05 15:23:37 +1000

conversion scripts : store output files in a &quot;pm&quot; directory.

------------------------------------------------------------------------
d83a1b9930d2 | Andrew Apted | 2018-05-05 15:22:54 +1000

conversion scripts : handle the :kbd: elements.

------------------------------------------------------------------------
25c484bd3290 | Andrew Apted | 2018-05-04 22:28:20 +1000

conversion scripts : support links and images, removed dead code.

------------------------------------------------------------------------
e82cfdb8192d | Andrew Apted | 2018-05-04 21:05:06 +1000

conversion scripts : more work on them....

------------------------------------------------------------------------
3986094e3020 | Andrew Apted | 2018-05-04 18:01:32 +1000

conversion scripts : implemented Header and HorizontalRule.

------------------------------------------------------------------------
ac252e9092d7 | Andrew Apted | 2018-05-04 17:53:22 +1000

preliminary work on conversion scripts for the user manual.

------------------------------------------------------------------------
e6d67765e121 | Andrew Apted | 2017-12-06 23:48:39 +1100

fixed &quot;Removed unused vertices&quot; message to show the correct number.

------------------------------------------------------------------------
219d13379ec3 | Andrew Apted | 2017-12-06 23:48:01 +1100

fixed warning messages when linedefs contain an invalid vertex.

------------------------------------------------------------------------
4faea9a19798 | Ioan Chera | 2018-04-24 19:53:05 +0300

Updated Xcode project

------------------------------------------------------------------------
58bc948525c4 | Andrew Apted | 2017-09-02 14:12:09 +1000

Merge branch 'master' of ssh://git.code.sf.net/p/eureka-editor/git

------------------------------------------------------------------------
4b4aca8110be | Andrew Apted | 2017-09-02 14:11:00 +1000

updated CHANGELOG.txt and TODO.txt

------------------------------------------------------------------------
8ce114e9e7b5 | Ioan Chera | 2017-08-30 22:06:56 +0300

Eternity config: moved the slope specials from &quot;stairs&quot; to &quot;others&quot;

It made no sense to put them in stairs.

------------------------------------------------------------------------
b02133b9ed01 | Ioan Chera | 2017-08-30 21:38:17 +0300

Fixed a memory deletion bug in Img_c

------------------------------------------------------------------------
d7ea96cbd36b | Ioan Chera | 2017-08-16 08:30:55 +0300

Silenced some clang 64-bit warnings.

------------------------------------------------------------------------
a0943ebde940 | Ioan Chera | 2017-08-16 08:23:37 +0300

macOS: updated the Eureka version in the plist.

------------------------------------------------------------------------
a7cd233dc235 | Andrew Apted | 2017-08-02 23:07:06 +1000

HERETIC config : fixed sprite of the wall torch (WTRH).

------------------------------------------------------------------------
f8866bfd60d0 | Andrew Apted | 2017-06-07 19:31:25 +1000

minor commenting.

------------------------------------------------------------------------
2c43e820d58f | Andrew Apted | 2017-06-07 19:13:34 +1000

3D View : rewrote code to sort the active list of draw-walls,
using custom sorting code (implementing QuickSort).

It previously used std::sort(), but because our wall-distance
comparison function is &quot;wonky&quot; (e.g. can be non-reversable or
non-transitive), it was causing the local std::sort() function
to access elements outside of the list (leading to a CRASH).

------------------------------------------------------------------------
6ae140bf273d | Andrew Apted | 2017-05-06 12:57:53 +1000

GAME defs : added comment to explain why exit linetypes use
lowercase &quot;s1&quot; and &quot;w1&quot;.

------------------------------------------------------------------------
8129c104c7ab | Andrew Apted | 2017-04-04 12:54:53 +1000

TODO.txt : small update.

------------------------------------------------------------------------
dbc69819bb58 | Andrew Apted | 2017-04-04 12:52:56 +1000

Fixed regression with sector merging, it is supposed to keep the
properties of the first selected sector, but this behavior broke
when another issue with sector merging was fixed.

------------------------------------------------------------------------
f6f5256fa384 | Andrew Apted | 2017-04-04 12:48:37 +1000

Version bump after the release.

------------------------------------------------------------------------
cc9b3c7441df | Andrew Apted | 2017-04-04 12:39:42 +1000

CHANGELOG : began a fresh one...

------------------------------------------------------------------------
852053cf43e3 | Andrew Apted | 2017-04-04 12:37:37 +1000

Version 1.21 was released.

Hence moved CHANGELOG --&gt; changelogs/ directory.

------------------------------------------------------------------------
15efcd30ab1f | Ioan Chera | 2017-01-18 22:19:49 +0200

Updated Xcode project for distribution

* Made sure that the static library files are ignored
* Also ignore the userdata subfolders of Xcode
* Updated project to recommended settings
* Updated file references
* Added the two new resource files
* Updated code signing
* Increased deployment target to 10.9 to satisfy all requirements
* Updated the info plist
* Updated the macOS version for the xib
* Removed accidental static libraries

------------------------------------------------------------------------
6ac71b29bb7c | Andrew Apted | 2017-01-12 22:12:17 +1100

docs/History.txt : updated with logs since last release.

------------------------------------------------------------------------
355d3d20049f | Andrew Apted | 2017-01-12 21:50:06 +1100

Removed the file &quot;docs/MiscNotes.txt&quot; -- some parts are obsolete
and the other parts are not very useful anymore.

------------------------------------------------------------------------
1a6938e99914 | Andrew Apted | 2017-01-12 21:27:05 +1100

README.txt : updated the KEYBOARD/MOUSE section for all changes
to the key/button bindings since the previous release.

------------------------------------------------------------------------
787b150c5abd | Andrew Apted | 2017-01-12 21:21:35 +1100

CHANGELOG : tweaks.

------------------------------------------------------------------------
b49cc8efbda1 | Andrew Apted | 2017-01-12 20:48:21 +1100

Operation menu : added &quot;Select same xxx&quot; ops for sector mode.

------------------------------------------------------------------------
dd63ff346638 | Andrew Apted | 2017-01-12 20:02:59 +1100

Test map : fixed execution of the binary on Windows.

------------------------------------------------------------------------
97b15a4d23fe | Andrew Apted | 2017-01-12 16:03:30 +1100

Updated the --help text for 2017.

------------------------------------------------------------------------
33e0c0888b65 | Andrew Apted | 2017-01-12 15:59:41 +1100

About dialog : for Win32, find the logo image in &quot;common/&quot; folder.

------------------------------------------------------------------------
7e3047e44233 | Andrew Apted | 2017-01-12 15:49:55 +1100

3D View : use a darker red for info-bar when stuff is selected.

------------------------------------------------------------------------
a6cd727ee283 | Andrew Apted | 2017-01-12 15:45:00 +1100

About dialog : updated for 2017.

------------------------------------------------------------------------
b50ab15c1bc2 | Andrew Apted | 2017-01-12 15:05:47 +1100

README.txt : update for the release.

------------------------------------------------------------------------
be64c1a08b1e | Andrew Apted | 2017-01-12 15:02:52 +1100

TODO : reorganized various items.

------------------------------------------------------------------------
a2b76534ce73 | Andrew Apted | 2017-01-12 14:43:35 +1100

Removed two obsolete config vars: &quot;scroll_less&quot; and &quot;scroll_more&quot;.

------------------------------------------------------------------------
45def5ab752b | Andrew Apted | 2017-01-12 14:42:19 +1100

Makefile : enable optimisation (-O2) for the release.

------------------------------------------------------------------------
15a976db1495 | Andrew Apted | 2017-01-02 00:16:27 +1100

TODO update.

------------------------------------------------------------------------
c9375f28f238 | Andrew Apted | 2017-01-02 00:14:23 +1100

Wiki : slightly bigger font sizes for &lt;h1&gt; and &lt;h2&gt; headings.

------------------------------------------------------------------------
dd54b093090e | Andrew Apted | 2017-01-02 00:13:03 +1100

Operation menu : added &quot;Auto align&quot; and &quot;Clear offsets&quot; commands.

------------------------------------------------------------------------
e8f7cb66e574 | Andrew Apted | 2017-01-02 00:10:50 +1100

Operation Menu : fixed &quot;3D_Align&quot; commands which changed to use
flags like /x and /y instead of plain keywords.

------------------------------------------------------------------------
ec986567b8de | Andrew Apted | 2016-12-31 01:17:51 +1100

CHANGES.txt : large rejigging, added &quot;Editing&quot; section, added a
few entries for recent changes.

------------------------------------------------------------------------
882ad22b3841 | Andrew Apted | 2016-12-30 18:21:52 +1100

Version bump to 1.21 -- ready for release.

------------------------------------------------------------------------
728fd8937b09 | Andrew Apted | 2016-12-24 21:10:06 +1100

TODO update.

------------------------------------------------------------------------
04f954c95fd6 | Andrew Apted | 2016-12-24 21:08:28 +1100

Texture alignment : support /clear + /right flags.

------------------------------------------------------------------------
e8c405f482b3 | Andrew Apted | 2016-12-24 21:03:49 +1100

dead code removal.

------------------------------------------------------------------------
4fd010bf09aa | Andrew Apted | 2016-12-24 16:57:17 +1100

Texture alignment : fixed some bugs in recent changes.

------------------------------------------------------------------------
d4e5893c5938 | Andrew Apted | 2016-12-24 16:47:35 +1100

3D View : fixed not saving/restoring the current gravity setting
in the DAT file (i.e. where UI state is persisted for a map).

------------------------------------------------------------------------
4feee7609c2e | Andrew Apted | 2016-12-24 16:32:54 +1100

Texture alignment : implemented ScoreTextureMatch() logic.

------------------------------------------------------------------------
4734ca99b548 | Andrew Apted | 2016-12-24 15:00:39 +1100

Wiki : added &quot;.kw&quot; style to CSS, for command keywords and flags.

------------------------------------------------------------------------
be39523c7734 | Andrew Apted | 2016-12-24 14:38:47 +1100

Wiki : added &quot;.key&quot; style to the CSS, for drawing keyboard keys.

------------------------------------------------------------------------
fd121f70477b | Andrew Apted | 2016-12-24 12:24:49 +1100

Implemented &quot;LIN_Align&quot; command for auto-aligning offsets of a
group of selected linedefs in the 2D view.  Bound to 'A' key.

------------------------------------------------------------------------
756682e6d903 | Andrew Apted | 2016-12-24 12:02:56 +1100

3D_Align command : have &quot;/x&quot; and &quot;/y&quot; flags instead of a keyword.

------------------------------------------------------------------------
d317842a1f88 | Andrew Apted | 2016-12-24 11:22:59 +1100

Man page : updated the date string.

------------------------------------------------------------------------
c6c3c108230e | Andrew Apted | 2016-12-24 11:21:19 +1100

Texture aligning : moved Line_AlignGroup() code --&gt; e_linedef.cc
(from r_render.cc), passing in the array of surfaces to process.

------------------------------------------------------------------------
48565c96bfc2 | Andrew Apted | 2016-12-23 23:24:48 +1100

Texture aligning : more work on improving the logic, especially
the ScoreAdjoiner() function....

------------------------------------------------------------------------
dfc1b50acce8 | Andrew Apted | 2016-12-23 22:34:28 +1100

Texture aligning : partial work to improve the Line_AlignOffsets()
code, using the &quot;Obj3d_t&quot; class to refer to surfaces instead of
the hacky &quot;soal&quot; stuff (side-on-a-line), and generally improving
all the logic used....

------------------------------------------------------------------------
22c7464784bf | Andrew Apted | 2016-12-23 20:55:38 +1100

TODO update.

------------------------------------------------------------------------
dd739b25cf74 | Andrew Apted | 2016-12-23 20:52:44 +1100

3D View : when aligning multiple selected walls, fixed the logic
for visiting the surfaces in the right order.

------------------------------------------------------------------------
140b354a17d6 | Andrew Apted | 2016-12-23 20:41:35 +1100

Texture aligning : added LINALIGN_Unpeg flag, which must be set to
enable changing the unpegging flags on the linedef.

------------------------------------------------------------------------
dbf6863bf585 | Andrew Apted | 2016-12-23 14:29:24 +1100

Rewrote the &quot;Enlarge&quot; and &quot;Shrink&quot; commands to use the transform_t
stuff, reducing amount of code, and to support fractional values
like &quot;1.5&quot; or &quot;0.3&quot;.

------------------------------------------------------------------------
e8c05f0fc585 | Andrew Apted | 2016-12-22 16:36:18 +1100

ACT_Click command : changed the flags to be disablers instead of
enablers, i.e. renamed to &quot;/noselect&quot;, &quot;/nodrag&quot;, &quot;/nosplit&quot;.

------------------------------------------------------------------------
061cc267b8f9 | Andrew Apted | 2016-12-22 16:16:43 +1100

Bindings : bound &quot;D&quot; --&gt; SEC_SelectGroup /ceil_tex

------------------------------------------------------------------------
828251fcfe44 | Andrew Apted | 2016-12-22 16:11:57 +1100

Bindings : added &quot;C&quot; for the reverse CopyProperties command.

------------------------------------------------------------------------
8f0df1b32b01 | Andrew Apted | 2016-12-22 15:56:49 +1100

LIN_SelectPath and SEC_SelectGroup commands : made additive mode
be the default, replacing &quot;/add&quot; flag with a &quot;/fresh&quot; flag.

------------------------------------------------------------------------
31020115e81a | Andrew Apted | 2016-12-22 15:47:05 +1100

3D_Set command : removed &quot;gamma&quot; keyword, since that is handled
by the ordinary &quot;Set&quot; command now.

------------------------------------------------------------------------
43ca46a4f0bb | Andrew Apted | 2016-12-22 15:38:58 +1100

LIN_Flip command : simplified the flags, have a &quot;/force&quot; command
which will flip a linedef non-safely, and have new &quot;LIN_SwapSides&quot;
command for the functionality of swapping the sidedefs on a line.

------------------------------------------------------------------------
437538312230 | Andrew Apted | 2016-12-22 15:26:42 +1100

3D View : more work on &quot;3D_Align&quot; to visit surfaces in the correct
order, but it is still not right yet.

------------------------------------------------------------------------
1533facdab03 | Andrew Apted | 2016-12-22 15:25:08 +1100

Wiki : tweaked main background color again.

------------------------------------------------------------------------
5ffc2a7aacd2 | Andrew Apted | 2016-12-21 22:10:26 +1100

3D View : partial work to fix the &quot;3D_Align&quot; command to support
multiple objects (in the 3D selection).

------------------------------------------------------------------------
0a1296b56d2e | Andrew Apted | 2016-12-21 18:59:21 +1100

Key system : replaced &quot;Gamma&quot; command with &quot;gamma&quot; keyword to the
existing SET and TOGGLE commands.

------------------------------------------------------------------------
efed458a107d | Andrew Apted | 2016-12-21 18:56:34 +1100

Preferences : fixed silly recently-introduced crash bug in the
edit-key dialog.

------------------------------------------------------------------------
53f09e55ecf9 | Andrew Apted | 2016-12-20 15:39:34 +1100

3D View : fixed ACT_AdjustOfs command to work on selected lines
(i.e. not just the highlighted one).

------------------------------------------------------------------------
a799e9858602 | Andrew Apted | 2016-12-19 21:02:45 +1100

TODO update.

------------------------------------------------------------------------
e1afcbdcce94 | Andrew Apted | 2016-12-19 21:01:49 +1100

Fixed recent bug: dragging a single sector would not move the things
inside it.

------------------------------------------------------------------------
8ae6258b39df | Andrew Apted | 2016-12-19 20:03:58 +1100

BSP : code tidying, have a SortSegs() function.

------------------------------------------------------------------------
c26c3213bc57 | Andrew Apted | 2016-12-19 20:00:51 +1100

BSP : replaced the &quot;normal_dup&quot; rubbish with a RoundOffVertices()
function, done as part of RoundOffBspTree().

This should fix the bug where ZDoom format nodes had a too high
value for the number of original vertices.

------------------------------------------------------------------------
3ba15ef6dbfb | Andrew Apted | 2016-12-19 19:48:19 +1100

BSP : replaced &quot;ref_count&quot; fields with simpler &quot;is_used&quot; value,
and tidied up assigning of boolean values to &quot;char&quot; fields.

------------------------------------------------------------------------
6fc884bd03e8 | Andrew Apted | 2016-12-19 19:38:58 +1100

BSP : tweaked logic in SaveLevel(), ensure segs array is always
sorted after calling NormaliseBspTree() or RoundOffBspTree().

------------------------------------------------------------------------
3be1d2347da0 | Andrew Apted | 2016-12-19 19:27:07 +1100

BSP : have an &quot;is_new&quot; field of vertex_t, instead of IS_GL_VERTEX
constant, and renamed &quot;num_gl_vert&quot; --&gt; &quot;num_new_vert&quot;.

------------------------------------------------------------------------
d8f36f5fca38 | Andrew Apted | 2016-12-19 18:50:25 +1100

BSP : removed obsolete &quot;is_dummy&quot; field of subsector struct.

------------------------------------------------------------------------
39d9282b1f56 | Andrew Apted | 2016-12-19 16:52:40 +1100

CHANGELOG update.

------------------------------------------------------------------------
760806a5b461 | Andrew Apted | 2016-12-19 16:45:55 +1100

Fixed recent bug: wrong highlight after zooming.

------------------------------------------------------------------------
c0a72703c63a | Andrew Apted | 2016-12-19 16:24:00 +1100

Sound propagation : better linedef colors, show the sound-blocking
lines as magenta, and all others as either white or gray.

------------------------------------------------------------------------
2db19f6631e8 | Andrew Apted | 2016-12-19 15:08:26 +1100

Sound propagation : implemented a new sector rendering mode for it.

------------------------------------------------------------------------
509a6e9a3fdc | Andrew Apted | 2016-12-19 15:02:32 +1100

SoundPropagation : fixed a silly bug.

------------------------------------------------------------------------
0be237d24af5 | Andrew Apted | 2016-12-19 14:18:28 +1100

Implemented SoundPropagation() function, which determines which
sectors can be &quot;heard&quot; from a start sector -- using same logic
as the DOOM engine P_NoiseAlert() function.

------------------------------------------------------------------------
c0ba81cff344 | Andrew Apted | 2016-12-18 22:37:47 +1100

Bindings : bind RMB (MOUSE3) in sectors mode to &quot;Merge&quot; command,
as such an fundamental function deserves a mouse button (and it
was not being used for anything else).

------------------------------------------------------------------------
9976cc9e1e0b | Andrew Apted | 2016-12-18 21:22:05 +1100

TODO update.

------------------------------------------------------------------------
03f8bc90fab3 | Andrew Apted | 2016-12-18 21:20:04 +1100

Copy/Paste : allow using delete on floor textures in Sector and
Default Properties panels to turn them into sky -- even though
this is not very useful, being consistent is important.

------------------------------------------------------------------------
f341483807dd | Andrew Apted | 2016-12-18 21:01:13 +1100

Copy/Paste : using delete on ceiling texture in 3D view turns it
into sky.

------------------------------------------------------------------------
c6b624e0dd44 | Andrew Apted | 2016-12-18 20:18:43 +1100

Copy/Paste : using delete on ceiling texture in the Sector panel
and Default Props panel turns that texture into sky.

------------------------------------------------------------------------
673704d19d62 | Andrew Apted | 2016-12-18 19:55:39 +1100

Key system : workaround for Linux / X-Windows where a change in
modifier keys (SHIFT or CTRL) would not immediately take effect
while a navigation or action was pressed.

------------------------------------------------------------------------
2cb67c50e3fe | Andrew Apted | 2016-12-18 18:45:47 +1100

Copy/Paste : support Delete in 3D mode, set wall textures to &quot;-&quot;
(and shows an error for floor or ceiling textures).

------------------------------------------------------------------------
04ebce73122e | Andrew Apted | 2016-12-18 17:58:29 +1100

Operation menu : added &quot;Copy Texture&quot;, &quot;Paste Texture&quot; for 3d mode.

------------------------------------------------------------------------
7f79cbd0e750 | Andrew Apted | 2016-12-18 17:57:03 +1100

3D View : don't forget 3d highlight when using the operation menu.

------------------------------------------------------------------------
dddfec3840c7 | Andrew Apted | 2016-12-18 16:28:08 +1100

CHANGELOG and TODO update.

------------------------------------------------------------------------
12be0004d724 | Andrew Apted | 2016-12-18 16:23:42 +1100

3D View : improved the info bar to show information about the
current highlighted object (the thing/line/sector number and the
texture name or thing description).

Also removed the X/Y coordinates, instead show them in the main
info bar (at the bottom of the main window).

------------------------------------------------------------------------
b963f8288bf3 | Andrew Apted | 2016-12-18 15:06:33 +1100

(part of previous commit)

------------------------------------------------------------------------
3b3cf8572527 | Andrew Apted | 2016-12-18 15:05:21 +1100

Added &quot;panel gamma&quot; config variable.

------------------------------------------------------------------------
0960d6c54e9b | Andrew Apted | 2016-12-18 14:58:25 +1100

UI : draw the textures/flats/sprites in the browser and panels
using a constant gamma, instead of the &quot;usegamma&quot; which is meant
for rendering the 3D view and sectors/sprites on the 2D view.

------------------------------------------------------------------------
c3b13cc15403 | Andrew Apted | 2016-12-18 14:05:24 +1100

Copy/Paste : finally got distribution of clipboard events right.
Namely try the panels FIRST, and if none want it then ALWAYS send
it to the 3D view when it is active.

------------------------------------------------------------------------
1e3a60497857 | Andrew Apted | 2016-12-18 13:12:14 +1100

Copy/Paste : support them for textures in the Default Props panel.

------------------------------------------------------------------------
ef8a65ae9ba7 | Andrew Apted | 2016-12-18 13:07:13 +1100

Copy/Paste : fully fixed 3D view eating clipboard ops even when
nothing is highlighted or selected (see commit 8546694cfb5a).

------------------------------------------------------------------------
2180ffce65f8 | Andrew Apted | 2016-12-17 23:10:30 +1100

CHANGELOG and TODO update.

------------------------------------------------------------------------
b203ecb2a7b7 | Andrew Apted | 2016-12-17 23:07:10 +1100

3D View : fixed the highlight not being cleared when the mouse has
moved outside of the 3D viewport.

------------------------------------------------------------------------
b286c009d808 | Andrew Apted | 2016-12-17 22:52:44 +1100

Copy/Paste : disabled for Defaults Props and Find/Replace panels
(for now anyway, it is under review....)

------------------------------------------------------------------------
8546694cfb5a | Andrew Apted | 2016-12-17 20:49:01 +1100

Copy/Paste : don't eat a clipboard operation in 3D mode when both
the 3d highlight and 3d selection are empty.

------------------------------------------------------------------------
447cff27e763 | Andrew Apted | 2016-12-17 20:48:24 +1100

Copy/Paste : CTRL-C/X/V for textures in the LineDef panel.

------------------------------------------------------------------------
a33e63545da1 | Andrew Apted | 2016-12-17 19:48:07 +1100

Copy/Paste : support CTRL-C/X/V for textures in the Sector panel.

------------------------------------------------------------------------
c8704e1b490a | Andrew Apted | 2016-12-17 16:34:42 +1100

Copy/Paste : moved the 3D clipboard stuff to the global scope,
namely the &quot;r_clipboard&quot; structure, with code in e_main.cc/h.

------------------------------------------------------------------------
b65353e06705 | Andrew Apted | 2016-12-17 15:21:54 +1100

Copy/Paste : added stub ClipboardOp() methods to all the panel
classes which can use it (UI_Sector, UI_DefaultProps, etc...)

------------------------------------------------------------------------
b825bd74eb44 | Andrew Apted | 2016-12-17 15:05:52 +1100

Copy/Paste : added main_win::ClipboardOp() to see if various UI
stuff wants to override the normal cut/copy/paste/delete commands,
and updated the 3D renderer code to use this mechanism.

------------------------------------------------------------------------
b69c116b1a2c | Andrew Apted | 2016-12-17 13:54:24 +1100

Operation menu : look for &quot;operations.cfg&quot; in user's home_dir,
using that when it exists, otherwise load it from install_dir.

------------------------------------------------------------------------
6ad148165ffe | Andrew Apted | 2016-12-17 13:47:12 +1100

3D View : fixed most glitches when drawing highlight/select lines,
caused by gross limitations of line clipping in X windows.

------------------------------------------------------------------------
14a9da935f88 | Andrew Apted | 2016-12-17 13:23:47 +1100

3D View : fixed highlight/select lines not being clipped to the
rendering area.

------------------------------------------------------------------------
0059a9a0a34a | Andrew Apted | 2016-12-17 13:00:58 +1100

3D View : support for using the texture browser to set the texture
or flat on selected walls / floors / ceilings.

------------------------------------------------------------------------
3cfe94c40cf5 | Andrew Apted | 2016-12-17 12:41:33 +1100

Browser : previous commit allows a few methods of the panel classes
(UI_Sector etc) to become private.

------------------------------------------------------------------------
f221ecd172b7 | Andrew Apted | 2016-12-17 12:35:56 +1100

Browser : gave more panel classes a BrowsedItem() method, which
simplifies the code in main_win::BrowsedItem().

------------------------------------------------------------------------
0ff0bdc0ff37 | Andrew Apted | 2016-12-16 23:55:20 +1100

tweak to UI_MainWindow constructor.

------------------------------------------------------------------------
95671f62f474 | Andrew Apted | 2016-12-16 23:20:04 +1100

3D View : code tidying, removed &quot;RenderLine&quot; struct.

------------------------------------------------------------------------
625114e22258 | Andrew Apted | 2016-12-16 23:18:38 +1100

3D View : draw the highlighted/selected objects in a simpler way,
without having to store the line coordinates.

------------------------------------------------------------------------
c68dc0ac13f4 | Andrew Apted | 2016-12-16 23:02:10 +1100

TODO update.

------------------------------------------------------------------------
f054d634dbaa | Andrew Apted | 2016-12-16 22:57:21 +1100

Panels : allow the textures in LineDef panel and flats in Sector
panel to be highlighted (yellow border) when mouse is over them.

Does nothing yet, but will be needed for Copy/Paste support...

------------------------------------------------------------------------
8fb24ebf0c71 | Andrew Apted | 2016-12-16 22:37:47 +1100

3D View : ensure a redraw when the 3d selection is cleared.

------------------------------------------------------------------------
d3e43d96d09d | Andrew Apted | 2016-12-16 21:22:26 +1100

CHANGELOG update (mention the operation menu).

------------------------------------------------------------------------
0f761ea903bb | Andrew Apted | 2016-12-16 21:12:34 +1100

Bindings : require CMD key with RMB to open the operation menu.

Previously plain RMB would open the operation menu *except* in
vertex mode, where plain RMB does line drawing.  But I think
such an inconsistency is going to annoy/confuse users.

------------------------------------------------------------------------
41db86b221e5 | Andrew Apted | 2016-12-16 18:52:24 +1100

Bindings : changed &quot;toggle sector rendering&quot; from '/' --&gt; F8 key.

------------------------------------------------------------------------
1f15f95e7820 | Andrew Apted | 2016-12-16 18:31:09 +1100

3D View : made CTRL-X &quot;Cut&quot; do something useful: set the texture
or flat to the default property.

------------------------------------------------------------------------
889b9dec6c21 | Andrew Apted | 2016-12-16 18:11:46 +1100

3D View : make the info-bar background RED when some objects are
selected.

------------------------------------------------------------------------
5047908e3f25 | Andrew Apted | 2016-12-16 18:08:59 +1100

3D View : code tidying, made GrabClipboard() and StoreClipboard()
be methods of the r_editing_info_t struct.

------------------------------------------------------------------------
4c7e108a8d3d | Andrew Apted | 2016-12-16 17:12:56 +1100

3D View : code clarifying, renamed &quot;r_sel&quot; --&gt; &quot;r_edit&quot; and moved
the highlight and selection stuff into it.

------------------------------------------------------------------------
40ec5cf5a4f0 | Andrew Apted | 2016-12-16 16:51:15 +1100

3D View : implemented a proper &quot;3d clipboard&quot; instead of abusing
the default properties (such as default_wall_tex).

------------------------------------------------------------------------
3036e643a601 | Andrew Apted | 2016-12-16 15:34:55 +1100

3D View : for copy'n'paste, allow using just the current highlight
(i.e. don't REQUIRE a selection).  That is very convenient.

------------------------------------------------------------------------
b28f20ab083c | Andrew Apted | 2016-12-16 15:13:28 +1100

3D View : implemented copy'n'paste for wall textures and sector flats.

------------------------------------------------------------------------
8899786eaf44 | Andrew Apted | 2016-12-16 13:59:23 +1100

Preferences : changed default key binding sort mode to sort on
the key itself (left column) instead of context (middle column).

------------------------------------------------------------------------
6c04b6af7234 | Andrew Apted | 2016-12-16 13:46:25 +1100

minor rename : UI_MainWin --&gt; UI_MainWindow

------------------------------------------------------------------------
1b0f95c5480f | Andrew Apted | 2016-12-15 23:39:00 +1100

TODO update.

------------------------------------------------------------------------
03e8570331ab | Andrew Apted | 2016-12-15 23:19:32 +1100

3D View : implemented logic to grab the texture from the currently
selected surfaces (failing if more than one texture is present).

------------------------------------------------------------------------
1195b12e9081 | Andrew Apted | 2016-12-15 22:46:38 +1100

3D View : when a surface is both selected and highlighted, let the
selection color (RED) be used, giving better feedback to the user.

------------------------------------------------------------------------
2f8915e17d25 | Andrew Apted | 2016-12-15 16:15:27 +1100

3D View : fixed 3D selection to allow uppers and lowers (or floors
and ceilings) at the same time.

------------------------------------------------------------------------
7e217d076ef3 | Andrew Apted | 2016-12-15 16:10:22 +1100

3D View : unselect pics in the panel when selecting in the 3D view
and vice versa, so the user can be sure what will be changing when
picking something in the texture/flat browser.

------------------------------------------------------------------------
b27a83dd5a44 | Andrew Apted | 2016-12-15 16:09:47 +1100

3D View : ability to &quot;select&quot; surfaces is now working :)

------------------------------------------------------------------------
88799a61b54c | Andrew Apted | 2016-12-15 15:52:40 +1100

3D View : support for rendering the 3D selection (red lines).

------------------------------------------------------------------------
a557ab5d9240 | Andrew Apted | 2016-12-15 15:45:26 +1100

3D View : implemented basic (unoptimised) 3D selection handling.

------------------------------------------------------------------------
e0a9d923c893 | Andrew Apted | 2016-12-15 15:25:52 +1100

3D View : refactored the HighlightGeometry() code.

------------------------------------------------------------------------
f5be0bfafc8a | Andrew Apted | 2016-12-15 14:15:42 +1100

3D View : reworked Obj3d_t class to only store an object number
(instead of separate &quot;line&quot;, &quot;sector&quot;, &quot;thing&quot; fields).

------------------------------------------------------------------------
31d08a10faf4 | Andrew Apted | 2016-12-15 13:35:14 +1100

3D View : renamed &quot;highlight_3D_info_t&quot; --&gt; &quot;Obj3d_t&quot; and moved
its definition to objid.h, and renamed QRP_XXX --&gt; OB3D_XXX.

------------------------------------------------------------------------
034d3142e692 | Andrew Apted | 2016-12-15 13:14:59 +1100

3D View : logic to ensure insertions and deletions of objects will
invalidate the 3D selection.

------------------------------------------------------------------------
69f95a80ef45 | Andrew Apted | 2016-12-15 13:14:12 +1100

(part of previous commit)

------------------------------------------------------------------------
5a11554a909b | Andrew Apted | 2016-12-15 13:11:51 +1100

3D View : also began work on versions of Cut/Copy/Paste commands
which are usable in the 3D mode....

------------------------------------------------------------------------
fbf1cb2b3132 | Andrew Apted | 2016-12-15 13:09:36 +1100

3D View : began work on new &quot;3D_Click&quot; command, which will be used
to select/unselect surfaces in the 3D view....

------------------------------------------------------------------------
77f374ab711e | Andrew Apted | 2016-12-14 22:27:50 +1100

TODO update.

------------------------------------------------------------------------
c7c8180a17a4 | Andrew Apted | 2016-12-14 22:27:27 +1100

minor code commenting.

------------------------------------------------------------------------
da482ca46c52 | Andrew Apted | 2016-12-14 22:17:08 +1100

Sector auto-insert : fixed case of extending off an island inside
a sector, which was being treated as a &quot;new island&quot; and leaving
the interior as void (with broken geometry).

------------------------------------------------------------------------
f0da45f8eb32 | Andrew Apted | 2016-12-14 22:02:44 +1100

Sector auto-insert : look harder to find a nearby default textures
we can use for the new linedefs.  This improves the case when
building a new sector off an existing one (in the void).

------------------------------------------------------------------------
5fcff0db0f66 | Andrew Apted | 2016-12-14 18:41:49 +1100

Version bump, for good progress with various stuff.

------------------------------------------------------------------------
fe764547e30e | Andrew Apted | 2016-12-14 18:35:54 +1100

PORTS / ZDoom : added the zdoom-specific things.  This info was
sourced from the ZDoom wiki &quot;standard editor numbers&quot; page.

------------------------------------------------------------------------
a36b073bceba | Andrew Apted | 2016-12-14 18:12:45 +1100

TODO update.

------------------------------------------------------------------------
357386ee49da | Andrew Apted | 2016-12-14 17:20:50 +1100

FindCrossingPoints : tweaked the 'close_dist' calculation.

------------------------------------------------------------------------
64bb7bd8a27f | Andrew Apted | 2016-12-14 16:46:33 +1100

Fixed new linedef auto-split code to not create overlapping lines.

------------------------------------------------------------------------
ccf0cae85fbd | Andrew Apted | 2016-12-14 16:41:45 +1100

FindCrossingPoints : fixed 'along' values when checking linedefs,
need to store the distance along the WHOLE original line.

------------------------------------------------------------------------
b70fd014f421 | Andrew Apted | 2016-12-14 16:22:57 +1100

TODO : tidying.

------------------------------------------------------------------------
64200fe91242 | Andrew Apted | 2016-12-14 16:20:46 +1100

crossing_point_c : implemented the Sort() method.

------------------------------------------------------------------------
c8704d69e393 | Andrew Apted | 2016-12-14 16:15:25 +1100

crossing_state_c : implemented add_vert() and add_line().

------------------------------------------------------------------------
30881db715ff | Andrew Apted | 2016-12-14 16:10:26 +1100

FindCrossingPoints : bbox test to quickly eliminate linedefs.

------------------------------------------------------------------------
9204fcc5c063 | Andrew Apted | 2016-12-14 15:47:23 +1100

FindCrossingPoints : code tidying.

------------------------------------------------------------------------
e2f04487a512 | Andrew Apted | 2016-12-14 15:41:02 +1100

FindCrossingPoints : ignore linedefs where an end-point is already
within set of vertices in the crossing_state.  Tweaked epsilon
values (use some #defines for them).

------------------------------------------------------------------------
c66d67092bdc | Andrew Apted | 2016-12-14 15:34:07 +1100

Basis : added LineDef::TouchesCoord() method.

------------------------------------------------------------------------
ad071d0aef07 | Andrew Apted | 2016-12-14 14:41:12 +1100

Wiki : made the background a little bit brighter.

------------------------------------------------------------------------
9cf000d00e1d | Andrew Apted | 2016-12-14 14:28:47 +1100

FindCrossingPoints : split algorithm into two phases, finding all
vertices in the first phase, and second phase processes each pair
of adjacent vertices to find crossing linedefs.

------------------------------------------------------------------------
bf8fd9bb72c3 | Andrew Apted | 2016-12-14 14:15:33 +1100

Began work on improved auto-splitting code when inserting new lines,
using new &quot;crossing_state_c&quot; class to encapsulate the cross points.

------------------------------------------------------------------------
cbd45bfd9feb | Andrew Apted | 2016-12-13 23:26:18 +1100

Test map : support for the &quot;-merge&quot; option when building the
command-line arguments.  Although the logic *when* to employ
that option is too simplistic atm.

------------------------------------------------------------------------
2b2ccccfecec | Andrew Apted | 2016-12-13 22:39:22 +1100

TODO update.

------------------------------------------------------------------------
60828d873ae1 | Andrew Apted | 2016-12-13 22:38:44 +1100

PORTS / ZDoom : renamed the fragglescript specials.

------------------------------------------------------------------------
bdc78d935af1 | Andrew Apted | 2016-12-13 22:35:05 +1100

PORTS / Eternity : moved slope linetypes to the &quot;Stairs&quot; category,
consistent with the other ports.

------------------------------------------------------------------------
5ec45ad390fb | Andrew Apted | 2016-12-13 22:31:22 +1100

PORTS / ZDoom : fixed using STAIRS category for some special FX.

------------------------------------------------------------------------
48730038c580 | Andrew Apted | 2016-12-13 22:26:54 +1100

PORTS : added three line categories to doom_groups.ugh: &quot;Scripting&quot;,
&quot;Renderer&quot; and &quot;3D Floor&quot;, and use them consistently in each port.

------------------------------------------------------------------------
a8aab81787a3 | Andrew Apted | 2016-12-13 22:09:45 +1100

GAMES / Heretic : include &quot;doom_groups&quot;, fixing the stairs to use &quot;s&quot;
and removing the unused &quot;Sounds&quot; category.

------------------------------------------------------------------------
6dcd93be2ef9 | Andrew Apted | 2016-12-13 22:04:54 +1100

GAMES / Strife : include &quot;doom_groups&quot; (most were the same).

------------------------------------------------------------------------
2e30d1350ca6 | Andrew Apted | 2016-12-13 21:56:52 +1100

GAMES : separated out groups for DOOM linetypes --&gt; doom_groups.ugh

------------------------------------------------------------------------
b17469ec8147 | Andrew Apted | 2016-12-13 21:49:03 +1100

PORTS : separated out groups for HEXEN specials --&gt; hexen_groups.ugh

------------------------------------------------------------------------
ecc94ac3a5c2 | Andrew Apted | 2016-12-13 21:39:59 +1100

Game def parser : support &quot;spec_group&quot; directive, equivalent to
&quot;linegroup&quot; but only applies to HEXEN format maps.

------------------------------------------------------------------------
7413da0b6303 | Andrew Apted | 2016-12-13 21:17:53 +1100

PORTS / ZDoom : added &quot;ZD:&quot; prefix to the ZDoom-specific doom-format
line types, and changed category of 3D Floors to &quot;y&quot; since &quot;v&quot; is
already being used for the BOOM elevators.

------------------------------------------------------------------------
8154298b96be | Andrew Apted | 2016-12-13 20:59:29 +1100

Preferences : improved look of the tabs, the background of all the
unselected tabs are now drawn darker than normal, so the current
tab stands out.

------------------------------------------------------------------------
0ab33cb990c7 | Andrew Apted | 2016-12-13 20:36:22 +1100

PORTS / ZDoom : added all the extra Doom-format line types.
These were adapted from the SLADE editor (once again).

------------------------------------------------------------------------
6629aff212f1 | Andrew Apted | 2016-12-13 20:14:24 +1100

TODO update.

------------------------------------------------------------------------
6c682f75fbe0 | Andrew Apted | 2016-12-13 18:35:39 +1100

Sector auto-insert : fleshed out logic for determining better
texture to use on fresh linedefs.  But it does not handle the
important case of building a sector off an existing 1S wall...

------------------------------------------------------------------------
2a46c09dcdf0 | Andrew Apted | 2016-12-13 18:31:03 +1100

Operation menu : ensure the popup menus normally stay hidden, which
fixes the bug where line-drawing stopped at an invisible rectangle
(due to mouse &quot;entering&quot; the menu and sending FL_LEAVE to the canvas).

------------------------------------------------------------------------
ac0805a43a93 | Andrew Apted | 2016-12-13 15:38:12 +1100

Sector auto-insert : began work to choose better default textures
for the newly added linedefs....

------------------------------------------------------------------------
e3b60f641242 | Andrew Apted | 2016-12-13 15:08:10 +1100

Basis : optional 'new_tex' parameter for SideDef::SetDefaults().

------------------------------------------------------------------------
f0d4f9370395 | Andrew Apted | 2016-12-13 14:11:44 +1100

Wiki : improved look of the editing Cheat Sheet.

------------------------------------------------------------------------
59f9826e5011 | Andrew Apted | 2016-12-13 13:56:34 +1100

Wiki : tweaked the hyperlink colors (&quot;a&quot; tags).

------------------------------------------------------------------------
c66aacdbf13b | Andrew Apted | 2016-12-13 13:31:34 +1100

Wiki : removed search box from bottom of page.

------------------------------------------------------------------------
e166f9f5a852 | Andrew Apted | 2016-12-13 13:22:10 +1100

Wiki : always disable the automatic page title, and tidied up the
HTML in the template file.

------------------------------------------------------------------------
521260ae8c4c | Andrew Apted | 2016-12-12 19:09:19 +1100

Sector auto-insert : removed the old ClosedLoop_XXX code.

------------------------------------------------------------------------
dcfb04dbb6d8 | Andrew Apted | 2016-12-12 17:04:08 +1100

Sector auto-insert : proper logic to determine model for new sector
(when splitting an existing one, or void space).

------------------------------------------------------------------------
3cb3ddd5c2d0 | Andrew Apted | 2016-12-12 16:55:08 +1100

Sector auto-insert : main logic for the split-sector cases.

------------------------------------------------------------------------
23fcd415666a | Andrew Apted | 2016-12-12 16:39:31 +1100

Sector auto-insert : got logic for creating islands (inside a sector
or out in void space) working again.

------------------------------------------------------------------------
c0c28f3cb640 | Andrew Apted | 2016-12-12 15:43:54 +1100

Sector auto-insert : use new DetermineSector() method and get the
lengths of the line loops.

------------------------------------------------------------------------
08963aa696ff | Andrew Apted | 2016-12-12 15:41:07 +1100

lineloop_c : added DetermineSector() method.

------------------------------------------------------------------------
85f87fc0bc30 | Andrew Apted | 2016-12-12 15:22:16 +1100

Sector auto-insert : more work on new logic, handle any outward
facing lineloop (if there is one).

------------------------------------------------------------------------
fca7db6ef447 | Andrew Apted | 2016-12-12 14:52:06 +1100

Began work on new logic handling the auto-insertion of sectors when
closing linedef loops, as it should not matter exactly where the
user closed the loop.

------------------------------------------------------------------------
0f75792b5f1c | Andrew Apted | 2016-12-11 23:55:12 +1100

CHANGELOG and TODO update.

------------------------------------------------------------------------
8d8d0dab7402 | Andrew Apted | 2016-12-11 23:23:24 +1100

Wiki : increased base font size from 11pt --&gt; 14pt

------------------------------------------------------------------------
814ffe78cb4e | Andrew Apted | 2016-12-11 23:06:56 +1100

Wiki : removed trailing whitespace from the CSS and TMPL files.

------------------------------------------------------------------------
446bcb65d302 | Andrew Apted | 2016-12-11 23:04:15 +1100

Wiki : checked in our pmwiki skin files: wiki/eureka.css + wiki/eureka.tmpl

------------------------------------------------------------------------
e8a711d3ec4b | Andrew Apted | 2016-12-11 21:13:25 +1100

Improved method to find the right line loop when inserting a sector,
handling the case of hitting an island much better: look at linedefs
opposite the ones in the island, and keep looking even when we hit
other islands.

------------------------------------------------------------------------
6b3d2b2b8724 | Andrew Apted | 2016-12-11 18:53:14 +1100

lineloop_c : when finding islands, handle isolated linedefs.

------------------------------------------------------------------------
6b318acfbb58 | Andrew Apted | 2016-12-11 18:25:28 +1100

Fixed recent bug, when inserting a sector and failing to trace the
lineloop then a dud sector was still created.

------------------------------------------------------------------------
e4a81bdf03d2 | Andrew Apted | 2016-12-11 18:09:38 +1100

TraceLineLoop : support tracing along both sides of a linedef, and
tracing around a dangling vertex.

------------------------------------------------------------------------
f029801de4f8 | Andrew Apted | 2016-12-11 17:31:59 +1100

minor rename : &quot;LD_&quot; prefix for AngleBetweenLines().

------------------------------------------------------------------------
cc9a8312828b | Andrew Apted | 2016-12-11 17:11:21 +1100

TraceLineLoop : explicit check for an isolated linedef.

------------------------------------------------------------------------
300e2b5bbbee | Andrew Apted | 2016-12-11 17:08:36 +1100

minor tidying in TraceLineLoop().

------------------------------------------------------------------------
2805645816ba | Andrew Apted | 2016-12-11 17:02:39 +1100

code tidying : moved LD_GetTwoNeighbors() --&gt; e_linedef.cc/h

------------------------------------------------------------------------
cd7a1783f958 | Andrew Apted | 2016-12-11 16:56:41 +1100

tweak to ClosedLoop_Complex, don't check original loop when splitting.

------------------------------------------------------------------------
7bee3cea887a | Andrew Apted | 2016-12-11 16:49:41 +1100

lineloop_c : AssignSector() is now a method of lineloop_c.

------------------------------------------------------------------------
7d2b2027d8ac | Andrew Apted | 2016-12-11 15:30:26 +1100

lineloop_c : renamed FacesSector() method --&gt; IslandSector(), made
it ignore lines which face the void (keep looking for a possible
outer sector), and some tidying up of code using this method.

------------------------------------------------------------------------
ac025a8ac51c | Andrew Apted | 2016-12-11 15:14:01 +1100

minor rename : lineloop_c::AllNew() --&gt; AllBare().

------------------------------------------------------------------------
ed91965d70ff | Andrew Apted | 2016-12-11 14:54:18 +1100

fixed recent bug: cannot highlight vertex #0, linedef #0, etc...

------------------------------------------------------------------------
fb16ac973537 | Andrew Apted | 2016-12-11 14:52:17 +1100

Canvas : in drawing mode, show all the linedefs/vertices that will
be crossed by the current line (as orange blobs).

------------------------------------------------------------------------
401c0db29781 | Andrew Apted | 2016-12-11 13:05:54 +1100

code : tidied up all the GetNearObject() logic, replacing most usage
Close_obj class with simpler code.

------------------------------------------------------------------------
a2becb3a05e7 | Andrew Apted | 2016-12-10 23:46:25 +1100

Fixed overly zealous highlighting of vertices when zoomed in far.

------------------------------------------------------------------------
6be3c314fcfa | Andrew Apted | 2016-12-10 21:41:38 +1100

Operation menu : save the current highlight before popping up the
menu, and restore it before executing the chosen command, since
the pop-up menu window causes the highlight to be cleared.

------------------------------------------------------------------------
3f650e9d3cd5 | Andrew Apted | 2016-12-10 17:39:35 +1100

Menus : the /MENU flag idea was no good, so reverted the previous
commit which added it.

------------------------------------------------------------------------
5400e626d392 | Andrew Apted | 2016-12-09 21:41:31 +1100

TODO update.

------------------------------------------------------------------------
4f4a68f9924f | Andrew Apted | 2016-12-09 21:40:22 +1100

Grid code : ensure that changes to the origin or Scale will update
the current highlight.

------------------------------------------------------------------------
6aa546db7b24 | Andrew Apted | 2016-12-09 21:17:40 +1100

Grid code : reorganized methods in Grid_State_c, and remove the
CenterMapAt() method which was merely a synonym for MoveTo().

------------------------------------------------------------------------
040f6d24229a | Andrew Apted | 2016-12-09 21:05:27 +1100

made RedrawMap() always do an UpdateHighlight().

------------------------------------------------------------------------
aebabeea8f99 | Andrew Apted | 2016-12-09 19:58:44 +1100

CHANGELOG / TODO update.

------------------------------------------------------------------------
016576b4ba0e | Andrew Apted | 2016-12-09 19:57:53 +1100

part of previous commit (oops).

------------------------------------------------------------------------
e002265d60b5 | Andrew Apted | 2016-12-09 19:56:16 +1100

Improved ability to highlight/select very short linedefs, esp. ones
which are only 1 or 2 units long.

------------------------------------------------------------------------
52de25e87db2 | Andrew Apted | 2016-12-09 19:26:36 +1100

Event code : changed edit.map_x/y globals to be floating point,
as well as the UI_Canvas::MAPX/MAPY inline methods.

------------------------------------------------------------------------
e4965043f85b | Andrew Apted | 2016-12-09 18:47:21 +1100

rethink on previous commit and removed Editor_NotifyChanges().

------------------------------------------------------------------------
9b1415db5d10 | Andrew Apted | 2016-12-09 18:45:16 +1100

minor rename : MarkChanges() --&gt; Editor_NotifyChanges()

------------------------------------------------------------------------
132fab0689a0 | Andrew Apted | 2016-12-09 18:40:23 +1100

code : simplified PointerPos() to set edit.map_x/y directly.

------------------------------------------------------------------------
299aeda1ee21 | Andrew Apted | 2016-12-09 18:25:18 +1100

Event code : implemented a PointerPos() method which can determine
the map coordinate at any time (outside of FLTK event passing).

------------------------------------------------------------------------
eb992126870e | Andrew Apted | 2016-12-09 17:21:59 +1100

Canvas : improved drawing of bold lines with the arrow, improving
the arrow size for really short lines.

------------------------------------------------------------------------
20e20a2a58e7 | Andrew Apted | 2016-12-09 16:46:56 +1100

Grid : added an extra zoom factor: 32:1

------------------------------------------------------------------------
946c71c903c0 | Andrew Apted | 2016-12-09 16:38:31 +1100

Event code : tidyied up EV_MouseMotion() function.

------------------------------------------------------------------------
32ad584f046e | Andrew Apted | 2016-12-09 15:59:43 +1100

Event code : renamed some functions to EV_ prefix, and removed
them from the global scope.

------------------------------------------------------------------------
1e4ea77947fc | Andrew Apted | 2016-12-09 15:52:04 +1100

refactored the duplicate handle() code of UI_Canvas and UI_Render3D
into a single function, EV_HandleEvent(), and improved the handling
of FL_ENTER events via new EV_EnterWindow() function.

------------------------------------------------------------------------
5e43057da0d1 | Andrew Apted | 2016-12-09 15:15:20 +1100

code : moved fields in Editor_State_t struct around and tweaked
the comments, removed two unused fields.

Also fixed Editor_Init() using memset to clear that structure,
which is not kosher when it contains real C++ classes.

------------------------------------------------------------------------
44f6d793e228 | Andrew Apted | 2016-12-09 01:40:06 +1100

TODO update.

------------------------------------------------------------------------
38acbb944f05 | Andrew Apted | 2016-12-09 01:38:07 +1100

GAMES / Hexen : added spawn arguments to the handful of things
which use them.

------------------------------------------------------------------------
d49cb6e0aea8 | Andrew Apted | 2016-12-09 01:35:08 +1100

Hexen format : support spawn arguments for things, both parsing
from the game definition and tool-tipping in the Thing panel.

------------------------------------------------------------------------
d1325462cf1e | Andrew Apted | 2016-12-08 23:26:54 +1100

Added config variable &quot;transparent_col&quot;, specifies color of the
transparent pixels of textures (shown in the browser / panels).

------------------------------------------------------------------------
afaef8a8e501 | Andrew Apted | 2016-12-08 23:11:50 +1100

UI_Scroll : fixed the new JumpToChild() method.

------------------------------------------------------------------------
fcd64a044c44 | Andrew Apted | 2016-12-08 15:34:32 +1100

UI_Scroll : implemented the new JumpToChild() method.

------------------------------------------------------------------------
d0a7bc6701e6 | Andrew Apted | 2016-12-08 15:20:47 +1100

Browser : began work on ability to jump to a particular texture,
flat, thing, etc....

------------------------------------------------------------------------
1918ca01c9da | Andrew Apted | 2016-12-08 14:27:09 +1100

minor rename : ShowBrowser() method --&gt; BrowserMode()

------------------------------------------------------------------------
fa67f63412d0 | Andrew Apted | 2016-12-08 14:08:53 +1100

Drawing mode : fixed behavior when the line loop finishes at a
self-reference line (a vertex or one split), which before was
simply doing nothing.

------------------------------------------------------------------------
959585773f33 | Andrew Apted | 2016-12-08 13:15:13 +1100

CHANGELOG and TODO update.

------------------------------------------------------------------------
3ce1c14ea638 | Andrew Apted | 2016-12-08 13:11:52 +1100

Open Map : fixed crash when editing a pwad but then trying to open
a map from the game iwad.

------------------------------------------------------------------------
4c97a3fee64d | Andrew Apted | 2016-12-08 12:54:19 +1100

lib_file : fixed FilenameGetPath() code, which was quite borked.

------------------------------------------------------------------------
31478892199d | Andrew Apted | 2016-12-08 12:42:14 +1100

Export Map : prevent the export if the chosen file is one which
we already have open (like the IWAD or the current PWAD).

------------------------------------------------------------------------
a9e9aa0094f4 | Andrew Apted | 2016-12-08 12:20:03 +1100

Fixed potential crash when loading a map from the Given-files or
Recent-files menus.

------------------------------------------------------------------------
28d3bb3ba4c4 | Andrew Apted | 2016-12-08 11:41:08 +1100

Map loader : fixed a bug handling bad sidedef references in linedefs
when the map has no sectors.

------------------------------------------------------------------------
a960783c8446 | Andrew Apted | 2016-12-08 11:24:13 +1100

BSP : don't crash on maps which consist entirely of dud linedefs
(ones which lack any sidedefs).   Treat the map as empty instead.

------------------------------------------------------------------------
8579170b73b6 | Andrew Apted | 2016-12-07 23:56:39 +1100

code tidying : fixed several FatalError() and BugError() strings
which lacked a trailing new-line ('\n').

------------------------------------------------------------------------
7ce770f75367 | Andrew Apted | 2016-12-07 23:31:39 +1100

CHANGELOG and TODO update.

------------------------------------------------------------------------
9e4f7eaf289c | Andrew Apted | 2016-12-07 23:30:10 +1100

Checks : fixed the criss-cross linedef detection, which was too
sloppy and did not handle some cases properly (like co-linear
lines which partially overlap).

------------------------------------------------------------------------
9a644ea29e57 | Andrew Apted | 2016-12-07 20:41:35 +1100

TODO update.

------------------------------------------------------------------------
0544f2d85421 | Andrew Apted | 2016-12-07 19:37:39 +1100

Menus : pass /MENU flag to certain editing commands, so they will
know that the current highlight cannot be used.

------------------------------------------------------------------------
46f1721e99e6 | Andrew Apted | 2016-12-07 19:36:38 +1100

Menus : rearranged the HELP menu, removed dividing lines.

------------------------------------------------------------------------
0109127fbeb9 | Andrew Apted | 2016-12-07 19:29:49 +1100

Menus : added &quot;Operation Menu&quot; to the VIEW menu, with F1 as the
shortcut, and hence removed the F1 binding from bindings.cfg

------------------------------------------------------------------------
a606e2f41192 | Andrew Apted | 2016-12-07 19:03:29 +1100

dead code removal.

------------------------------------------------------------------------
efee4ad13d35 | Andrew Apted | 2016-12-07 19:01:28 +1100

Prefs / key bindings : ensure a fresh binding (from the &quot;Add&quot; and
&quot;Copy&quot; buttons) will be visible and selected in the key list.

------------------------------------------------------------------------
4ea96b420870 | Andrew Apted | 2016-12-07 16:47:45 +1100

Prefs / key bindings : fixed the Keyword/Flags menus not updating
after selecting a new function, and renamed the &quot;Mode&quot; choices to
be pluralized (&quot;Linedefs&quot;, &quot;Sectors&quot;, etc) like on the infobar.

------------------------------------------------------------------------
54e96daba6f1 | Andrew Apted | 2016-12-07 16:33:50 +1100

Prefs / key bindings : don't have &quot;General&quot; as a selectable context
when the command is context-limited (like SEC_Floor or LIN_Path).

------------------------------------------------------------------------
0bba205a8598 | Andrew Apted | 2016-12-07 16:26:49 +1100

Prefs / key binding : got the &quot;Mode&quot; choice to be updated properly
when a new function is selected.

------------------------------------------------------------------------
f4c702b845db | Andrew Apted | 2016-12-07 15:29:20 +1100

Prefs / key bindings : added code to populate the &quot;Mode&quot; choice,
supporting deactivated items and handling the reverse order.

------------------------------------------------------------------------
fe43132d0206 | Andrew Apted | 2016-12-07 15:03:46 +1100

Prefs / key bindings : moved &quot;Function&quot; above &quot;Mode&quot; in key edit
dialog, and tidied up the UI_EditKey constructor code.

------------------------------------------------------------------------
2bf13d7e8e92 | Andrew Apted | 2016-12-07 14:12:52 +1100

tweaked default grid colors.

------------------------------------------------------------------------
5a99882f7ba5 | Andrew Apted | 2016-12-07 14:12:00 +1100

Preferences : added tooltips to the colors in GRID tab.

------------------------------------------------------------------------
5536f9583df3 | Andrew Apted | 2016-12-07 14:00:58 +1100

Preferences : fixed layout in the GRID tab.

------------------------------------------------------------------------
df4a286860c6 | Andrew Apted | 2016-12-06 22:28:10 +1100

LineDef panel : updated description as user types, and support
hexadecimal in the type field (which is slighly useful for BOOM
generalized line types).

------------------------------------------------------------------------
2f1776e32884 | Andrew Apted | 2016-12-06 22:13:28 +1100

Defaults panel : update thing description as user types.

------------------------------------------------------------------------
d1adfe7ec7da | Andrew Apted | 2016-12-06 22:04:08 +1100

Thing panel : update description field as the user types, and also
the special (when the map format is HEXEN).

------------------------------------------------------------------------
2eb96ec4a959 | Andrew Apted | 2016-12-06 21:51:00 +1100

code : renamed &quot;UI_PicName&quot; --&gt; &quot;UI_DynInput&quot;.

------------------------------------------------------------------------
61fd7b5592a4 | Andrew Apted | 2016-12-06 21:45:47 +1100

Sector panel : update description field as the user types.

------------------------------------------------------------------------
da05dfe352cb | Andrew Apted | 2016-12-06 20:46:59 +1100

TODO.txt : merged in the current WIP.txt stuff, updated some stuff
that has been done, and general tidying up.

------------------------------------------------------------------------
93820c2e45e0 | Andrew Apted | 2016-12-06 20:07:21 +1100

Browser : minor rename: &quot;Line Types&quot; --&gt; &quot;Line Specials&quot;.

------------------------------------------------------------------------
6c992624ca8d | Andrew Apted | 2016-12-06 19:48:10 +1100

Bindings : for vertex mode, added SHIFT-MOUSE3 for inserting a
vertex with &quot;/continue&quot; flag (matching SHIFT-INS and SHIFT-SPACE).

------------------------------------------------------------------------
349075b4eccd | Andrew Apted | 2016-12-06 19:43:34 +1100

Insert command : removed &quot;/new&quot; flag -- it only did something in
sectors mode, and now we *always* create a new sector.

------------------------------------------------------------------------
d69818948208 | Andrew Apted | 2016-12-06 19:10:35 +1100

PORTS / ZDoom : sorted out the categories for action specials,
adding several new ones (in hexen_specials.ugh) and changing
several specials.

------------------------------------------------------------------------
643546827e8b | Andrew Apted | 2016-12-06 18:52:20 +1100

GAMES/PORTS : removed trailing whitespcae in hexen_specials.ugh

------------------------------------------------------------------------
2d321a194fd6 | Andrew Apted | 2016-12-06 18:50:59 +1100

GAMES/PORTS : rename &quot;sound&quot; --&gt; &quot;sound_seq&quot; in action specials.

------------------------------------------------------------------------
50a9f0463262 | Andrew Apted | 2016-12-06 18:46:59 +1100

operations.cfg : changed name of 90-degree arc command.

------------------------------------------------------------------------
be8469affc1d | Andrew Apted | 2016-12-06 18:19:35 +1100

Delete command : simplified to have just a single &quot;/keep&quot; flag,
instead of two variants (keep_things and keep_unused).

------------------------------------------------------------------------
a123703a16b7 | Andrew Apted | 2016-12-06 16:53:52 +1100

Browser : when opening the browser via binding or the menus, and
that type of browser (e.g. textures) is already open, then close it.

This is consistent with what CTRL-D (Defaults panel) and CTRL-F
(Find/Replace panel) do.

------------------------------------------------------------------------
6bde70c1a3cb | Andrew Apted | 2016-12-06 14:56:59 +1100

VT_ShapeArc : fixed error message when selection is empty.

------------------------------------------------------------------------
3c14166d51a3 | Andrew Apted | 2016-12-06 14:13:26 +1100

Grid : made the dotty grid be a preference setting instead of a
three-way toggle (which was confusing and not very useful).

Also draw the square grid when sector rendering is enabled (i.e.
don't force the grid off in that situation).

Lastly, renamed a few config vars to have the &quot;grid_&quot; prefix.

------------------------------------------------------------------------
e7da65cdc70c | Andrew Apted | 2016-12-06 13:34:18 +1100

renamed the &quot;Documentation&quot; command --&gt; &quot;OnlineDocs&quot;.

------------------------------------------------------------------------
3b21966059b3 | Andrew Apted | 2016-12-06 13:20:40 +1100

CHANGELOG update, rejigged the Games/Ports section.

------------------------------------------------------------------------
4c5661dd2239 | Andrew Apted | 2016-12-06 13:18:28 +1100

Menus : added F1..F10 function keys as shortcuts for various menu
items, F2..F4 are the Move/Scale/Rotate dialogs, F5..F8 are browser
functions, F9 is the map checking (ALL), etc.

Also changed &quot;Toggle grid type&quot; --&gt; &quot;Toggle gamma&quot; in VIEW menu.

------------------------------------------------------------------------
4484fd469767 | Andrew Apted | 2016-12-06 00:24:35 +1100

Reorganised command_table[], with new groups &quot;Misc&quot; and &quot;2D View&quot;
replacing the &quot;UI&quot; group, and moving the &quot;General&quot; group down to
be with the linedef/sector/etc operations.

------------------------------------------------------------------------
19a9cec89297 | Andrew Apted | 2016-12-05 23:54:02 +1100

code tidying : use &quot;()&quot; instead of &quot;(void)&quot; for most CMD_xxx functions.

------------------------------------------------------------------------
a5e8d2a7fc57 | Andrew Apted | 2016-12-05 23:47:24 +1100

Set and Toggle commands : support &quot;sec_render&quot; keyword to change
the current sector-rendering mode.

------------------------------------------------------------------------
f1d380e8a61c | Andrew Apted | 2016-12-05 23:36:20 +1100

Fixed sector merging -- unused sectors are now deleted and this
was causing the wrong sector to be re-selected afterwards.

------------------------------------------------------------------------
97b5488e9f56 | Andrew Apted | 2016-12-05 23:26:34 +1100

Fixed vertex merging to clear selection afterwards.

------------------------------------------------------------------------
efa4141be214 | Andrew Apted | 2016-12-05 22:12:16 +1100

PORTS / ZDoom : tidied up all the specials.

------------------------------------------------------------------------
b843d7f87506 | Andrew Apted | 2016-12-05 21:52:49 +1100

PORTS / ZDoom : added all the action specials, adapted (and condensed)
from the SLADE editor.  Not finished yet!

------------------------------------------------------------------------
dc65498211b5 | Andrew Apted | 2016-12-05 19:07:42 +1100

Key system : implemented better system for &quot;lax&quot; modifiers used by
navigation commands, there is now a fake &quot;LAX-&quot; modifier for key
bindings, and it must be present for the lax handling to kick in.

------------------------------------------------------------------------
462b450306b4 | Andrew Apted | 2016-12-05 19:06:54 +1100

TODO : moved stuff around.

------------------------------------------------------------------------
e12c1b96ebcb | Andrew Apted | 2016-12-05 15:34:14 +1100

Key system : replaced Fl::event_shift() and Fl::event_ctrl() with
checks using MOD_SHIFT and MOD_COMMAND, for consistent behavior on
all platforms.

------------------------------------------------------------------------
ff0b0cd4f4a2 | Andrew Apted | 2016-12-05 01:41:32 +1100

Vertex_MergeList : fixed bug where the remaining vertex could also
be deleted (e.g. merging all vertices of an isolated sector).

------------------------------------------------------------------------
a5a0adf499b7 | Andrew Apted | 2016-12-05 00:00:53 +1100

Version bump, as new &quot;Test Map&quot; command is working well.

------------------------------------------------------------------------
dfc32830f386 | Andrew Apted | 2016-12-04 23:59:26 +1100

Win32 : moved the RC file --&gt; src/main.rc

------------------------------------------------------------------------
c87d0a26f096 | Andrew Apted | 2016-12-04 23:53:57 +1100

CHANGELOG and TODO update.

------------------------------------------------------------------------
7e1a81e6b709 | Andrew Apted | 2016-12-04 23:50:23 +1100

Test Map : fixed silly bug, wrong name for resource wads.

------------------------------------------------------------------------
98b1cfd066f6 | Andrew Apted | 2016-12-04 23:25:23 +1100

Test Map : fixed the relative EXE name to have &quot;./&quot; prefix to force
the shell invoked by system() to find the EXE file, and fixed bug
not adding &quot;-file&quot; before the pwad filename.

------------------------------------------------------------------------
b23fb4db54dd | Andrew Apted | 2016-12-04 23:08:44 +1100

Test Map : finished the GrabWadNames() logic.

------------------------------------------------------------------------
10f03bc32063 | Andrew Apted | 2016-12-04 22:57:50 +1100

Test Map : partial work on GrabWadNames() logic, which handles all
the wad filenames (iwad, resources, pwad).  The string management
is proving to be a headache though....

------------------------------------------------------------------------
b002f22a02fa | Andrew Apted | 2016-12-04 22:22:27 +1100

Test Map : code to convert the level name to a warp option.

------------------------------------------------------------------------
ae581c7fa1cc | Andrew Apted | 2016-12-04 21:49:01 +1100

Test Map : in port setup, ensure filename is made absolute when
adding it to the port-path database.

------------------------------------------------------------------------
1782346adb4e | Andrew Apted | 2016-12-04 21:46:05 +1100

Test Map : logic for saving/restoring the current working directory,
and chdir()-ing to the directory of the executable, and converting
the executable name to a relative name.

------------------------------------------------------------------------
6cea23e58c42 | Andrew Apted | 2016-12-04 21:34:07 +1100

lib_file : added FilenameGetPath() utility function.

------------------------------------------------------------------------
db98b44aad76 | Andrew Apted | 2016-12-04 21:14:11 +1100

Test Map : implemented M_IsPortPathValid().

------------------------------------------------------------------------
90f6d1bc8ba9 | Andrew Apted | 2016-12-04 21:08:38 +1100

Test Map : in project setup, only restrict names to &quot;exe&quot; extension
on the Windows platform, since executables in Linux tend to have no
extension at all.

------------------------------------------------------------------------
edc13e203407 | Andrew Apted | 2016-12-04 20:58:16 +1100

Test Map : pre-set the EXE name in the port setup dialog.

------------------------------------------------------------------------
8e49d5aef9e5 | Andrew Apted | 2016-12-04 20:49:38 +1100

Test Map : utility to convert &quot;vanilla&quot; + game to a pseudo port
name, and implemented the FIND button in the port setup dialog.

------------------------------------------------------------------------
49fc6d94bcbe | Andrew Apted | 2016-12-04 20:28:54 +1100

Test Map / port setup : mention the correct port name, with special
handling for vanilla.

------------------------------------------------------------------------
070805f5e990 | Andrew Apted | 2016-12-04 19:59:20 +1100

Test Map : nailed down layout and message text of the source port
setup dialog.

------------------------------------------------------------------------
387e725ca64e | Andrew Apted | 2016-12-04 19:23:35 +1100

Test Map : change of tack, instead of having a dialog open when
using the command, have a &quot;Setup&quot; button in the Manage Project
dialog which opens another dialog for setting up the EXE path.

So did a bit of work in this new direction....

------------------------------------------------------------------------
0069f1dcb865 | Andrew Apted | 2016-12-04 19:01:52 +1100

Test Map : bit more work on UI_TestMapDialog....

------------------------------------------------------------------------
4f4894281dec | Andrew Apted | 2016-12-04 17:53:54 +1100

OperationMenu : don't FatalError() when &quot;operations.cfg&quot; not found,
show a notify dialog instead.

------------------------------------------------------------------------
65bdddb6f23d | Andrew Apted | 2016-12-04 17:38:35 +1100

Test Map : implemented logic for creating/querying the exe path
for a given port, and persisting that data in the &quot;misc.cfg&quot; file.

------------------------------------------------------------------------
a162e6b34b96 | Andrew Apted | 2016-12-04 16:06:31 +1100

Test Map : began work on a dialog window....

------------------------------------------------------------------------
14908a0b3f12 | Andrew Apted | 2016-12-04 15:29:43 +1100

Fix for &quot;Export Map&quot;, always reload resources and do it *after* we
have replaced the current edit_wad.

------------------------------------------------------------------------
effdd2d3c572 | Andrew Apted | 2016-12-04 15:21:28 +1100

Improved code in CMD_OpenMap(), ensure we reload resources when
the edit_map is removed.

------------------------------------------------------------------------
41265c4b8e23 | Andrew Apted | 2016-12-04 14:59:16 +1100

code refactoring in m_loadsave.cc : added ReplaceEditWad().

------------------------------------------------------------------------
cedb68a94f02 | Andrew Apted | 2016-12-04 14:52:03 +1100

code tidying in OpenFileMap() function.

------------------------------------------------------------------------
a9028d2e7ffc | Andrew Apted | 2016-12-04 14:34:38 +1100

minor rename : check_sizes() --&gt; CheckTypeSizes()

------------------------------------------------------------------------
74d1b4382f64 | Andrew Apted | 2016-12-04 14:30:40 +1100

code tidying : more tweaking of comments before functions.

------------------------------------------------------------------------
22f1668ba541 | Andrew Apted | 2016-12-04 14:30:09 +1100

lib_util : more code tidying...

------------------------------------------------------------------------
2b9ecd9fe65d | Andrew Apted | 2016-12-04 14:23:45 +1100

lib_util : simplified y_stricmp() and y_strnicmp() code.

------------------------------------------------------------------------
c273f7f1c8c4 | Andrew Apted | 2016-12-04 14:10:01 +1100

code tidying : tweak comment style before some functions.

------------------------------------------------------------------------
da1ba7ff7357 | Andrew Apted | 2016-12-04 13:59:20 +1100

Menus : enabled the &quot;Test in Game&quot; command in FILE menu.

------------------------------------------------------------------------
7cd2f4850b88 | Andrew Apted | 2016-12-04 13:38:47 +1100

Test Map : moved existing code from m_nodes.cc --&gt; m_testmap.cc

------------------------------------------------------------------------
6bebed59fa3d | Andrew Apted | 2016-12-04 13:32:50 +1100

Added code file &quot;m_testmap.cc&quot; -- this will contain the logic for
running a source port to test (play) the current map.  Empty so far.

------------------------------------------------------------------------
3cfd013845bb | Andrew Apted | 2016-12-04 13:29:07 +1100

Test Map : minor commenting.

------------------------------------------------------------------------
62e1c71fe8c5 | Andrew Apted | 2016-12-04 13:23:15 +1100

Preferences : added a &quot;3D View&quot; tab.

------------------------------------------------------------------------
7913b5d7d3ff | Andrew Apted | 2016-12-04 00:29:44 +1100

TODO update (largish) + CHANGELOG update (smallish).

------------------------------------------------------------------------
d1b443b34bef | Andrew Apted | 2016-12-04 00:00:50 +1100

Added two new commands &quot;Documentation&quot; and &quot;AboutDialog&quot;, and
execute them for the HELP menu.

------------------------------------------------------------------------
0b24e3d66620 | Andrew Apted | 2016-12-03 23:45:34 +1100

Menus : added commands for everything in the FILE menu, such as
&quot;NewProject&quot;, &quot;OpenMap&quot;, &quot;SaveMap&quot;, &quot;PreferenceDialog&quot; -- and the
menu code calls these via ExecuteCommand().

------------------------------------------------------------------------
140fc653430f | Andrew Apted | 2016-12-03 23:25:54 +1100

BrowserMode command : support a &quot;/recent&quot; flag.

------------------------------------------------------------------------
6c80ba6b5f09 | Andrew Apted | 2016-12-03 23:20:05 +1100

Menus : added four new commands &quot;DefaultProps&quot;, &quot;FindDialog&quot;, &quot;FindNext&quot;
and &quot;LogViewer&quot; -- and run these commands in the menu code.

------------------------------------------------------------------------
160d9bca0b03 | Andrew Apted | 2016-12-03 23:13:30 +1100

Bindings : because Insert is on MOUSE3 in vertex mode, we need to
explicitly bind MOUSE3 in render mode to &quot;OperationMenu&quot;.

------------------------------------------------------------------------
96f4bc620725 | Andrew Apted | 2016-12-03 22:58:27 +1100

CHANGELOG and TODO update.

------------------------------------------------------------------------
bdc9abd5a67f | Andrew Apted | 2016-12-03 22:50:50 +1100

Bindings : use '/' instead of ENTER key for the &quot;OperationMenu&quot;
command, since using ENTER key can interfere with input widgets
(like texture names in the Sector panel).

------------------------------------------------------------------------
5afe06109157 | Andrew Apted | 2016-12-03 22:33:26 +1100

Menus : changed several callbacks, e.g. in BROWSER menu, to use
ExecuteCommand() instead of directly performing the action.

------------------------------------------------------------------------
4dd3ea465bfc | Andrew Apted | 2016-12-03 22:29:24 +1100

Zoom command : support /center flag which zooms around the center
of the 2D canvas (instead of around the mouse pointer).

------------------------------------------------------------------------
eeb994cf66de | Andrew Apted | 2016-12-03 22:06:49 +1100

code : fixed a few places not checking M_ParseLine result properly.

------------------------------------------------------------------------
9302f822b399 | Andrew Apted | 2016-12-03 21:42:35 +1100

Operation menu : stop the popup menu being positioned so the last
command used on that menu is under the mouse pointer.

------------------------------------------------------------------------
9393d581cd2a | Andrew Apted | 2016-12-03 21:07:44 +1100

Operation menu : parse the command name and any parameters, and
implemented the callback function to actually execute the command.

------------------------------------------------------------------------
651e54f9997f | Andrew Apted | 2016-12-03 20:58:25 +1100

Key system : added ExecuteCommand() variant which directly uses an
editor_command_t, added a fourth &quot;paramX&quot; parameter, and properly
separate flag names (beginning with '/') from normal parameters.

------------------------------------------------------------------------
24babd1f8d8f | Andrew Apted | 2016-12-03 20:06:14 +1100

Operation Menus : increased font size + better menu headings.

------------------------------------------------------------------------
19501a1d92ce | Andrew Apted | 2016-12-03 20:05:55 +1100

code tidying : whitespace in main.cc

------------------------------------------------------------------------
f9aab5a92a02 | Andrew Apted | 2016-12-03 19:47:53 +1100

Operation menu : parse enough to show menu actions, and implemented
the CMD_OperationMenu() code to popup the appropriate menu.

------------------------------------------------------------------------
5b0885c07822 | Andrew Apted | 2016-12-03 19:17:04 +1100

Fixed bug in M_ParseLine() not handling spaces in string tokens.

------------------------------------------------------------------------
9882ce61324e | Andrew Apted | 2016-12-03 18:09:55 +1100

Operation menu : logic to read and tokenize each line.

------------------------------------------------------------------------
ed6686301e73 | Andrew Apted | 2016-12-03 18:00:45 +1100

Operation menus : worked on the loading code, check for a missing
file or a menu that was not parsed properly.

------------------------------------------------------------------------
ad4108e89760 | Andrew Apted | 2016-12-03 17:45:46 +1100

Began work on Operation menus....

------------------------------------------------------------------------
e9bc9dfda30b | Andrew Apted | 2016-12-03 17:20:14 +1100

Makefile and pack scripts : ensure the new &quot;defaults.cfg&quot; and
&quot;operations.cfg&quot; files get installed / packaged.

------------------------------------------------------------------------
0a8f59e52b32 | Andrew Apted | 2016-12-03 17:14:30 +1100

Preferences / KEYS : prevent a horizontal scrollbar appearing in
the key_list browser, and tweaked layout some more.

------------------------------------------------------------------------
34a6d8337009 | Andrew Apted | 2016-12-03 17:06:06 +1100

Preferences : improved layout of KEYS tab.

------------------------------------------------------------------------
bc68275723b6 | Andrew Apted | 2016-12-03 16:50:32 +1100

Config : added comment to top of the written &quot;config.cfg&quot; file.

------------------------------------------------------------------------
c1acf0441b3b | Andrew Apted | 2016-12-03 16:31:07 +1100

Created &quot;defaults.cfg&quot; file, which contains the default settings.

------------------------------------------------------------------------
265438b58ce5 | Andrew Apted | 2016-12-03 16:27:45 +1100

Preferences : notify user if &quot;defaults.cfg&quot; could not be loaded.

------------------------------------------------------------------------
a779997b479d | Andrew Apted | 2016-12-03 16:13:25 +1100

Preferences : implemented a new &quot;Reset All Settings&quot; button in the
OTHER tab, and moved the &quot;Reset Key Bindings&quot; button here too.
Also improved the wording of the confirmation dialog.

------------------------------------------------------------------------
bb0f0fcc6eef | Andrew Apted | 2016-12-03 15:34:04 +1100

Created &quot;operations.cfg&quot; -- contains the commands for the planned
Operation menu.

------------------------------------------------------------------------
08a0b4763727 | Andrew Apted | 2016-12-03 14:29:35 +1100

BSP : fixed bug when building nodes for maps which end up having a
single subsector and no nodes (partition lines).

------------------------------------------------------------------------
d3974b8229a8 | Andrew Apted | 2016-12-03 13:45:20 +1100

Changed &quot;Fresh Map&quot; to bail when there is no edit_wad, which makes
more sense than falling back to the &quot;New Project&quot; dialog.

------------------------------------------------------------------------
f16711d89ab4 | Andrew Apted | 2016-12-03 13:44:32 +1100

Config : renamed &quot;gui_scheme&quot; so users get the new default (GTK+)

------------------------------------------------------------------------
610af1432c97 | Andrew Apted | 2016-12-03 13:34:50 +1100

Menus : rejig in FILE menu, renamed &quot;New Map&quot; --&gt; &quot;Fresh Map&quot; and
moved it down.

------------------------------------------------------------------------
d9646bfa94fe | Andrew Apted | 2016-12-03 13:13:59 +1100

Config files : added M_ParseDefaultConfigFile() function.

------------------------------------------------------------------------
0d62617c10c6 | Andrew Apted | 2016-12-03 13:06:44 +1100

Menus : moved &quot;View Logs&quot; to the HELP menu.

------------------------------------------------------------------------
488cfa4a42e4 | Andrew Apted | 2016-12-03 01:26:35 +1100

debugging : disabled the check for unused stuff, as I have plugged
most of the holes now.

------------------------------------------------------------------------
18334e765d11 | Andrew Apted | 2016-12-03 01:18:49 +1100

CMD_Delete : fixed an issue where deleting a bunch of vertices
could leave some unused sidedefs.

------------------------------------------------------------------------
7b5959712169 | Andrew Apted | 2016-12-03 01:05:52 +1100

Vertex_MergeList : when sandwich merging, fix flags of remaining
linedef (TWO-SIDED and IMPASSIBLE flags).

------------------------------------------------------------------------
182cd3135548 | Andrew Apted | 2016-12-03 00:57:17 +1100

Vertex_MergeLines : prevent unnecessary sandwich mergers.

------------------------------------------------------------------------
a6c332d0271b | Andrew Apted | 2016-12-03 00:25:20 +1100

Vertex_MergeList : improved the logic, collect ALL linedefs to be
deleted into a selection and do them last, and ensure that ALL
references to a merged-away vertex is changed to the kept one.

------------------------------------------------------------------------
4f300619825e | Andrew Apted | 2016-12-02 23:44:33 +1100

code reorganising in e_vertex.cc

------------------------------------------------------------------------
5067514180b8 | Andrew Apted | 2016-12-02 23:43:00 +1100

minor rename of &quot;Vertex_HowManyLineDefs&quot; function.

------------------------------------------------------------------------
3494b2722f8a | Andrew Apted | 2016-12-02 23:39:44 +1100

Worked on making Vertex_MergeList() be the only conduit for merging
two or more vertices -- however it is still buggy....

------------------------------------------------------------------------
9d44a951e041 | Andrew Apted | 2016-12-02 23:07:43 +1100

Checks : ignore zero-length lines when finding overlapping ones.

------------------------------------------------------------------------
c145f436101c | Andrew Apted | 2016-12-02 22:53:58 +1100

Checks : improved code to remove zero-length linedefs, ensure that
there are no unused sectors or sidedefs afterwards.

------------------------------------------------------------------------
2813e53f2ed5 | Andrew Apted | 2016-12-02 22:24:40 +1100

Made the Vertex_MergeList() not do BA_Begin/BA_End, instead the
calling code does it.

One benefit is that merging overlapping vertices is now a single
undo/redo operation, rather than an operation for each merge pair.

------------------------------------------------------------------------
7d0828a0d9d1 | Andrew Apted | 2016-12-02 22:23:32 +1100

Basis : prevent memory leak in BA_End() when no operations were done.

------------------------------------------------------------------------
bba5efe3f6c5 | Andrew Apted | 2016-12-02 22:00:54 +1100

Vertex panel : implemented 4 arrow buttons for position adjustment.

------------------------------------------------------------------------
0aa4289270a6 | Andrew Apted | 2016-12-02 20:45:05 +1100

TODO and CHANGELOG update.

------------------------------------------------------------------------
ce587c836e6f | Andrew Apted | 2016-12-02 20:42:16 +1100

Drawing mode : when closing a line loop, select ALL vertices of the
newly created sector (to allow switching to sector mode and having
the new sector stay selected).

------------------------------------------------------------------------
ddf26dad9ed4 | Andrew Apted | 2016-12-02 20:27:31 +1100

Drawing mode : fixed several bugs in new Insert_Vertex logic.

------------------------------------------------------------------------
017e5641fda2 | Andrew Apted | 2016-12-02 20:17:13 +1100

Rewrote the Insert_Vertex() code to be easier to understand.

------------------------------------------------------------------------
c028df403736 | Andrew Apted | 2016-12-02 16:58:52 +1100

Canvas : fixed not drawing a highlighted vertex when dragging a
single vertex (which is needed to show a potential merge).

------------------------------------------------------------------------
c422577ad13f | Andrew Apted | 2016-12-02 16:56:53 +1100

Canvas : draw a single dragged vertex as orange, not yellow.

------------------------------------------------------------------------
d90b7fb72340 | Andrew Apted | 2016-12-02 16:37:27 +1100

When assigning a new sector to an area (CTRL-SPACE), ensure any
sectors which are unused afterwards are removed.

------------------------------------------------------------------------
2bae8a5b840e | Andrew Apted | 2016-12-02 16:03:00 +1100

dead code removal (namely DeleteLineDefs).

------------------------------------------------------------------------
36fec0f79b5d | Andrew Apted | 2016-12-02 16:02:07 +1100

Fixed sector merging to not leave unused sectors behind.

------------------------------------------------------------------------
6de9c2715f60 | Andrew Apted | 2016-12-02 15:59:48 +1100

Fixed bug in DeleteObjects_WithUnused().

------------------------------------------------------------------------
84e7bf0117ca | Andrew Apted | 2016-12-02 15:33:47 +1100

Refactored CMD_Delete, have a separate DeleteObjects_WithUnused().

------------------------------------------------------------------------
2109a90b2215 | Andrew Apted | 2016-12-02 15:18:29 +1100

When deleting a vertex and merging the two connecting lines, ensure
we delete any sidedefs that would be unused afterwards.

------------------------------------------------------------------------
799dac3cf083 | Andrew Apted | 2016-12-02 14:25:28 +1100

Debugging code for operations which leave unused sectors or sidedefs.

------------------------------------------------------------------------
42f20bf6f3f8 | Andrew Apted | 2016-12-02 13:16:13 +1100

3D View : fixed pixel aspect handling, larger values should make
each pixel *wider*, and the default should be 0.83 to match what
DOOM originally looked like.

This improved the rendering code too, as two &quot;magic&quot; constants
(Y_SLOPE being 1.7, and 133 in CalcAspect) have been removed.

Also renamed the config variable, so that upgrading users will
get the proper pixel aspect value.

------------------------------------------------------------------------
b2f4f8135e55 | Andrew Apted | 2016-12-02 00:08:31 +1100

CHANGELOG and TODO update.

------------------------------------------------------------------------
05b0339958e2 | Andrew Apted | 2016-12-01 22:37:41 +1100

Preferences : moved &quot;Seg split logic&quot; setting in the Nodes tab.

------------------------------------------------------------------------
7c5a7dae527a | Andrew Apted | 2016-12-01 22:24:57 +1100

BSP : removed vestiges of the &quot;one-sided window trick&quot; handling.

------------------------------------------------------------------------
e504fd372fdb | Andrew Apted | 2016-12-01 20:03:52 +1100

BSP : fixed two issues with ZDoom format:
(1) not sorting the segs unless GL nodes were also built
(2) vertex indices of NEW vertices was wrong

------------------------------------------------------------------------
69568dc59007 | Andrew Apted | 2016-12-01 15:25:14 +1100

BSP : code tidying, renamed &quot;cur&quot; variable --&gt; &quot;seg&quot;.

------------------------------------------------------------------------
6794375bc6ec | Andrew Apted | 2016-12-01 15:12:39 +1100

Sprite loader : recolor the 4001..4004 player starts as blue.

------------------------------------------------------------------------
8e3d6ec4a3a2 | Andrew Apted | 2016-12-01 15:05:55 +1100

PORTS : added player things 4001..4004 to Boom, Odamex and ZDoom.

------------------------------------------------------------------------
7747e6821268 | Andrew Apted | 2016-12-01 14:45:54 +1100

Texture loader : validate the texture count and offset values.

------------------------------------------------------------------------
e7100bbde20d | Andrew Apted | 2016-12-01 13:32:20 +1100

TODO updated.

------------------------------------------------------------------------
cbe8d9685722 | Andrew Apted | 2016-12-01 13:29:31 +1100

Bindings : changed key to open texture-browser back to 'T', since
it is useful in the 3D View but the 'X' key has a binding there.

------------------------------------------------------------------------
3d9131c31d2d | Andrew Apted | 2016-12-01 13:21:52 +1100

Texture loader : use a proper method to detect STRIFE format of
the TEXTURE1/2 lumps (same logic as in ZDoom), and structured the
code better.

------------------------------------------------------------------------
a56ae864e7e0 | Andrew Apted | 2016-12-01 00:39:51 +1100

Bindings : restore 'q' to be Quantize (after testing some stuff).

------------------------------------------------------------------------
d3a772629e54 | Andrew Apted | 2016-12-01 00:39:01 +1100

Code : more tidying....

------------------------------------------------------------------------
f64026a19dd4 | Andrew Apted | 2016-12-01 00:23:14 +1100

Disabled the half-finished feature to show thing skills via color
(on the 2D canvas).  May revisit the idea later....

------------------------------------------------------------------------
3b564712103f | Andrew Apted | 2016-12-01 00:18:59 +1100

Code : minor tidying.

------------------------------------------------------------------------
e7a9c6660529 | Andrew Apted | 2016-11-30 23:45:58 +1100

Code : simplified M_ParseCommandLine() and M_ParseEnvironmentVars()
to be void functions, as they never returned anything meaningful.

------------------------------------------------------------------------
3dde64363cec | Andrew Apted | 2016-11-30 23:26:19 +1100

BSP : for CMD_BuildAllNodes, check earlier if no levels exist, and
removed the duplicated SetErrorMsg() code.

------------------------------------------------------------------------
ca42f3c54896 | Andrew Apted | 2016-11-30 23:11:43 +1100

minor tweak.

------------------------------------------------------------------------
5f8f5205597b | Andrew Apted | 2016-11-30 22:46:18 +1100

TODO update.

------------------------------------------------------------------------
426358794acd | Andrew Apted | 2016-11-30 22:45:06 +1100

BSP : implemented the XNOD format (for ZDoom nodes).

------------------------------------------------------------------------
e76e13671f1d | Andrew Apted | 2016-11-30 22:27:18 +1100

BSP : compute a &quot;max_size&quot; when saving ZDoom format NODES.

------------------------------------------------------------------------
cb7f10ea5c7a | Andrew Apted | 2016-11-30 22:25:36 +1100

BSP : free the message string in nodebuildinfo_t destructor.

------------------------------------------------------------------------
628be7fef492 | Andrew Apted | 2016-11-30 21:52:08 +1100

BSP : actually honor the &quot;Build Nodes on Save&quot; setting.

------------------------------------------------------------------------
9f1b016c2d19 | Andrew Apted | 2016-11-30 21:49:40 +1100

Preferences : removed (hidden) the &quot;Force zlib compression&quot; setting
of the Nodes panel -- this is probably not worth supporting.

------------------------------------------------------------------------
aafd2bd2bc38 | Andrew Apted | 2016-11-30 21:45:26 +1100

BSP : prevent node-building a map twice in the case where the user
has not saved the map, uses the &quot;BuildAllNodes&quot; command, and is
asked whether to save the map and they choose yes.

------------------------------------------------------------------------
86a9d4c9426f | Andrew Apted | 2016-11-30 21:35:58 +1100

BSP : handle it when the map is empty (no linedefs etc...)

------------------------------------------------------------------------
890c5bb01498 | Andrew Apted | 2016-11-30 19:55:03 +1100

PORTS / ZDoom : include &quot;hexen_specials.ugh&quot;

------------------------------------------------------------------------
0a32ce5fef27 | Andrew Apted | 2016-11-30 19:47:41 +1100

GAMES / Hexen : move special defs --&gt; &quot;common/hexen_specials.ugh&quot;

------------------------------------------------------------------------
a5033d194ab2 | Andrew Apted | 2016-11-30 19:40:44 +1100

Removed &quot;xlat_doom.cfg&quot; and &quot;xlat_hexen.cfg&quot; files, they are unused
and almost empty, and I plan translate maps in a different way.

------------------------------------------------------------------------
ce0d618837e5 | Andrew Apted | 2016-11-30 19:39:07 +1100

Game def parser : ignore &quot;special&quot; commands in DOOM map format,
and &quot;line&quot; commands in HEXEN map format.

------------------------------------------------------------------------
3cb5c2e4de1d | Andrew Apted | 2016-11-30 19:22:52 +1100

doc tweaks.

------------------------------------------------------------------------
3b9cd49d380b | Andrew Apted | 2016-11-30 19:12:14 +1100

CHANGELOG : rearranged stuff and clarified some entries.

------------------------------------------------------------------------
3eaf698d86ed | Andrew Apted | 2016-11-30 18:55:00 +1100

TODO update.

------------------------------------------------------------------------
011628b07067 | Andrew Apted | 2016-11-30 18:37:07 +1100

Menus : added &quot;Toggle Sprites&quot; to the VIEW menu.

------------------------------------------------------------------------
362423bfeb22 | Andrew Apted | 2016-11-30 18:32:58 +1100

Support new &quot;sprites&quot; keyword to Set and Toggle commands.

------------------------------------------------------------------------
1fdc8d58e298 | Andrew Apted | 2016-11-30 18:30:42 +1100

Fixed the broken &quot;Set&quot; command (it parsed wrong argument).

------------------------------------------------------------------------
dc272fa4bb9a | Andrew Apted | 2016-11-30 18:19:51 +1100

UI : control thing drawing on 2D canvas via &quot;edit.thing_render_mode&quot;,
and added new config variable &quot;thing_render_default&quot; for it.

------------------------------------------------------------------------
16c326274b98 | Andrew Apted | 2016-11-30 16:58:21 +1100

CHANGELOG : updated, especially for recent binding changes.

------------------------------------------------------------------------
a9db41fc0e19 | Andrew Apted | 2016-11-30 16:38:42 +1100

CHANGELOG and TODO update.

------------------------------------------------------------------------
c882282ac702 | Andrew Apted | 2016-11-30 16:36:52 +1100

UI : when bringing up a file chooser, set the default directory to
a better value (namely: where the current PWAD is located).

------------------------------------------------------------------------
073d58d1501b | Andrew Apted | 2016-11-30 16:35:24 +1100

PORTS / Odamex : fixed having &quot;end&quot; instead of &quot;endif&quot;.

------------------------------------------------------------------------
33f229170444 | Andrew Apted | 2016-11-30 16:07:32 +1100

CMD_Insert : don't try inserting stuff when 3D View is active
(it can lead to strange things happening).

------------------------------------------------------------------------
b53cfdc59c8f | Andrew Apted | 2016-11-30 16:04:10 +1100

UI : when toggling the 3D view, give keyboard focus to the widget
that is now active (render or canvas).

------------------------------------------------------------------------
089d794e3bca | Andrew Apted | 2016-11-30 14:42:23 +1100

Sector panel : layout tweaks.

------------------------------------------------------------------------
83e478c1b3d6 | Andrew Apted | 2016-11-30 14:27:52 +1100

Sector panel : changed &quot;72&quot; headroom button --&gt; &quot;64&quot;.

------------------------------------------------------------------------
b7a3307044b2 | Andrew Apted | 2016-11-30 14:20:10 +1100

UI : made default window size be a bit wider.

------------------------------------------------------------------------
463ae50ef644 | Andrew Apted | 2016-11-30 14:16:16 +1100

UI : default theme is now &quot;GTK+&quot;

------------------------------------------------------------------------
789c4f614d29 | Andrew Apted | 2016-11-30 14:07:54 +1100

UI : rejig colors for infobar edit-mode and free/snap widgets.

------------------------------------------------------------------------
7588b197d534 | Andrew Apted | 2016-11-30 14:07:03 +1100

Preferences : rejig order of themes and colorsets.

------------------------------------------------------------------------
32caab6d2079 | Andrew Apted | 2016-11-30 13:36:12 +1100

Bindings : bind 'a' to NAV_MouseScroll, 'MENU' to OperationMenu.

------------------------------------------------------------------------
f16ffae769a1 | Andrew Apted | 2016-11-30 00:54:29 +1100

dead code removal.

------------------------------------------------------------------------
d93abc4836fd | Andrew Apted | 2016-11-30 00:49:58 +1100

ACT_Click : when splitting a linedef, if BOTH ends of the linedef
are in the selection then select the new vertex too.

------------------------------------------------------------------------
4406f60b0ce5 | Andrew Apted | 2016-11-30 00:45:10 +1100

ACT_Click : support &quot;/split&quot; flag to allow splitting a linedef,
and ensure we can drag the new vertex when keeping the button
held down.

------------------------------------------------------------------------
191888863519 | Andrew Apted | 2016-11-30 00:08:57 +1100

Preferences : small tidy up.

------------------------------------------------------------------------
0512bed406c6 | Andrew Apted | 2016-11-30 00:08:15 +1100

Bindings : 'g' key now toggles the grid on/off.

------------------------------------------------------------------------
f9f32dc312da | Andrew Apted | 2016-11-30 00:04:54 +1100

Removed the &quot;multi_select_modifier&quot; config variable.

------------------------------------------------------------------------
87b501b68d33 | Andrew Apted | 2016-11-30 00:01:30 +1100

Removed the &quot;easier_drawing_mode&quot; config variable.

------------------------------------------------------------------------
5a4faa737ef2 | Andrew Apted | 2016-11-29 23:55:26 +1100

dead code removal.

------------------------------------------------------------------------
b8b8640e0f55 | Andrew Apted | 2016-11-29 23:04:14 +1100

Removed the never-used &quot;mods&quot; folder + support code.

Rationale: the idea here was to include definition files for some
famous DOOM mods with Eureka.  However, none have been made so far
and none are currently planned, and if we ever make some then they
can simply be distributed as separate packages.

------------------------------------------------------------------------
b14113ad8a24 | Andrew Apted | 2016-11-29 22:57:08 +1100

TODO and CHANGELOG update.

------------------------------------------------------------------------
0524f44062b5 | Andrew Apted | 2016-11-29 22:46:27 +1100

Bindings : bind ENTER key to &quot;OperationMenu&quot; command.

------------------------------------------------------------------------
9c98bbdf6748 | Andrew Apted | 2016-11-29 22:34:58 +1100

Delete command : fixed bug where deleting a loop of linedefs (or
their vertices) of an island inside another sector could delete
the outer sector too.

------------------------------------------------------------------------
7e7b9e502767 | Andrew Apted | 2016-11-29 21:49:09 +1100

TODO.txt : a few additions.

------------------------------------------------------------------------
9d3ea15b1dde | Andrew Apted | 2016-11-29 21:44:30 +1100

Texture aligning : disabled the partial comparison of tex names,
as it can lead to unexpected/confusing/surprising results.

------------------------------------------------------------------------
d06fdc2522c5 | Andrew Apted | 2016-11-29 21:28:17 +1100

Began work on &quot;OperationMenu&quot; command.....

------------------------------------------------------------------------
070c17e57843 | Andrew Apted | 2016-11-29 21:27:54 +1100

Bindings : removed the CMD-MOUSE1 binding.

------------------------------------------------------------------------
58815c0ad581 | Andrew Apted | 2016-11-29 20:59:47 +1100

Bindings : MOUSE3 in vertex mode is now &quot;Insert&quot; (begins line drawing),
and MOUSE3 (with and without CTRL) in other modes is &quot;OperationMenu&quot;
(which is not implemented yet, but will bring up a menu of operations).

------------------------------------------------------------------------
01ebe1dbcf9a | Andrew Apted | 2016-11-29 20:55:11 +1100

Bindings : aesthetic changes only, use comments to mark each
section of the file, moved all mouse button stuff to the top.

------------------------------------------------------------------------
af96039ad0c6 | Andrew Apted | 2016-11-29 20:47:58 +1100

Bindings : moved map-scroll/3d-navigation stuff from RMB --&gt; MMB.

------------------------------------------------------------------------
88574413ffb2 | Andrew Apted | 2016-11-29 20:42:25 +1100

Bindings : moved the scale/rotate/adjust-offset commands to 'r' key
(plus modifiers), freeing up the middle mouse button.

------------------------------------------------------------------------
9d9ecc4711b5 | Andrew Apted | 2016-11-29 20:41:12 +1100

EditMode command : handle unknown modes better.

------------------------------------------------------------------------
8ea6ed01156a | Andrew Apted | 2016-11-29 19:50:08 +1100

LineDef panel : renamed &quot;block walk&quot; flag --&gt; &quot;impassible&quot;.

------------------------------------------------------------------------
256ca5d76064 | Andrew Apted | 2016-11-29 19:46:03 +1100

Default grid snapping and show-grid are now OFF.

------------------------------------------------------------------------
b7bad16888b2 | Andrew Apted | 2016-11-29 19:38:45 +1100

Default editing mode is now &quot;Vertices&quot;, since that is where line
drawing happens, so it is the most common mode to use (especially
when starting a new map).

------------------------------------------------------------------------
5aa4057c399e | Andrew Apted | 2016-11-29 18:43:29 +1100

ACT_Click : re-implemented ability to select/deselect objects.

------------------------------------------------------------------------
342af568d2ab | Andrew Apted | 2016-11-29 18:25:28 +1100

ACT_Click : re-implemented ability to drag objects.

------------------------------------------------------------------------
2fc34192b5cc | Andrew Apted | 2016-11-29 18:13:19 +1100

Bindings : bound &quot;ACT_SelectBox&quot; to SHIFT-MOUSE1.

------------------------------------------------------------------------
80c474d96ea3 | Andrew Apted | 2016-11-29 18:08:25 +1100

ACT_Click : start a selection-box when clicking in an empty area
(requiring the &quot;/select&quot; flag).

------------------------------------------------------------------------
f41758a7f505 | Andrew Apted | 2016-11-29 16:27:14 +1100

Key system : removed &quot;button_down&quot; and &quot;button_mod&quot; fields from
the global editor state.

------------------------------------------------------------------------
c4ecbb30bd17 | Andrew Apted | 2016-11-29 15:51:41 +1100

Key system : began work to handle &quot;MOUSE1&quot; (aka LMB) as a normal
bindable command: &quot;ACT_Click&quot;.  So far it is very broken....

------------------------------------------------------------------------
d593372c6ba3 | Andrew Apted | 2016-11-29 14:13:20 +1100

Key system : honor the speed parameter of &quot;NAV_MouseScroll&quot; and
&quot;3D_NAV_MouseMove&quot; commands.

------------------------------------------------------------------------
da0bff6f09b8 | Andrew Apted | 2016-11-29 13:47:30 +1100

Key system : handle SHIFT properly for &quot;3D_ACT_AdjustOfs&quot; command.

------------------------------------------------------------------------
65163383afc3 | Andrew Apted | 2016-11-29 13:42:13 +1100

Key system : for navigation in 2D or 3D views, support SHIFT and CTRL
modifiers to slow down / speed up the movement.

------------------------------------------------------------------------
fc8e232382ef | Andrew Apted | 2016-11-29 13:17:11 +1100

Key system : split NAV_Scroll_X command into two (_Left and _Right),
and also NAV_Scroll_Y into _Up and _Down variants.  This makes the
scrolling work a bit more fluidly.

------------------------------------------------------------------------
b3db855c89f6 | Andrew Apted | 2016-11-29 12:47:49 +1100

Key system : split &quot;NAV_MouseScroll&quot; into two commands, where one
is specifically for the 3D View, namely &quot;3D_NAV_MouseMove&quot;.

------------------------------------------------------------------------
20dcea9d7379 | Andrew Apted | 2016-11-28 23:56:44 +1100

TODO.txt : added a few things.

------------------------------------------------------------------------
7d3c74afa709 | Andrew Apted | 2016-11-28 23:51:21 +1100

Renamed the &quot;Check&quot; command --&gt; &quot;MapCheck&quot;, with some code to
ensure backwards compatibility when loading key bindings.

------------------------------------------------------------------------
4e7b75defa36 | Andrew Apted | 2016-11-28 23:33:07 +1100

Bindings : removed SHIFT and CMD versions of the 3D_NAV_xxx binds,
since the code now handles this explicitly.

------------------------------------------------------------------------
396baab927a2 | Andrew Apted | 2016-11-28 23:24:50 +1100

Key system : once a navigation or action is underway, ignore it
when only the modifiers have changed (i.e. the bare key or button
is still pressed).

------------------------------------------------------------------------
114bc655a9d6 | Andrew Apted | 2016-11-28 23:15:27 +1100

Key system : updated Nav_SetKey() and Nav_UpdateKeys() to handle
commands that use &quot;lax_mods&quot;, mainly the NAV_xxx commands.

------------------------------------------------------------------------
0fe6bdfbcdb4 | Andrew Apted | 2016-11-28 22:39:47 +1100

Key system : allow certain commands, especially &quot;NAV_xxx&quot; ones, to
specify one or more modifiers which it uses directly.  Matching a
binding will allow any of these &quot;lax_mods&quot; to be present or absent.

------------------------------------------------------------------------
a5611c121b12 | Andrew Apted | 2016-11-28 21:10:56 +1100

CHANGELOG : minor update.

------------------------------------------------------------------------
8660f3ac9e4e | Andrew Apted | 2016-11-28 20:31:01 +1100

Preferences / key bindings : worked on a &quot;Choose&quot; button which
shows a nice menu of available functions, grouped into categories.

------------------------------------------------------------------------
3651ce28553a | Andrew Apted | 2016-11-28 16:18:03 +1100

Key system : added a &quot;group_name&quot; field to editor_command_t, and
give most commands an apropriate name.  Commands that only apply
to a single editing mode (SEC_Floor etc) are computed from that.

------------------------------------------------------------------------
fa54698cbb5d | Andrew Apted | 2016-11-28 14:59:33 +1100

Preferences / key bindings : the &quot;grab&quot; mode now accepts mouse
buttons (including the mouse-wheel).

------------------------------------------------------------------------
4f2737d63c7b | Andrew Apted | 2016-11-28 14:59:04 +1100

Key system : added M_RawKeyForEvent() and M_CookedKeyForEvent()
utility functions.

------------------------------------------------------------------------
18714fef4f2b | Andrew Apted | 2016-11-28 14:15:15 +1100

Preferences : in the Edit Key dialog, added a &quot;Grab&quot; button which
waits for the next key press.

------------------------------------------------------------------------
3abb13a01228 | Andrew Apted | 2016-11-28 13:48:20 +1100

Preferences : made window slightly taller, and worked on the Key
binding tab to have an &quot;Add&quot; button, renamed &quot;Bind&quot; --&gt; &quot;Re-bind&quot;.

------------------------------------------------------------------------
e14a897f2845 | Andrew Apted | 2016-11-28 10:51:43 +1100

Key system : remove menu shortcuts when that key has a binding,
allowing keys previously hard-coded in the menus to be used for
other functions (and preventing user confusion too).

------------------------------------------------------------------------
fb2a8c97332b | Andrew Apted | 2016-11-28 10:24:57 +1100

TODO and CHANGELOG update.

------------------------------------------------------------------------
89afd3fdd697 | Andrew Apted | 2016-11-28 10:18:34 +1100

main() : separated FLTK setup stuff from opening the main window,
load the key bindings before opening the main window, and tweaked
the &quot;init_progress&quot; handling.

------------------------------------------------------------------------
d045f5df8b74 | Andrew Apted | 2016-11-28 00:57:07 +1100

UI : at startup, use Fl::focus() on the canvas widget to allow
keyboard events to be handled, even when the mouse has not
entered the main window yet.

------------------------------------------------------------------------
05a191a8611d | Andrew Apted | 2016-11-27 23:01:46 +1100

PORTS : changed &quot;include boom&quot; --&gt; &quot;include mbf&quot; for most ports.

------------------------------------------------------------------------
88cc5d91d7cc | Andrew Apted | 2016-11-27 22:59:00 +1100

PORTS : added definition for MBF, removed MBF stuff from boom.ugh

------------------------------------------------------------------------
d9925e12a94f | Andrew Apted | 2016-11-27 20:12:41 +1100

Version bump, for support of the HARMONY TC.

------------------------------------------------------------------------
64a073a88f55 | Andrew Apted | 2016-11-27 20:12:12 +1100

Canvas : support &quot;scale&quot; for sprites on the 2D view.

------------------------------------------------------------------------
270d8e78905d | Andrew Apted | 2016-11-27 20:09:33 +1100

Renderer : support thing &quot;scale&quot; values.

------------------------------------------------------------------------
a572c9d5d0f6 | Andrew Apted | 2016-11-27 19:40:41 +1100

UI : support thing &quot;scale&quot; value in the UI_PIC widget.

------------------------------------------------------------------------
c6fb593b0f82 | Andrew Apted | 2016-11-27 19:11:07 +1100

PORTS : enabled &quot;lax_sprites&quot; feature for Boom (and hence every
port which is Boom-compatible), and ZDoom.

------------------------------------------------------------------------
b585669f4f89 | Andrew Apted | 2016-11-27 19:07:51 +1100

GAMES / Harmony : enable the &quot;lax_sprites&quot; feature.

------------------------------------------------------------------------
7d25625f3fab | Andrew Apted | 2016-11-27 19:06:54 +1100

Game defs : support a &quot;lax_sprites&quot; feature which allows finding
sprite graphics outside of the S_START..S_END namespace.

------------------------------------------------------------------------
f93578e37e12 | Andrew Apted | 2016-11-27 18:47:30 +1100

CHANGELOG update.

------------------------------------------------------------------------
618f625957f0 | Andrew Apted | 2016-11-27 18:43:17 +1100

Harmony : added &quot;c&quot; (ceiling) and &quot;l&quot; (lit) flags to things.

------------------------------------------------------------------------
d3257086e681 | Andrew Apted | 2016-11-27 18:33:49 +1100

Harmony : more fixes to thing defs, esp. what sprites are used.

------------------------------------------------------------------------
3b7f689119d9 | Andrew Apted | 2016-11-27 17:20:55 +1100

Harmony : removed thing 2008 -- not used in this game.

------------------------------------------------------------------------
cf37853e398b | Andrew Apted | 2016-11-27 17:17:22 +1100

Harmony : fixed numerous thing definitions, like the &quot;Beastling&quot;.

------------------------------------------------------------------------
14b7fac7f4e9 | Andrew Apted | 2016-11-27 14:30:27 +1100

Harmony : fleshed out most of the things, based on the DEHACKED
lump that exists in the harmony wad.

------------------------------------------------------------------------
1a0f0b4456c8 | Andrew Apted | 2016-11-25 22:23:45 +1100

Thing panel : prevent the arrow buttons overlapping.

------------------------------------------------------------------------
160bac6276eb | Andrew Apted | 2016-11-25 21:40:03 +1100

Game def parser : allow &quot;thing&quot; defs to supply a scale value.

------------------------------------------------------------------------
d806faf600fa | Andrew Apted | 2016-11-25 21:27:47 +1100

Harmony : workaround for the COLORMAP being broken.

Color #0 of the palette is pure black, and colormap #0 keeps it
black, but in colormap #1 it becomes bright white and darkens
over subsequent colormaps as though it it were a white color.

------------------------------------------------------------------------
1918d9a5440e | Andrew Apted | 2016-11-25 20:43:48 +1100

Game defs : beginnings of a HARMONY v1.1 definition file.

------------------------------------------------------------------------
c6d5c2f7314e | Andrew Apted | 2016-11-25 19:33:02 +1100

minor tweaks.

------------------------------------------------------------------------
581eaea46c8b | Andrew Apted | 2016-11-25 19:24:04 +1100

Code tidying : ensure functions for all commands have &quot;CMD_&quot; prefix
(except for rendering commands which have &quot;R3D_&quot; prefix).

------------------------------------------------------------------------
fa26728634ce | Andrew Apted | 2016-11-25 19:10:43 +1100

CHANGELOG and TODO update.

------------------------------------------------------------------------
776b3a028fc9 | Andrew Apted | 2016-11-25 18:19:45 +1100

Image code : merged im_arrows.cc --&gt; im_img.c and reformatted.

------------------------------------------------------------------------
1ffa048cc96e | Andrew Apted | 2016-11-25 18:15:00 +1100

Image code : moved IM_CreateDogSprite() --&gt; im_img.cc

------------------------------------------------------------------------
d906c607af43 | Andrew Apted | 2016-11-25 18:14:06 +1100

Tweaked handling of opening the most-recent pwad file.

------------------------------------------------------------------------
f6f15ec579af | Andrew Apted | 2016-11-25 17:13:08 +1100

Fixed the double loading of all resources at startup.

------------------------------------------------------------------------
722a174ef842 | Andrew Apted | 2016-11-25 16:51:35 +1100

GAMES and PORTS : prevent Boom definitions being used in non-Doom
games like Heretic and Strife.

------------------------------------------------------------------------
27631dbee790 | Andrew Apted | 2016-11-25 16:42:09 +1100

Game def parser : properly support variables in &quot;if&quot; directive.

------------------------------------------------------------------------
1ec129533070 | Andrew Apted | 2016-11-25 15:11:10 +1100

Game def parser : store tokens in a non-allocated buffer, which
reduces how much memory is leaked.

------------------------------------------------------------------------
4720f3bc718c | Andrew Apted | 2016-11-25 14:59:21 +1100

Game def parser : pre-set the $MAP_FORMAT variable.

------------------------------------------------------------------------
f76d15c14df4 | Andrew Apted | 2016-11-25 14:44:27 +1100

Game def parser : changed how PURPOSE_GameCheck and PURPOSE_PortCheck
modes work, they now ignore *everything* except their keywords. That
means the &quot;include&quot;, &quot;set&quot; and &quot;if&quot;...&quot;endif&quot; directives are NOT
handled in these two modes.

Rationale here is to keep those modes as simple as possible, as the
handling of variables and conditionals was going to be difficult
to implement and potentially confusing.

------------------------------------------------------------------------
4c30824d2658 | Andrew Apted | 2016-11-25 13:23:52 +1100

Game def parser : implemented new &quot;set&quot; command.

------------------------------------------------------------------------
10b9d5854a7e | Andrew Apted | 2016-11-25 12:53:36 +1100

minor rename : dump_command_line_options --&gt; M_PrintCommandLineOptions.

------------------------------------------------------------------------
6097e9f3f4d1 | Andrew Apted | 2016-11-24 23:38:57 +1100

PORTS / ZDoom : only include &quot;boom.ugh&quot; file when map_format is DOOM,
preventing Boom stuff being enabled in HEXEN format maps.

------------------------------------------------------------------------
d52de6689dca | Andrew Apted | 2016-11-24 23:36:23 +1100

Game def parser : support lines of the form &quot;if $MAP_FORMAT is XXX&quot;
where XXX can be DOOM or HEXEN, which allows including or excluding
definitions based on the current map's format.

------------------------------------------------------------------------
c974a41d42fb | Andrew Apted | 2016-11-24 23:21:07 +1100

PORTS / Boom : removed the obsolete &quot;exclude_game&quot; lines.

------------------------------------------------------------------------
25b999d85252 | Andrew Apted | 2016-11-24 22:42:35 +1100

PORTS : treat &quot;vanilla&quot; as a special (fake) port, keeping its
definition file empty (except for some comments), and have some
special checks in the code e.g. can use it for *ANY* game.

------------------------------------------------------------------------
870d183baa60 | Andrew Apted | 2016-11-24 22:08:37 +1100

PORTS : changed &quot;medusa_bug&quot; feature --&gt; &quot;medusa_fixed&quot;, and use
that in all the ports which fix the Medusa bug.

------------------------------------------------------------------------
83203bfa4668 | Andrew Apted | 2016-11-24 21:38:50 +1100

Code tidying : removed trailing whitespace in all files.

------------------------------------------------------------------------
1fc634730d2e | Andrew Apted | 2016-11-24 21:35:33 +1100

Code files : yet another rename: e_misc.cc/h --&gt; e_main.cc/h

------------------------------------------------------------------------
39e7e96e73c2 | Andrew Apted | 2016-11-24 21:31:39 +1100

Code tidying : various minor changes (e.g. constructors).

------------------------------------------------------------------------
afae83fc9da9 | Andrew Apted | 2016-11-24 21:07:53 +1100

Code tidying : removed several functions/methods which are unused,
and never likely to be useful.

------------------------------------------------------------------------
95e874113897 | Andrew Apted | 2016-11-24 20:47:00 +1100

Code : fixed some memory alloc/dealloc issues.

------------------------------------------------------------------------
9147391d11fe | Andrew Apted | 2016-11-24 20:45:56 +1100

Selection class : added a constructor for selection_iterator_c,
plus some asserts checking that the iterator is valid.

------------------------------------------------------------------------
fb26f325f250 | Andrew Apted | 2016-11-24 20:08:09 +1100

(part of previous commit : removed the empty editloop.h file)

------------------------------------------------------------------------
fe9122ff16d3 | Andrew Apted | 2016-11-24 20:05:33 +1100

Code files : renamed editloop.cc/h --&gt; m_events.cc/h

------------------------------------------------------------------------
f4d62c61134f | Andrew Apted | 2016-11-24 19:58:57 +1100

Code tidying : moved RedrawMap(), ZoomWholeMap(), GetCurrentObjs(),
UpdateXXX() and Editor_ChangeMode() functions --&gt; e_misc.cc

------------------------------------------------------------------------
6ffd9607cd56 | Andrew Apted | 2016-11-24 19:48:44 +1100

Code tidying : moved Editor_State_t struct, &quot;edit&quot; global, the
Editor_Init() function and few other bits ---&gt; e_misc.cc/h

------------------------------------------------------------------------
49ae44206739 | Andrew Apted | 2016-11-24 19:35:20 +1100

Code files : moved command funcs in editloop.cc --&gt; e_commands.cc

------------------------------------------------------------------------
536dbf8dd97c | Andrew Apted | 2016-11-24 18:50:39 +1100

Code files : renamed x_hover.cc/h --&gt; e_hover.cc/h

------------------------------------------------------------------------
630ce6ea7341 | Andrew Apted | 2016-11-24 18:42:43 +1100

Code files : merged x_loop.cc/h --&gt; e_sector.cc/h

------------------------------------------------------------------------
1b305b71bb5e | Andrew Apted | 2016-11-24 18:30:42 +1100

Code files : renamed levels.cc/h --&gt; e_misc.cc/h

------------------------------------------------------------------------
cbbde3785688 | Andrew Apted | 2016-11-24 18:06:31 +1100

Code tidying : moved AngleBetweenLines() --&gt; e_linedef.cc

------------------------------------------------------------------------
c17708a1c2dd | Andrew Apted | 2016-11-24 16:33:24 +1100

Code files : renamed e_loadsave and e_nodes --&gt; &quot;m_&quot; prefix.

------------------------------------------------------------------------
cd52ab2cb72f | Andrew Apted | 2016-11-24 16:12:14 +1100

Code files : merged x_mirror.cc/h --&gt; e_objects.cc/h

------------------------------------------------------------------------
2e1551b895b2 | Andrew Apted | 2016-11-24 16:06:55 +1100

Code tidying : moved Texture_MatchPattern() --&gt; ui_browser.cc

------------------------------------------------------------------------
844c1981b10b | Andrew Apted | 2016-11-24 16:04:15 +1100

Code files : renamed objects.cc/h --&gt; e_objects.cc/h

------------------------------------------------------------------------
57f120e8d51e | Andrew Apted | 2016-11-24 15:58:42 +1100

Code files : merged e_checks2.cc --&gt; e_checks.cc

------------------------------------------------------------------------
c33e741d9f47 | Andrew Apted | 2016-11-24 15:51:19 +1100

Code files : merged w_flat.* and w_sprite.* --&gt; w_texture.*

------------------------------------------------------------------------
d31af0918532 | Andrew Apted | 2016-11-24 15:41:24 +1100

TODO : minor update.

------------------------------------------------------------------------
62eadae19c34 | Andrew Apted | 2016-11-24 14:51:49 +1100

Ensure the &quot;Level_format&quot; is known for each Main_LoadResources()
call, since it can affect the parsing of the config files.

------------------------------------------------------------------------
766d029b1cf6 | Andrew Apted | 2016-11-24 14:32:32 +1100

BSP : for &quot;Build All Nodes&quot; command, don't reload the current level
afterwards (as there is no need), and fixed order of the initial
checks (i.e. editing a pwad *before* MadeChanges check).

------------------------------------------------------------------------
dfe187d0031f | Andrew Apted | 2016-11-24 13:37:40 +1100

Overhauled handling of textures which are empty strings:
-  on map load, detect this in SIDEDEFS and convert to &quot;-&quot;
-  typing an empty string in LineDef panel converts it to &quot;-&quot;
-  removed the confusing &quot;is_missing_tex()&quot; function

------------------------------------------------------------------------
b41e0fc5ada2 | Andrew Apted | 2016-11-24 13:05:29 +1100

UI : improved layout in &quot;Open Map&quot; dialog, moved PWAD name to the top,
since that is the most important thing when the user wants to open a
new file.  Also simplified the radio buttons into a choice menu.

------------------------------------------------------------------------
262afbe3c76d | Andrew Apted | 2016-11-24 12:21:27 +1100

Check / textures : fixed the unknown texture &quot;FIX&quot; button from
changing the &quot;-&quot; empty texture on uppers and lowers.

------------------------------------------------------------------------
37395213504d | Andrew Apted | 2016-11-23 22:42:19 +1100

CHANGELOG update.

------------------------------------------------------------------------
4daf3140d005 | Andrew Apted | 2016-11-23 22:40:47 +1100

Fixed another case of a wad file not being closes when the user
cancels the parsing of the &quot;__EUREKA&quot; lump.  Also improved the
code in the UI_OpenMap class, made it easier to understand.

------------------------------------------------------------------------
d277b20d0748 | Andrew Apted | 2016-11-23 22:04:45 +1100

Fixed not closing an opened wad when parsing an &quot;__EUREKA&quot; lump,
detecting missing resources, and the user decided to cancel.

------------------------------------------------------------------------
540bdaee5c1f | Andrew Apted | 2016-11-23 18:19:00 +1100

TODO update.

------------------------------------------------------------------------
d660e44c6f08 | Andrew Apted | 2016-11-23 18:17:19 +1100

BSP : actually use the new preference settings, transfer the values
into the nodebuildinto_t structure.

------------------------------------------------------------------------
f5c73ad4a82a | Andrew Apted | 2016-11-23 17:14:48 +1100

Preferences : added config variables for the new &quot;Nodes&quot; settings,
and ensure they are properly reflected in the preferences UI.

------------------------------------------------------------------------
ee95ee205030 | Andrew Apted | 2016-11-23 16:49:21 +1100

Preferences : finalized the layout of the new &quot;Nodes&quot; tab.

[ None of the additional settings do anything yet.... ]

------------------------------------------------------------------------
9f1c729ce086 | Andrew Apted | 2016-11-23 16:27:32 +1100

BSP : moved the &quot;RoundPOW2&quot; function --&gt; lib_util.cc/h

------------------------------------------------------------------------
362d7b84fc2f | Andrew Apted | 2016-11-23 16:26:42 +1100

Preferences : moved the &quot;Keys&quot; tab to the second spot.

------------------------------------------------------------------------
837f6c03d4d2 | Andrew Apted | 2016-11-23 15:22:11 +1100

BSP : removed no-longer-used PrintMsg() function, added a warning
message when the level structure seems broken.

------------------------------------------------------------------------
3cd09c4557e8 | Andrew Apted | 2016-11-23 15:14:28 +1100

BSP : added &quot;total_failed_maps&quot; field to nodebuildinfo_t, also
renamed the warning fields and the warning functions --&gt; Warning()
and MinorWarning().

------------------------------------------------------------------------
1070ce65e912 | Andrew Apted | 2016-11-23 14:56:57 +1100

BSP : define ZDoom format node structures in w_rawdef.h

------------------------------------------------------------------------
bf82f10b349b | Andrew Apted | 2016-11-23 14:31:52 +1100

BSP : removed all the ReportFailedLevels() stuff, instead we just
print a warning for each hard failure (and also when swithcing to
V5 or XNOD format), and a single &quot;FAILED ....&quot; message if the level
had any hard failures.

------------------------------------------------------------------------
941aec503693 | Andrew Apted | 2016-11-23 13:31:12 +1100

BSP : for ZDoom format nodes, we don't need RoundOffBSPTree() or
PutVertices() since the lump contains extra vertices which are
32-bit (16.16 fixed point).

------------------------------------------------------------------------
deca06b2997b | Andrew Apted | 2016-11-22 22:40:22 +1100

BSP : re-implemented MarkHardFailure() and removed MarkSoftFailure(),
MarkV5Switch() and MarkZDSwitch() functions.

------------------------------------------------------------------------
623b2dc27405 | Andrew Apted | 2016-11-22 22:23:23 +1100

BSP : tidied up how BLOCKMAP overflow is handled, and simplified
the message about building the current map.

------------------------------------------------------------------------
dbcda87476b9 | Andrew Apted | 2016-11-22 21:16:09 +1100

BSP : changed the internal PrintVerbose() and PrintMiniWarn()
functions to do nothing.  Removed &quot;quiet&quot; field of nodebuildfunc_t
and renamed &quot;mini_warnings&quot; field --&gt; &quot;warnings&quot;.

------------------------------------------------------------------------
03956c46e0e5 | Andrew Apted | 2016-11-22 21:05:07 +1100

Preferences : bit more work on the &quot;Nodes&quot; tab.

------------------------------------------------------------------------
1cd6297f22b4 | Andrew Apted | 2016-11-22 20:38:06 +1100

Preferences : partial work to improve the node-building stuff.
This commit adds a new &quot;Nodes&quot; tab.  It also removes numerous
redundant down_box() calls which Fluid tends to create.

------------------------------------------------------------------------
c11d0b9b3e8e | Andrew Apted | 2016-11-22 20:28:55 +1100

BSP : message about blockmap overflow is now a warning.

------------------------------------------------------------------------
767a570f2c80 | Andrew Apted | 2016-11-22 15:58:33 +1100

For MacOS X, use the fl_mac_set_about() function in FLTK so the
&quot;About&quot; item in the application menu opens our About window.

[ This is untested, as I don't have any MacOS X computers... ]

------------------------------------------------------------------------
bbcf327bb49b | Andrew Apted | 2016-11-21 23:45:34 +1100

UI : disable FLTK's normal keyboard navigation system, since it
often interferes with our user interface, especially the TAB key
used to toggle the 3D view.

------------------------------------------------------------------------
373414f72458 | Andrew Apted | 2016-11-21 23:20:01 +1100

TODO.txt : added list of BSP tasks.

------------------------------------------------------------------------
c27caa135f23 | Andrew Apted | 2016-11-21 23:11:33 +1100

Menu : increased # of remembered recent files (12 --&gt; 24), and
slightly improved their formatting in the menu.

------------------------------------------------------------------------
0031856b4c9f | Andrew Apted | 2016-11-21 22:20:58 +1100

Wad code : comment with idea about truncating the file.

------------------------------------------------------------------------
7557d22f453d | Andrew Apted | 2016-11-21 22:12:59 +1100

BSP : compute a &quot;max_size&quot; when writing the BLOCKMAP.

------------------------------------------------------------------------
d6e4b6410322 | Andrew Apted | 2016-11-21 21:17:46 +1100

BSP : ensure most calls to AddLump() or RecreateLump() supply an
appropriate &quot;max_size&quot; value, to prevent the wad file from growing
excessively big (need to know the size to re-use internal space).

------------------------------------------------------------------------
99febe7fc789 | Andrew Apted | 2016-11-21 19:08:51 +1100

BSP : moved the polyobject-related constants --&gt; w_rawdef.h

------------------------------------------------------------------------
9d4db042f94c | Andrew Apted | 2016-11-21 19:02:28 +1100

BSP : moved raw_xxxx_t structures related to Nodes --&gt; w_rawdef.h,
removed other structures in bsp.h which have equivalents in w_rawdef.h
(like raw_vertex_t), and updated some code for the differences.

------------------------------------------------------------------------
631a2fa07e10 | Andrew Apted | 2016-11-21 18:39:42 +1100

BSP : tidied up the REJECT handling code, and fixed a bug where
Lump_c::Finish() was not being called.

------------------------------------------------------------------------
74498fabe8c7 | Andrew Apted | 2016-11-21 18:38:57 +1100

Fixed a recently introduced bug in SaveLevel().

------------------------------------------------------------------------
f91d9672f912 | Andrew Apted | 2016-11-21 18:10:58 +1100

Version bump, for good progress with the BSP rework (etc).

------------------------------------------------------------------------
24f8b1b3d076 | Andrew Apted | 2016-11-21 17:16:54 +1100

Menu : more use of ExecuteCommand() instead of calling CMD_XXX
functions directly.  Added Main_Quit().  Various code tidying.

------------------------------------------------------------------------
8bdb5fddc35c | Andrew Apted | 2016-11-21 16:43:46 +1100

tweak of message when loading user state for a map.

------------------------------------------------------------------------
e5612bed34f4 | Andrew Apted | 2016-11-21 16:39:25 +1100

Wad code : replaced the FindLumpInLevel() methods with just one,
LevelLookupLump(), which takes a lev_num instead of a lump index.

------------------------------------------------------------------------
259b6ed93879 | Andrew Apted | 2016-11-21 16:20:16 +1100

Wad code : removed the old FindLevel() method, fixed LevelFormat()
method to take a level number instead of a lump index.

------------------------------------------------------------------------
f76a4e30a40d | Andrew Apted | 2016-11-21 16:05:21 +1100

Wad code : use a level number in RemoveLevel() and RemoveGLNodes()
methods, instead of a lump index.

------------------------------------------------------------------------
424acebf7eb8 | Andrew Apted | 2016-11-21 15:57:38 +1100

Wad code : replaced FindFirstLevel() method with LevelFindFirst()
which returns a level number (NOT a lump index).

------------------------------------------------------------------------
7c0fd6629d18 | Andrew Apted | 2016-11-21 15:42:25 +1100

Wad code : renamed several methods related to levels:
   NumLevels --&gt; LevelCount
   GetLevel --&gt; LevelHeader
   LastLevelLump --&gt; LevelLastLump
   FindLevelRaw --&gt; LevelFind
   FindLevelByNumber --&gt; LevelFindByNumber

Also LevelFindByNumber() now returns a level number (NOT a lump index).

------------------------------------------------------------------------
45feb6ef9c3f | Andrew Apted | 2016-11-21 14:29:07 +1100

Main menu : use ExecuteCommand() for the EDIT menu stuff, since
calling the CMD_XXX functions directly is not really kosher,
especially when the command looks at Exec_Param[].

------------------------------------------------------------------------
e3831d36a23a | Andrew Apted | 2016-11-21 14:21:32 +1100

Added &quot;Undo&quot; and &quot;Redo&quot; as bindable commands.

------------------------------------------------------------------------
1374e451957a | Andrew Apted | 2016-11-21 14:09:17 +1100

CHANGELOG : a few clarifications.

------------------------------------------------------------------------
00e5ed1cc135 | Andrew Apted | 2016-11-21 14:08:20 +1100

Wad code : fixed stupid bug with AddLevel &quot;lev_idx&quot; parameter.

------------------------------------------------------------------------
560341e39487 | Andrew Apted | 2016-11-21 13:28:25 +1100

minor tweak to some log messages.

------------------------------------------------------------------------
da6684cfa299 | Andrew Apted | 2016-11-21 13:21:43 +1100

Load/save code : removed &quot;save_wad&quot; variable, SaveLevel() always
saves into the current &quot;edit_wad&quot; now.

------------------------------------------------------------------------
9fa8f99cbe2f | Andrew Apted | 2016-11-21 12:57:52 +1100

Improved drag behavior: if the object is NOT in the selection, then
only drag that single object (instead of adding it to the selection
and dragging the whole selection).

Hence removed the hacky &quot;did_a_move&quot; stuff, where doing a move and
then selecting an object would clear the rest of the selection,
since it only existed to make dragging individual objects easier.

------------------------------------------------------------------------
868d78d11ab5 | Andrew Apted | 2016-11-21 01:06:22 +1100

BSP : fixed some bugs related to computing the GL checksum.

------------------------------------------------------------------------
954d8d7636ed | Andrew Apted | 2016-11-21 00:33:41 +1100

BSP : added missing BeginWrite/EndWrite calls to SaveLevel().

------------------------------------------------------------------------
83f7d7c9636e | Andrew Apted | 2016-11-21 00:28:50 +1100

BSP : minor change to prevent a compiler warning.

------------------------------------------------------------------------
a2c932cb10cd | Andrew Apted | 2016-11-21 00:10:35 +1100

BSP : implemented BuildNodesAfterSave(), and call it just after
saving the map in SaveLevel().

------------------------------------------------------------------------
9ad5330d2cd7 | Andrew Apted | 2016-11-21 00:07:44 +1100

Wad code : the AddLevel() method can now return the lev_idx, and
prevent it from sorting the &quot;levels&quot; vector since that would
invalidate the returned lev_idx.

------------------------------------------------------------------------
0b8a14259934 | Andrew Apted | 2016-11-20 18:02:54 +1100

BSP : woah, FINALLY I SEE THE LIGHT!

All the rubbish which CMD_BuildNodes() used to do, i.e. creating a
new file, building nodes, deleting the old file, then renaming the
new file to the old file -- that becomes totally unnecessary when
you are simply building the nodes *inside* the current edit_wad.

Hence updated the code accordingly.

------------------------------------------------------------------------
831b1980a561 | Andrew Apted | 2016-11-20 17:51:58 +1100

BSP : more code jiggery pokery in e_nodes.cc

------------------------------------------------------------------------
ef5012c5a82b | Andrew Apted | 2016-11-20 17:26:27 +1100

BSP : removed &quot;input_file&quot; and &quot;output_file&quot; from nodebuildinfo_t,
and factored out some code --&gt; PrepareInfo() function.

------------------------------------------------------------------------
a4f53f69a6d0 | Andrew Apted | 2016-11-20 17:25:43 +1100

BSP : added back an internal SetErrorMsg() function.

------------------------------------------------------------------------
7782c3f448ab | Andrew Apted | 2016-11-20 16:58:34 +1100

BSP : moved the UI_NodeDialog class --&gt; e_nodes.cc

------------------------------------------------------------------------
dc5343fdbcae | Andrew Apted | 2016-11-20 16:52:46 +1100

BSP : minor code renaming.

------------------------------------------------------------------------
495e4667f30e | Andrew Apted | 2016-11-20 16:41:00 +1100

BSP : removed a few unused util functions (UtilStr* UtilFormat).

------------------------------------------------------------------------
9a5c30ab8e9e | Andrew Apted | 2016-11-20 16:34:54 +1100

BSP : code tidying, removed GCCATTR() attributes which were more
cluttery than useful.

------------------------------------------------------------------------
c5e31b62923b | Andrew Apted | 2016-11-20 16:30:58 +1100

BSP : improved API in bsp.h, moved the parts needed by e_nodes.cc
out of the namespace, and everything inside the namespace is just
the internal structures and functions.

------------------------------------------------------------------------
245948077836 | Andrew Apted | 2016-11-20 16:09:10 +1100

TODO update.

------------------------------------------------------------------------
01cbfd2967e9 | Andrew Apted | 2016-11-20 14:08:26 +1100

Makefile.xming : added libfltk_jpeg.a and updated for FLTK 1.3.4

------------------------------------------------------------------------
a018d85d6f40 | Andrew Apted | 2016-11-20 14:07:37 +1100

BSP : removed the &quot;CreateDummyNode&quot; bogus rubbish.

------------------------------------------------------------------------
8ecc277c709c | Andrew Apted | 2016-11-20 14:02:51 +1100

Deleted two dummy files in obj_linux/ and obj_win32/

------------------------------------------------------------------------
657203452cd4 | Andrew Apted | 2016-11-20 12:48:34 +1100

BSP : removed all GB_DisplayXXX() calls, and logic for calculating
fine-grained progress.  Progress is now coarse, a step for each map
in the wad.

------------------------------------------------------------------------
df4a6e8bcd5f | Andrew Apted | 2016-11-20 12:21:03 +1100

BSP : fixed a misleading comment about what &quot;fast&quot; mode does.

------------------------------------------------------------------------
37baf69ba944 | Andrew Apted | 2016-11-20 12:17:13 +1100

BSP : removed all calls to GB_DisplayTicker().

------------------------------------------------------------------------
e01033dc1b22 | Andrew Apted | 2016-11-20 12:10:11 +1100

BSP : tidied up usage of BUILD_XXX result codes.

------------------------------------------------------------------------
5a4d1f2a1faa | Andrew Apted | 2016-11-20 12:05:02 +1100

BSP : code tidying in e_nodes.cc, merged CheckInfo() into parent.

------------------------------------------------------------------------
01c7c6a1d6c6 | Andrew Apted | 2016-11-20 11:54:38 +1100

BSP : removed &quot;block_limit&quot; from nodebuildinfo_t.

------------------------------------------------------------------------
4f689280f998 | Andrew Apted | 2016-11-20 01:16:37 +1100

Pack scripts : updated for removal of glbsp_src/

------------------------------------------------------------------------
2a0e39287936 | Andrew Apted | 2016-11-20 01:13:57 +1100

CHANGELOG update.

------------------------------------------------------------------------
0522edf40a49 | Andrew Apted | 2016-11-20 00:59:35 +1100

BSP : removed the old code, i.e. everything under glbsp_src/

------------------------------------------------------------------------
5d226342ffc7 | Andrew Apted | 2016-11-20 00:57:28 +1100

BSP : removed unneeded function &quot;CountWallTips&quot; (it was only used
by the code for detecting the one-sided window trick).

------------------------------------------------------------------------
216934ca9a58 | Andrew Apted | 2016-11-20 00:56:20 +1100

BSP : removed unused variable (cpu_big_endian).

------------------------------------------------------------------------
78b905b297ec | Andrew Apted | 2016-11-20 00:53:26 +1100

Makefile.xming : updated for the BSP rework.

------------------------------------------------------------------------
8581557793bc | Andrew Apted | 2016-11-20 00:43:51 +1100

Merge branch 'bsp_rework'

------------------------------------------------------------------------
0c8d095cd01a | Andrew Apted | 2016-11-20 00:35:36 +1100

BSP : removed unused function &quot;UtilFileExists&quot;.

------------------------------------------------------------------------
63f7c81a23ea | Andrew Apted | 2016-11-20 00:34:12 +1100

BSP : more minor code tidying (comments before functions).

------------------------------------------------------------------------
24e4d060b66a | Andrew Apted | 2016-11-20 00:27:17 +1100

BSP : minor code tidying (whitespace in for loops).

------------------------------------------------------------------------
81e0978c1d96 | Andrew Apted | 2016-11-20 00:14:16 +1100

TODO : yet another update.

------------------------------------------------------------------------
09d1182286f8 | Andrew Apted | 2016-11-20 00:08:25 +1100

3D View : for highlighting, disabled check on the editing mode,
since having to switch modes to adjust a wall (etc) is annoying.

------------------------------------------------------------------------
32ddfcf7172a | Andrew Apted | 2016-11-19 23:54:27 +1100

LineDef panel : re-instated the &quot;Gen&quot; button, used to open the
generalized line browser (for BOOM compatible ports).

[ this is a partial revert of commit 833a5654cff6 ]

------------------------------------------------------------------------
7be432cfdd02 | Andrew Apted | 2016-11-19 23:32:15 +1100

Created a proper dialog for the &quot;JumpToObject&quot; command, one which
does not allow the user to enter an invalid number.

------------------------------------------------------------------------
bdb6b5d44429 | Andrew Apted | 2016-11-19 20:25:20 +1100

CHANGELOG and TODO update.

------------------------------------------------------------------------
04c8769810db | Andrew Apted | 2016-11-19 19:30:48 +1100

Bindings : extra ACT_Transform binds for rotate/stretch/skew.

------------------------------------------------------------------------
30c4cbd11869 | Andrew Apted | 2016-11-19 19:24:14 +1100

ACT_Transform : got the &quot;skew&quot; mode working.

------------------------------------------------------------------------
f6d679612f32 | Andrew Apted | 2016-11-19 19:23:24 +1100

minor debug tweak.

------------------------------------------------------------------------
a8926e157f4c | Andrew Apted | 2016-11-19 17:35:02 +1100

Code tidying : removed &quot;CMD_&quot; prefix from three more functions that
are not true commands: MoveObjects(), OpenFileMap(), AdjustLight().

------------------------------------------------------------------------
2f2351f1c71f | Andrew Apted | 2016-11-19 17:20:50 +1100

Code tidying : changed prefix on &quot;CMD_Copy&quot; and &quot;CMD_Paste&quot; functions,
since they are NOT actual key-system commands.

------------------------------------------------------------------------
17d682deced9 | Andrew Apted | 2016-11-19 17:05:50 +1100

ACT_Transform : support four keywords: &quot;scale&quot;, &quot;stretch&quot;, &quot;rotate&quot;
and &quot;rotscale&quot;.

------------------------------------------------------------------------
6e0d72655db1 | Andrew Apted | 2016-11-19 16:32:43 +1100

Added &quot;Clipboard_Cut&quot;, &quot;Clipboard_Copy&quot;, &quot;Clipboard_Paste&quot; commands
which are equivalent to the EDIT menu functions.

------------------------------------------------------------------------
5c560d73a609 | Andrew Apted | 2016-11-19 14:58:58 +1100

Renamed &quot;ACT_Scale&quot; command --&gt; &quot;ACT_Transform&quot;, and began work to
support keywords (like &quot;scale&quot; and &quot;rotate&quot;) as the parameter.

------------------------------------------------------------------------
53b659536ca9 | Andrew Apted | 2016-11-19 14:36:11 +1100

Code : renamed &quot;scale_param_t&quot; --&gt; &quot;transform_t&quot;, and renamed some
related methods/functions from &quot;ScaleXyz&quot; --&gt; &quot;TransformXyz&quot;.

------------------------------------------------------------------------
eebfaa4cf159 | Andrew Apted | 2016-11-19 13:27:00 +1100

Code tidying : removed &quot;CMD_&quot; prefix from functions in x_mirror.cc
which did NOT actually implement a key system command.

------------------------------------------------------------------------
c325535271cb | Andrew Apted | 2016-11-19 13:21:39 +1100

scale_param_t structure now supports skew transforms.

------------------------------------------------------------------------
8c5a02489068 | Andrew Apted | 2016-11-19 12:52:02 +1100

Bindings : added MOUSE2 bind for adjusting offsets in the 3D view
(i.e. restore the previous behavior).

------------------------------------------------------------------------
b0051d6136e9 | Andrew Apted | 2016-11-19 12:36:29 +1100

CHANGELOG : updated, and grouped all bug fixes together.

------------------------------------------------------------------------
68c1e37a8ab2 | Andrew Apted | 2016-11-19 12:31:09 +1100

3D View : fixed rendering of lowers with &quot;LOWER UNPEG&quot; flag which
have a sky ceiling on the front and back sectors.  The behaviour
now matches the the original DOOM renderer.

------------------------------------------------------------------------
860a839fe19d | Andrew Apted | 2016-11-19 00:12:11 +1100

Key system : implemented basic &quot;Select&quot; command, it just toggles the
highlighted object in the selection (an experiment mainly....)

------------------------------------------------------------------------
b055d3fa4c3a | Andrew Apted | 2016-11-18 23:41:53 +1100

Key system : implemented &quot;ACT_Drag&quot; command, and temporarily
disabled its function on the left mouse button.

------------------------------------------------------------------------
bc16f8d169ce | Andrew Apted | 2016-11-18 23:02:48 +1100

Bindings : bind &quot;ACT_Scale&quot; onto MOUSE2 (restore prev behavior).

------------------------------------------------------------------------
982551b14d3b | Andrew Apted | 2016-11-18 22:51:10 +1100

Bindings : added bindings for WHEEL_UP and WHEEL_DOWN which zoom
the 2D map view (i.e. restoring the default behavior).

------------------------------------------------------------------------
da97298afd2a | Andrew Apted | 2016-11-18 22:49:59 +1100

Removed the &quot;mouse_wheel_scrolls_map&quot; config variable, since the
user now has full control over the mousewheel via bindings.cfg

------------------------------------------------------------------------
51011d5fda8c | Andrew Apted | 2016-11-18 22:45:40 +1100

Key system : use key handler for mousewheel events on the 2D canvas,
and implemented a &quot;WHEEL_Scroll&quot; command which can scroll the map
based on the mousewheel deltas.

------------------------------------------------------------------------
c40e8bcccbf5 | Andrew Apted | 2016-11-18 22:27:25 +1100

Key system : replaced hard-coded mousewheel handling in 3D View
with new &quot;3D_WHEEL_Move&quot; command.  The parameter specifies what
speed to move.

------------------------------------------------------------------------
8a5a97ddbdc4 | Andrew Apted | 2016-11-18 21:57:01 +1100

Key system : re-implemented CMD_MetaKey to not use the action system,
as I feel it is more low-level than that.

------------------------------------------------------------------------
b183ec28ec2b | Andrew Apted | 2016-11-18 20:23:18 +1100

Key system : updated bindings.cfg to use new name &quot;GRID_Bump&quot;, and
added some backwards-compatibility into the parsing code.

------------------------------------------------------------------------
bef2375c69ae | Andrew Apted | 2016-11-18 20:15:59 +1100

Key system : implemented &quot;GRID_Zoom&quot; which sets the zoom level to a
specific value (well, the nearest available one).

Hence removed the &quot;digits_set_zoom&quot; config variable, as the user now
has full control via the key binding system.

------------------------------------------------------------------------
55ddc9da693c | Andrew Apted | 2016-11-18 19:55:58 +1100

Key system : fixed info-bar widget for new &quot;GRID_Set&quot; command.

------------------------------------------------------------------------
e8ac69c2f64d | Andrew Apted | 2016-11-18 19:51:07 +1100

Key system : don't hard-code the digit keys, use new &quot;GRID_Set&quot;
command to bind the digits.

------------------------------------------------------------------------
fd0115839672 | Andrew Apted | 2016-11-18 18:35:22 +1100

TODO : minor update.

------------------------------------------------------------------------
30a99d9f5cd3 | Andrew Apted | 2016-11-18 18:31:49 +1100

Key system : implemented &quot;ACT_Scale&quot; command.

------------------------------------------------------------------------
11967ca7eed0 | Andrew Apted | 2016-11-18 18:21:42 +1100

Key system : experiment with new &quot;3D_ACT_AdjustOfs&quot; command.

------------------------------------------------------------------------
99487185913e | Andrew Apted | 2016-11-18 17:09:58 +1100

Key system : have a &quot;current action key&quot;, and set it / test it for
release independently of the navigation keys.

------------------------------------------------------------------------
41d17ed0255e | Andrew Apted | 2016-11-18 16:42:44 +1100

Key system : experiment with ability to bind the selection-box
action to a key, via new &quot;ACT_Selbox_Mouse&quot; command.

------------------------------------------------------------------------
91221740b30d | Andrew Apted | 2016-11-18 15:37:25 +1100

Keys : pass mouse button #3 through the key handling system (instead
of using the hard-coded logic), and implemented a &quot;NAV_Scroll_Mouse&quot;
command which performs its original function.

------------------------------------------------------------------------
b079d10ad461 | Andrew Apted | 2016-11-18 14:39:37 +1100

Nav keys : separate 3D movement commands into two opposites, such
as &quot;3D_NAV_Forward&quot; and &quot;3D_NAV_Back&quot;, which works better when the
user presses both at the same time.

------------------------------------------------------------------------
a2992c642937 | Andrew Apted | 2016-11-18 14:06:22 +1100

Keys : fixed parsing of uppercase letters in bindings.cfg

------------------------------------------------------------------------
7757fd4772bb | Andrew Apted | 2016-11-18 14:02:08 +1100

Nav keys : finished smooth scrolling of 2D view (NAV_Scroll command).

------------------------------------------------------------------------
53e4e4cb538c | Andrew Apted | 2016-11-18 12:37:28 +1100

Code tidying : moved more code around in editloop.cc

------------------------------------------------------------------------
28179c6d9182 | Andrew Apted | 2016-11-18 12:24:56 +1100

Nav keys : began work on a &quot;NAV_Scroll&quot; command for the 2D view...

------------------------------------------------------------------------
a388825f8863 | Andrew Apted | 2016-11-18 11:55:14 +1100

Nav Keys : fixed 3D_NAV_Up command to turn off gravity (or produce
an error message when the locked-gravity setting is on).

------------------------------------------------------------------------
dfcab69f4e1b | Andrew Apted | 2016-11-18 11:25:39 +1100

Bindings : changed all 3D movement keys (again), use the navigation
commands (3D_NAV_Forward, 3D_NAV_Turn, etc....)

------------------------------------------------------------------------
ac88cb3a2b72 | Andrew Apted | 2016-11-18 11:24:36 +1100

Nav keys : fixed wrong turn speed in R3D_NAV_Turn().

------------------------------------------------------------------------
7c9a0edb3c32 | Andrew Apted | 2016-11-18 11:20:41 +1100

Nav keys : finished implementing the new R3D_NAV_xxx() functions.

------------------------------------------------------------------------
40b33467fef9 | Andrew Apted | 2016-11-18 00:47:24 +1100

Nav keys : moved code computing the time difference --&gt; editloop.cc
(now called Nav_TimeDiff).

------------------------------------------------------------------------
8e852c159daa | Andrew Apted | 2016-11-18 00:37:28 +1100

Nav keys : began work on new &quot;3D_NAV_Forward&quot;, &quot;3D_Nav_Turn&quot; (etc)
commands which will use the new navigation system.

------------------------------------------------------------------------
b384d67825cd | Andrew Apted | 2016-11-18 00:04:24 +1100

Nav keys : finished Nav_UpdateKeys() with logic to check whether
the key (or mouse button) is still pressed or not.

------------------------------------------------------------------------
602bee8d4a6b | Andrew Apted | 2016-11-17 23:50:10 +1100

Keys : FLTK only supports FL_Button+1 .. FL_Button+8, so fixed the
is_mouse_button() function accordingly.

------------------------------------------------------------------------
8eb48aec053d | Andrew Apted | 2016-11-17 23:43:12 +1100

Keys : fixed is_mouse_button() to ignore modifiers.

------------------------------------------------------------------------
cedb61defca4 | Andrew Apted | 2016-11-17 23:41:50 +1100

Keys : added is_mouse_button() function.

------------------------------------------------------------------------
560d5c79e7ae | Andrew Apted | 2016-11-17 23:32:45 +1100

Code : removed a very out-of-date bit of backwards-compatibility.

------------------------------------------------------------------------
d9854c3a8dfa | Andrew Apted | 2016-11-17 23:18:45 +1100

Bindings : fixed default bindings for shifted symbols, e.g. &quot;&lt;&quot; is
now represented as &quot;SHIFT-,&quot; etc...

------------------------------------------------------------------------
a3b2baf86010 | Andrew Apted | 2016-11-17 22:54:56 +1100

Keys : use &quot;CTRL&quot; for the shown modifier name in Linux and Windows,
and keep the existing &quot;CMD&quot; name in MacOS X.  The parsing code for
bindings.cfg will accept both forms.

------------------------------------------------------------------------
627c6da7ab05 | Andrew Apted | 2016-11-17 22:25:11 +1100

Key codes are now always a physical key + a modifier (or none).
This means that uppercase letters are represented as the lowercase
letter + MOD_SHIFT.

Compatibility (like parsing and saving the bindings.cfg) has been
kept, and uppercase letters are still shown in the KEYS preferences
panel.  But this change breaks compatibility with shifted symbols,
in particular: '&lt;', '&gt;', '?', '|'.

------------------------------------------------------------------------
78d8dbfcb0fe | Andrew Apted | 2016-11-17 20:05:46 +1100

Nav keys : bit more work on new system, fleshed out most of the
new Nav_XXX() functions....

------------------------------------------------------------------------
94ca79549a3f | Andrew Apted | 2016-11-17 16:08:35 +1100

Began work on a &quot;navigation&quot; system, to allow multiple navigation
functions to be active at the same time.

------------------------------------------------------------------------
fe5e36e6654f | Andrew Apted | 2016-11-17 15:47:31 +1100

Code tidying : moved the &quot;CMD_xxx&quot; and &quot;BR_xxx&quot; functions to be
grouped together in editloop.cc

------------------------------------------------------------------------
6f5b96e81231 | Andrew Apted | 2016-11-17 13:34:06 +1100

Canvas : optimized the sprite drawing by collecting batches of solid
pixels, and by clipping sprites to the drawing area.

------------------------------------------------------------------------
bcad60a42182 | Andrew Apted | 2016-11-17 11:52:53 +1100

3D View : support a &quot;/circle&quot; flag to 3D_Turn command, which causes
the camera to circle strafe.

------------------------------------------------------------------------
f34d75516380 | Andrew Apted | 2016-11-17 11:42:32 +1100

3D View : reworked navigation vars to use fwd/right/up instead of
axis-aligned deltas.

------------------------------------------------------------------------
1f6b558dacdf | Andrew Apted | 2016-11-17 00:01:33 +1100

TODO.txt : updated, moved a few entries to &quot;NOT-TODO&quot; section.

------------------------------------------------------------------------
30422cddae88 | Andrew Apted | 2016-11-16 23:14:07 +1100

3D View : better logic for finding the ground height, check several
points on the player's bounding box and use the maximum floor.

------------------------------------------------------------------------
6dbbfbb7634f | Andrew Apted | 2016-11-16 22:50:55 +1100

Bindings : updated all 3D movement bindings for smooth movement.

------------------------------------------------------------------------
b5bf15804338 | Andrew Apted | 2016-11-16 22:40:58 +1100

Canvas : preliminary code for drawing sprites on the 2D canvas
(it is very inefficient so far, but working).

------------------------------------------------------------------------
c1dde5589ca3 | Andrew Apted | 2016-11-16 21:32:52 +1100

3D View : support &quot;/smooth&quot; flag for all the 3D movement and turning
commands, enabling the new smooth navigation logic.

------------------------------------------------------------------------
e3f4386042d6 | Andrew Apted | 2016-11-16 21:01:49 +1100

Preferences : for key bindings, show &quot;3D view&quot; instead of &quot;render&quot;
for the KCTX_Render context, that is more user-focused language.

------------------------------------------------------------------------
11060bf981f0 | Andrew Apted | 2016-11-16 19:55:05 +1100

3D Mode : more work on smooth navigation, getting the Forward/Backward
commands working.

------------------------------------------------------------------------
a041733ecd42 | Andrew Apted | 2016-11-16 19:28:35 +1100

3D Mode : beginnings of smoother navigation, when a navigation is
active (e.g. holding down a key) then call Render3D_Navigate() in
a tight loop.

------------------------------------------------------------------------
bf3ed77d2185 | Andrew Apted | 2016-11-16 18:16:35 +1100

3D Mode : use float for 'z' view coordinate (instead of int).

------------------------------------------------------------------------
6c8455833e91 | Andrew Apted | 2016-11-16 15:27:05 +1100

3D Mode : only highlight things when edit mode is Things.

------------------------------------------------------------------------
a7f1cfa683fb | Andrew Apted | 2016-11-16 15:02:20 +1100

3D Mode : implemented ability to highlight things.

------------------------------------------------------------------------
15a37ed0d34d | Andrew Apted | 2016-11-16 14:42:40 +1100

3D Mode : fixed the highlight position being vertically out by 15
screen pixels or so.

------------------------------------------------------------------------
e0402c40d5a7 | Andrew Apted | 2016-11-16 14:22:30 +1100

3D Mode : draw things with unknown type as a question mark.

------------------------------------------------------------------------
185dd8053648 | Andrew Apted | 2016-11-16 13:50:35 +1100

3D Mode : implemented highlighting sectors (floors or ceilings).

------------------------------------------------------------------------
e62d84fe7490 | Andrew Apted | 2016-11-15 22:35:35 +1100

3D Mode : improved the query() code and determine the sector.

------------------------------------------------------------------------
b26f4127f16b | Andrew Apted | 2016-11-15 22:09:59 +1100

3D Mode : support &quot;thick&quot; RenderLines.

------------------------------------------------------------------------
ca1126cff69a | Andrew Apted | 2016-11-15 21:37:16 +1100

Export Map : when target wad already specifies iwad/port/resources
(via the __EUREKA lump), then keep them, i.e. don't clobber those
settings with the current ones.

------------------------------------------------------------------------
07afe08e46b6 | Andrew Apted | 2016-11-15 21:16:45 +1100

Undo / redo : always update the panel afterwards, fixing the bug
where textures in the LineDef panel would not update.

------------------------------------------------------------------------
00c4313ed05a | Andrew Apted | 2016-11-15 20:55:44 +1100

Defaults panel : update texture pics dynamically (as we type).

------------------------------------------------------------------------
2381749c379c | Andrew Apted | 2016-11-15 20:50:38 +1100

Sector and LineDef panels : texture names dynamically update the
picture (i.e. as we type).

------------------------------------------------------------------------
2412ed0bc78f | Andrew Apted | 2016-11-15 20:01:35 +1100

CMD_Delete : possibly catch more unused sidedefs when deleting
vertices and linedefs.

------------------------------------------------------------------------
4d6403cc2196 | Andrew Apted | 2016-11-15 19:44:24 +1100

Removed &quot;PruneUnused&quot; from EDIT menu, and as a binding on 'p' key.

Rationale is that unused sidedefs and sectors should be automatially
pruned, since there is no way for a user to ever view or edit them.
Also, the map checking functions can detect and remove unused stuff.

------------------------------------------------------------------------
f9f368bb785b | Andrew Apted | 2016-11-15 19:40:09 +1100

Began work on a UI_PicName widget, and removed the TexFromWidget()
and FlatFromWidget() methods in favor of using NormalizeTex().

------------------------------------------------------------------------
157f1fd277db | Andrew Apted | 2016-11-15 19:37:14 +1100

Added global NormalizeTex() utility function.

------------------------------------------------------------------------
8d9e05aa2c35 | Andrew Apted | 2016-11-14 23:30:10 +1100

Find/Replace : modified the Browser to use a sub-class of Fl_Button
which does not grab the keyboard focus when clicked.

That fixes an issue with detecting which input box was last active,
which relies on checking which widget has the keyboard focus.

------------------------------------------------------------------------
5f87a2df50f0 | Andrew Apted | 2016-11-14 23:11:52 +1100

minor comment fix.

------------------------------------------------------------------------
c7204abde1d7 | Andrew Apted | 2016-11-14 22:45:34 +1100

TODO : added a wishlist item.

------------------------------------------------------------------------
e85b6c998eff | Andrew Apted | 2016-11-14 22:18:39 +1100

UI_Pic widget : for GetTex() and GetFlat() methods, try an uppercase
version of the texture name when the normal lookup fails.  Mainly
useful for when user is typing a name into an input box.

------------------------------------------------------------------------
83f1b50ddda6 | Andrew Apted | 2016-11-14 21:41:08 +1100

The &quot;Move/Scale/Rotate Objects&quot; commands in the Edit menu can now
be bound to keys.

------------------------------------------------------------------------
5797ff147c27 | Andrew Apted | 2016-11-14 19:40:26 +1100

Fixed annoying problem where lines could not be split close to an
end point, especially when the linedef was long.

------------------------------------------------------------------------
d9bc69202f43 | Andrew Apted | 2016-11-14 19:32:24 +1100

Canvas : for about-to-split lines, show lengths of both pieces.

------------------------------------------------------------------------
42d189232615 | Andrew Apted | 2016-11-14 19:00:22 +1100

BSP : proper insertion point for CreateLevelLump(), CreateGLMarker().

------------------------------------------------------------------------
07e5ef410cb3 | Andrew Apted | 2016-11-14 18:50:42 +1100

BSP : removed some obsolete fields of nodebuildinfo_t, such as:
&quot;load_all&quot;, &quot;no_progress&quot;, &quot;same_filenames&quot;, &quot;missing_output&quot;.

------------------------------------------------------------------------
a4a6f2b78579 | Andrew Apted | 2016-11-14 18:46:57 +1100

BSP : moved CheckInfo() function --&gt; e_nodes.cc

------------------------------------------------------------------------
2998e4a816a3 | Andrew Apted | 2016-11-14 18:40:01 +1100

BSP : added an Fl::check() after building each level.

------------------------------------------------------------------------
24e23615aea9 | Andrew Apted | 2016-11-14 18:26:06 +1100

BSP : ensure that all necessary level lumps (NODES, BLOCKMAP, etc)
are present before saving the level data, adding an empty place-holder
for any that are missing.

------------------------------------------------------------------------
803aa34bc0b0 | Andrew Apted | 2016-11-14 18:17:05 +1100

Wad code : added FindLumpInLevel_Raw() method.

------------------------------------------------------------------------
e0893b57485b | Andrew Apted | 2016-11-14 18:11:27 +1100

Wad code : fixed misleading parameter in FindLumpInLevel().

------------------------------------------------------------------------
a6fc046a8dab | Andrew Apted | 2016-11-14 18:04:04 +1100

Wad code : implemented new RemoveGLNodes() method.

------------------------------------------------------------------------
4624022667fe | Andrew Apted | 2016-11-14 16:53:29 +1100

TODO tweak.

------------------------------------------------------------------------
1191834569dc | Andrew Apted | 2016-11-14 16:08:21 +1100

CHANGELOG and TODO update.

------------------------------------------------------------------------
5528622359f4 | Andrew Apted | 2016-11-14 16:06:29 +1100

Texture loader : support TGA textures in TX_START/END.

------------------------------------------------------------------------
cdbad1d21487 | Andrew Apted | 2016-11-14 15:58:38 +1100

Texture loader : fixed bug in TGA (Targa) format detection.

------------------------------------------------------------------------
cbf7ba5f3ab6 | Andrew Apted | 2016-11-14 15:35:25 +1100

Texture loader : support PNG and JPEG textures in TX_START/END.

------------------------------------------------------------------------
f4dfeb68891b | Andrew Apted | 2016-11-14 15:20:59 +1100

BSP : removed the &quot;bsp_wad.cc/h&quot; code files, no longer needed.

------------------------------------------------------------------------
de7c2ff16dce | Andrew Apted | 2016-11-14 15:15:24 +1100

File / Test Map : bit more work on this feature, e.g. show the
result code in the status area.

------------------------------------------------------------------------
0f8ec8fe078d | Andrew Apted | 2016-11-13 23:58:35 +1100

TODO.txt : updated entry for Test Map command...

------------------------------------------------------------------------
b2c9c1fd98e8 | Andrew Apted | 2016-11-13 20:17:31 +1100

BSP : fixed CalcGLChecksum() to use the Lump_c methods.

------------------------------------------------------------------------
595677ea5697 | Andrew Apted | 2016-11-13 20:05:45 +1100

BSP : updated level loading code to use lump-&gt;Length(), lump-&gt;Seek()
and lump-&gt;Read() functions.

------------------------------------------------------------------------
e367ee321f20 | Andrew Apted | 2016-11-13 19:52:10 +1100

BSP : replaced AppendLevelLump() with lump-&gt;Write(), and added a
FindLevelLump() utility function.

------------------------------------------------------------------------
dcd179915875 | Andrew Apted | 2016-11-13 19:50:53 +1100

Wad code : added const to Lump_c::Write &quot;data&quot; parameter.

------------------------------------------------------------------------
08ff3627defe | Andrew Apted | 2016-11-13 19:18:38 +1100

BSP : worked on new CreateLevelLump() implementation, updated some
code to use &quot;Lump_c&quot; instead of &quot;lump_t&quot;, incorporated LIMIT_XXX
values and some prototypes from bsp_wad.h, and removed &quot;bsp_wad.h&quot;
from the files #included.  Everything is QUITE BORKED now.....

------------------------------------------------------------------------
529cbea6496b | Andrew Apted | 2016-11-13 18:36:31 +1100

BSP: more work on code to create/update the GL marker lump, using
the Eureka wad API to make it and write into it.

------------------------------------------------------------------------
082bf9b06622 | Andrew Apted | 2016-11-13 17:45:28 +1100

BSP : tidied up handling of V5 keywords for the GL marker lump.

------------------------------------------------------------------------
02e04ad14943 | Andrew Apted | 2016-11-13 16:56:27 +1100

BSP : here is the commit which breaks everything!

- moved the logic for iterating over a whole wad --&gt; e_nodes.cc.
- removed bsp_wad.o from OBJS in the Makefile.
- moved the ZLibXXX functions from bsp_wad --&gt; bsp_level.
- also moved the problem marking/reporting functions.
- also moved the CreateGLMarker() and AddGLTextLine() functions.
- added BuildNodesForLevel() to the API, pass &quot;lev_idx&quot; to it.
- pass &quot;lev_idx&quot; to the LoadLevel() and SaveLevel() functions.
- replaced UtilCheckExtension() with the Eureka equivalent.

------------------------------------------------------------------------
d5ed4c6377b4 | Andrew Apted | 2016-11-13 15:15:54 +1100

Wad code : allow FindLumpInLevel() to find GL-Node lumps.

------------------------------------------------------------------------
cb306203a64f | Andrew Apted | 2016-11-13 15:07:44 +1100

Wad code : added LastLevelLump() method.

------------------------------------------------------------------------
3edd17e13d42 | Andrew Apted | 2016-11-13 14:58:42 +1100

Wad code : added RecreateLump() method which allows an existing
lump to be created from scratch, discarding the old contents.

------------------------------------------------------------------------
c63601010557 | Andrew Apted | 2016-11-13 14:47:37 +1100

BSP : minor commenting.

------------------------------------------------------------------------
41dceb60dd54 | Andrew Apted | 2016-11-13 14:43:23 +1100

BSP : added three fields to nodebuildinfo_t: &quot;gl_nodes&quot;, &quot;do_blockmap&quot;
and &quot;do_reject&quot;, which default to TRUE.

When &quot;gl_nodes&quot; is FALSE, then GL-Nodes are not created.

When &quot;do_blockmap&quot; or &quot;do_reject&quot; is FALSE, the corresponding lump
is still created, but left empty (zero sized).  Source ports will
generally detect the empty size and handle it properly.

------------------------------------------------------------------------
8dd8bc5b4c83 | Andrew Apted | 2016-11-13 14:18:29 +1100

BSP : *always* build the normal nodes.

------------------------------------------------------------------------
5f03be680848 | Andrew Apted | 2016-11-13 14:03:10 +1100

BSP : allow empty lumps (VERTEXES, LINEDEFS, SECTORS etc) when
loading the level.

------------------------------------------------------------------------
1f0f639a66c9 | Andrew Apted | 2016-11-13 13:57:30 +1100

BSP : comment tweaks.

------------------------------------------------------------------------
4843e1265f39 | Andrew Apted | 2016-11-13 13:53:33 +1100

BSP : rename &quot;duplicate&quot; vertices --&gt; &quot;overlapping&quot; vertices.

------------------------------------------------------------------------
4b2ad71f2255 | Andrew Apted | 2016-11-13 13:50:00 +1100

BSP : skip zero-length lines when creating wall-tips.

------------------------------------------------------------------------
7c764524e3fd | Andrew Apted | 2016-11-13 13:49:13 +1100

BSP : skip overlapping lines when creating wall-tips.

------------------------------------------------------------------------
e034d42fbdbf | Andrew Apted | 2016-11-13 13:45:37 +1100

BSP : enable the duplicated vertex detection, mainly to help the
miniseg creation logic.

------------------------------------------------------------------------
ff24f2c903e4 | Andrew Apted | 2016-11-13 13:27:18 +1100

BSP : added &quot;force_xnod&quot; to nodebuildinfo_t, and use this in the
SaveLevel() logic to decide whether to save in ZDoom format.

[ Note: real XNOD support is not there, it still does ZNOD format ]

------------------------------------------------------------------------
707d4c41c193 | Andrew Apted | 2016-11-13 13:19:28 +1100

BSP : we only need to build V2 or V5 GL-Nodes, hence removed the
logic for building V1 and V3 GL-Nodes.

------------------------------------------------------------------------
4a7145d68140 | Andrew Apted | 2016-11-13 13:02:14 +1100

BSP : removed code for writing the LINEDEFS, SIDEDEFS and SECTORS
lumps, since the policy here is to never modify those lumps.

------------------------------------------------------------------------
9281b2a3184a | Andrew Apted | 2016-11-13 12:36:18 +1100

BSP : removed the &quot;one-sided window trick&quot; detection code, very
much past the point of diminishing returns on that rare trick.

Also removed the &quot;skip_self_ref&quot; feature, it is quite useless.

------------------------------------------------------------------------
a575107cc2d9 | Andrew Apted | 2016-11-13 12:25:05 +1100

BSP : a fix for commit 17b6bbc1adbc.

------------------------------------------------------------------------
cd967acd7764 | Andrew Apted | 2016-11-13 12:17:05 +1100

BSP : tweaked top-of-file comments.

------------------------------------------------------------------------
011eec922f41 | Andrew Apted | 2016-11-13 12:07:26 +1100

BSP : removed &quot;force_hexen&quot; field of nodebuildinfo_t.

------------------------------------------------------------------------
17b6bbc1adbc | Andrew Apted | 2016-11-13 12:04:09 +1100

BSP : removed the sidedef-packing feature, as it would cause the
LINEDEFS lump to be modified.  If we ever need this, it is something
to be handled *outside* of the node builder (by Eureka instead).

------------------------------------------------------------------------
d7f564656d46 | Andrew Apted | 2016-11-13 12:01:15 +1100

BSP : added a copy of the sidedef-packing code to e_linedef.cc
(disabled since it is not adapted to Eureka yet), as it may be
useful or needed in the future.

------------------------------------------------------------------------
abc5a4bd0fc9 | Andrew Apted | 2016-11-13 11:50:09 +1100

Code : better parameter name for SideDefs_Unpack().

------------------------------------------------------------------------
c8a2634f060a | Andrew Apted | 2016-11-13 00:20:28 +1100

BSP : removed &quot;merge_vert&quot; functionality, since that would require
modifying the LINEDEFS lump.

[ plus Eureka has a checker for overlapping vertices ]

------------------------------------------------------------------------
9cd3f7dec52a | Andrew Apted | 2016-11-13 00:15:10 +1100

BSP : changed PruneVertices() to only remove unused vertices at the
end of the VERTEXES lump.  That means we don't need to modify the
existing LINEDEFS lump.

------------------------------------------------------------------------
53ede5835161 | Andrew Apted | 2016-11-12 23:58:30 +1100

BSP : renamed config variables &quot;glbsp_xxx&quot; --&gt; &quot;bsp_xxx&quot;.

------------------------------------------------------------------------
51537d2e2bf3 | Andrew Apted | 2016-11-12 23:54:40 +1100

BSP : renamed &quot;Build Nodes&quot; in File menu --&gt; &quot;Build All Nodes&quot;.

------------------------------------------------------------------------
eabac55f1ab7 | Andrew Apted | 2016-11-12 23:33:11 +1100

BSP : removed code for pruning linedefs, sidedefs and sectors, as
I plan to not modify the level lumps where possible (and hence not
introduce any discrepancy between Eureka's in-memory idea of the
map and the on-disk version).

------------------------------------------------------------------------
2f485ff6d7d6 | Andrew Apted | 2016-11-12 23:12:56 +1100

Code tidying : use StringDup() and StringFree() in a few places
which were using strdup() and free().

------------------------------------------------------------------------
5eaad0dc4d4d | Andrew Apted | 2016-11-12 22:44:53 +1100

BSP : removed all GWA-related code, plus the &quot;extra_files&quot; stuff.

------------------------------------------------------------------------
abe0f8f0544c | Andrew Apted | 2016-11-12 22:40:03 +1100

BSP : removed ParseArgs() stuff -- total not needed here.

------------------------------------------------------------------------
0fa6fcab6e1b | Andrew Apted | 2016-11-12 22:36:27 +1100

BSP : renamed HandleLevel() --&gt; BuildNodesForLevel(), and tweaks.

------------------------------------------------------------------------
57e7f9d36901 | Andrew Apted | 2016-11-12 22:24:51 +1100

BSP : removed custom endian handling, use Eureka's system.

------------------------------------------------------------------------
541a30c96f78 | Andrew Apted | 2016-11-12 20:22:08 +1100

BSP : removed CheckInfo() from the API, just do it internally
as the first step in ajbsp::BuildNodes() function.

------------------------------------------------------------------------
cec583c4dc7b | Andrew Apted | 2016-11-12 20:09:15 +1100

BSP : converted nodebuildinfo_t into a class, where the constructor
sets all default values, and merged nodebuildcomms_t into it too.

------------------------------------------------------------------------
50cbd7c33ec4 | Andrew Apted | 2016-11-12 19:36:28 +1100

BSP : minor tweak, a function name in e_nodes.cc

------------------------------------------------------------------------
d2050051e03b | Andrew Apted | 2016-11-12 19:17:49 +1100

BSP : removed GlbspStrDup() and GlbspFree(), use the equivalents
that Eureka already has.

------------------------------------------------------------------------
200408692ad1 | Andrew Apted | 2016-11-12 19:13:57 +1100

BSP : renamed build result enums from GLBSP_E_xxx --&gt; BUILD_xxx

------------------------------------------------------------------------
71d05b29c6c8 | Andrew Apted | 2016-11-12 18:59:39 +1100

BSP : removed &quot;nodebuildfuncs_t&quot; structure, and call the GB_XXX
functions in e_node.cc directly.

------------------------------------------------------------------------
0aba2d16a6ed | Andrew Apted | 2016-11-11 22:05:06 +1100

BSP : removed the custom FatalError(), use the one in Eureka.

------------------------------------------------------------------------
96ac37566109 | Andrew Apted | 2016-11-11 22:01:23 +1100

BSP : use BugError() instead of custom InternalError().

------------------------------------------------------------------------
5c81fce5b416 | Andrew Apted | 2016-11-11 21:57:55 +1100

BSP : replaced PrintDebug() calls with DebugPrintf().

------------------------------------------------------------------------
98a23b1feeec | Andrew Apted | 2016-11-11 17:15:08 +1100

BSP : improved the top-of-file comments, calling this &quot;AJ-BSP&quot; to
distinguish from the real glBSP, changed namespace name to &quot;ajbsp&quot;.

------------------------------------------------------------------------
79f77d3f0546 | Andrew Apted | 2016-11-11 15:51:11 +1100

BSP : removed some out-of-date comments.

------------------------------------------------------------------------
076112ba99c2 | Andrew Apted | 2016-11-11 15:50:20 +1100

BSP : removed whitespace at ends of lines.

------------------------------------------------------------------------
e07f2e8d9be8 | Andrew Apted | 2016-11-11 15:44:43 +1100

Preferences : simplified name of &quot;Node Building&quot; section.

------------------------------------------------------------------------
1f6a37f14972 | Andrew Apted | 2016-11-11 15:28:16 +1100

BSP : changed the &quot;BUILDER&quot; name stored in the GL-nodes map header
to be &quot;Eureka X.XX&quot; instead of &quot;glBSP X.XX&quot; -- since that reflects
better how someone built the GL-nodes.

------------------------------------------------------------------------
b1aaa2e84b85 | Andrew Apted | 2016-11-11 15:19:28 +1100

BSP : updated whitespace in rest of code to use tabs.

------------------------------------------------------------------------
ee2b1b6fd6b4 | Andrew Apted | 2016-11-11 15:09:30 +1100

BSP : removed &lt;assert.h&gt; header, use SYS_ASSERT() instead.

------------------------------------------------------------------------
a8a9783b641d | Andrew Apted | 2016-11-11 15:08:17 +1100

BSP : tidied up the include guards in &quot;bsp.h&quot;

------------------------------------------------------------------------
a80c996f8cbe | Andrew Apted | 2016-11-11 14:42:58 +1100

BSP : added editor settings to each code file.

------------------------------------------------------------------------
38b8f1f8b224 | Andrew Apted | 2016-11-11 14:42:30 +1100

BSP : reformatted &quot;bsp.h&quot; to use tabs instead of spaces.

------------------------------------------------------------------------
e8a27a027dcb | Andrew Apted | 2016-11-11 14:33:50 +1100

BSP : replaced custom &quot;boolean_g&quot; typedef with plain &quot;bool&quot;, and
replaced &quot;TRUE&quot; and &quot;FALSE&quot; with the normal keywords.

------------------------------------------------------------------------
35cdde70053f | Andrew Apted | 2016-11-11 14:25:26 +1100

BSP : replaced &quot;sint8_g&quot;, &quot;uint32_g&quot; typedefs with the similar ones
which Eureka already has (s8_t, u32_t, etc).  Also replaced &quot;float_g&quot;
typedef with the standard &quot;double&quot; type.

------------------------------------------------------------------------
19d8ef5f9a18 | Andrew Apted | 2016-11-11 14:15:27 +1100

BSP : removed duplicated macros like MIN() and ABS().

------------------------------------------------------------------------
936f012e801c | Andrew Apted | 2016-11-11 13:41:23 +1100

Makefile : added new &quot;bsp_xx&quot; files to the build, and removed the
old GLBSP stuff, like references to glbsp_src/

------------------------------------------------------------------------
5aceafa24d11 | Andrew Apted | 2016-11-11 13:39:58 +1100

BSP : fixed #includes for the new file layout.

------------------------------------------------------------------------
06928970f475 | Andrew Apted | 2016-11-11 13:28:57 +1100

BSP : replaced &quot;INLINE_G&quot; with plain &quot;inline&quot; keyword.

------------------------------------------------------------------------
f4b5a4475fbd | Andrew Apted | 2016-11-11 13:17:46 +1100

Began rework of glBSP code, with the goal to integrate it more
tightly with Eureka, e.g. use Eureka's WAD handling code, and
ultimately to support building nodes for a single map.

This commit concatenates files from glbsp_src/ to produce some
code files with &quot;bsp_&quot; prefix (bsp_node.cc etc...), and one big
header file &quot;bsp.h&quot;.

------------------------------------------------------------------------
7ff0ec89c55f | Andrew Apted | 2016-11-11 13:00:03 +1100

Game def parser : removed &quot;exclude_game&quot; directive (ignored it),
since it will be replaced with something better soon.

------------------------------------------------------------------------
0d9dd50581fa | Andrew Apted | 2016-11-10 23:24:27 +1100

Game def parser : merged ParseSupportedGame() code into the calling
one (handing PURPOSE_GameCheck), as it was simple and nothing else
will need it.

------------------------------------------------------------------------
85164d03fb24 | Andrew Apted | 2016-11-10 23:06:07 +1100

Game def parser : code for handling &quot;if&quot;, &quot;else&quot;, &quot;endif&quot; lines.
When the &quot;if&quot; condition is false, we simply skip lines until the
next &quot;else&quot; or &quot;endif&quot; line.  A missing &quot;endif&quot; is detected.

Still to-do is actually parsing conditions on the &quot;if&quot; lines,
and checking whether they are true or not......

------------------------------------------------------------------------
08b059a7dbd3 | Andrew Apted | 2016-11-10 22:43:21 +1100

Game def parser : refactored the M_ParseDefinitionFile() code into
several functions, sharing state via a struct.

------------------------------------------------------------------------
a9f5d5ce9709 | Andrew Apted | 2016-11-10 21:01:22 +1100

Game def parser : refactored tokenizing code into its own function,
and tidied up the code.

------------------------------------------------------------------------
7772a404357a | Andrew Apted | 2016-11-10 14:52:43 +1100

Canvas : show length of the current line (in draw mode).

------------------------------------------------------------------------
e52aae145131 | Andrew Apted | 2016-11-10 00:25:59 +1100

Check / things : support a &quot;no_need_players&quot; feature in definition
files, which turns of warnings about missing players.  This can be
useful when editing prefabs.

------------------------------------------------------------------------
094d6fa3fdac | Andrew Apted | 2016-11-10 00:06:58 +1100

Image code : added IM_ConvertTGAImage() function.

------------------------------------------------------------------------
5aa22a5b3d60 | Andrew Apted | 2016-11-09 23:49:01 +1100

Fixed bug, where going into 3D mode caused the panel to stay stuck
on the currently highlighted object.

------------------------------------------------------------------------
ef03db5fc55d | Andrew Apted | 2016-11-09 23:22:06 +1100

Find/Replace : clearing a selected picture box should not open the
browser (or focus the input box) -- fixed.

------------------------------------------------------------------------
7efddb423c93 | Andrew Apted | 2016-11-09 21:42:17 +1100

Find/Replace : when using &quot;Restrict to Selection&quot;, detect early on
when the selection is empty and beep with a status message.

------------------------------------------------------------------------
129b77d18561 | Andrew Apted | 2016-11-08 20:37:48 +1100

Find/Replace : added a &quot;Restrict to Selection&quot; filter.  When active,
objects not in the current selection will be ignored (skipped).

------------------------------------------------------------------------
c7a4c5517f76 | Andrew Apted | 2016-11-08 18:45:37 +1100

Find/Replace : fixed how the picture is set, and support Things.

------------------------------------------------------------------------
26b49748c565 | Andrew Apted | 2016-11-08 18:11:22 +1100

Find/Replace : show the texture/flat in the choose box.  Also only
allow appending in the Match box when the SHIFT key is pressed.

------------------------------------------------------------------------
d94fdf5f53ed | Andrew Apted | 2016-11-08 16:52:29 +1100

Find/Replace : began work to change the &quot;Choose&quot; buttons into a
picture of the texture or thing.  Apart from looking nice, this
will fix the problem of pressing &quot;Choose&quot; and selecting something
and the name is inserted into the wrong input box.

------------------------------------------------------------------------
f7e3f7682985 | Andrew Apted | 2016-11-08 16:42:43 +1100

UI Code : fixed UI_Pic::Selected(_val) to redraw if changed.

------------------------------------------------------------------------
9126db49f6b2 | Andrew Apted | 2016-11-08 15:37:59 +1100

Ensure we never highlight objects while in the 3D preview.

------------------------------------------------------------------------
4be3e9501fc8 | Andrew Apted | 2016-11-08 15:20:14 +1100

Source code : added &quot;lib_tga.cc/h&quot; code files, support for decoding
TGA (Targa) image files.

Ultimately this code came from Quake 2, but it has been modified a
lot since then, e.g. I added support for colormapped formats.

------------------------------------------------------------------------
170c89ec0c79 | Andrew Apted | 2016-11-08 15:08:58 +1100

glBSP library : shut up a compiler warning.

------------------------------------------------------------------------
8cd6da0124a3 | Andrew Apted | 2016-11-08 10:20:08 +1100

Manage Project : when user adds a new game iwad (via FIND button)
then make it the one currently shown.

[ this was probably a regression due to recent changes ]

------------------------------------------------------------------------
faaa9692af16 | Andrew Apted | 2016-11-08 00:11:37 +1100

HEXEN config tweak.

------------------------------------------------------------------------
8600e4e8535d | Andrew Apted | 2016-11-08 00:09:05 +1100

Improved the &quot;New Project&quot; command, ask for the filename *first*
and then do the ProjectSetup dialog.  Also tidied up how FreshLevel()
and SaveLevel() were used, moving some common code into them.

------------------------------------------------------------------------
2f9204dc8f65 | Andrew Apted | 2016-11-07 23:40:14 +1100

More refactoring... split ProjectSetup() code into two separate
functions: CMD_ManageProject() and CMD_NewProject(), and merged
the Project_New() code into the latter.

------------------------------------------------------------------------
d854f740f16e | Andrew Apted | 2016-11-07 23:27:37 +1100

Code tidying : refactored new MissingIWAD_Dialog() function out of
the ProjectSetup() code, also factored out filename asking code.

------------------------------------------------------------------------
c3b52f873b5c | Andrew Apted | 2016-11-07 22:58:10 +1100

Renderer : code tidying, fixed the confusing &quot;buf&quot; and &quot;wbuf&quot; var
names (&quot;wbuf&quot; was the reading one, NOT the writing one).

------------------------------------------------------------------------
f4643fda7fc2 | Andrew Apted | 2016-11-07 22:27:19 +1100

Image code : fixed gamma handling of RGB img pixels, and moved the
gamma tables --&gt; im_color.cc

------------------------------------------------------------------------
b1605163e285 | Andrew Apted | 2016-11-07 21:46:59 +1100

Renderer : fixed partial-invis effect with RGB img pixels.

------------------------------------------------------------------------
89561e0603b6 | Andrew Apted | 2016-11-07 21:39:00 +1100

Image code : added test_make_RGB() to help test other code.

------------------------------------------------------------------------
a6cd501135dc | Andrew Apted | 2016-11-07 21:22:43 +1100

Image code : support RGB img_pixel_t in the UI_Pic widget.

------------------------------------------------------------------------
67be95de4bf2 | Andrew Apted | 2016-11-07 21:11:33 +1100

Image code : support RGB img_pixel_t in the 3D renderer, including
the lighting calculation and the partial-invis effect.

------------------------------------------------------------------------
8b11888e745a | Andrew Apted | 2016-11-07 20:59:54 +1100

Image code : support RGB img_pixel_t in the sector renderer.

------------------------------------------------------------------------
691eb4dea827 | Andrew Apted | 2016-11-07 20:55:03 +1100

Image code : start work to extend img_pixel_t, make it 16 bits and
support both a palettized index (0-255) but also 5:5:5 RGB colors
when the high bit is set.

This commit includes the decode and encode macros, as well as two
inline functions: IM_PixelToRGB() and IM_DecodePixel().

------------------------------------------------------------------------
67f1515ea2fe | Andrew Apted | 2016-11-07 20:02:16 +1100

Renderer : fixed how the screen[] array is cleared.

------------------------------------------------------------------------
012e9aedbc60 | Andrew Apted | 2016-11-07 19:59:41 +1100

Image code : fixed Img_c::clear() to not use memset.

------------------------------------------------------------------------
0678c2dd955e | Andrew Apted | 2016-11-07 19:57:32 +1100

Image code : fixed another use of &quot;byte&quot; to be &quot;img_pixel_t&quot;.

------------------------------------------------------------------------
a0c410b9b9ce | Andrew Apted | 2016-11-07 19:56:47 +1100

STRIFE config : small fix.

------------------------------------------------------------------------
1453a2106552 | Andrew Apted | 2016-11-07 19:51:34 +1100

Sector rendering : fixed a misuse of Img_c::wbuf(), which is for
writing the image but this code is only reading them.

------------------------------------------------------------------------
f5daa25a2a9f | Andrew Apted | 2016-11-07 19:50:47 +1100

Flat loader : remap any TRANS_PIXEL pixels.

------------------------------------------------------------------------
d952757e0cd4 | Andrew Apted | 2016-11-07 19:26:45 +1100

Refactored flat loading code with separate LoadFlatImage() func.

------------------------------------------------------------------------
4f93fe660368 | Andrew Apted | 2016-11-07 19:12:12 +1100

hdr_fltk : #include &quot;Fl_JPEG_Image.H&quot;, just in case we need some
jpeg loading support.

------------------------------------------------------------------------
988374cff494 | Andrew Apted | 2016-11-07 18:51:55 +1100

Game defs : added new &quot;invis&quot; color range, used when creating the
partial-invisibility effect on sprites.

------------------------------------------------------------------------
45da40222128 | Andrew Apted | 2016-11-07 18:28:00 +1100

Image code : use &quot;img_pixel_t&quot; instead of &quot;byte&quot; in a few places.

------------------------------------------------------------------------
9dcd0a88d88d | Andrew Apted | 2016-11-07 17:05:17 +1100

Image code : implemented conversion from a Fl_RGB_Image --&gt; Img_c.
Since it does a palette lookup for every pixel, it is very slow.

------------------------------------------------------------------------
8a37078a3e41 | Andrew Apted | 2016-11-07 16:13:08 +1100

STRIFE config : added &quot;l&quot; lit flag to several things.

------------------------------------------------------------------------
9b0fff312057 | Andrew Apted | 2016-11-07 15:43:54 +1100

Game defs : removed '&amp;' from the names of line types.

That convention was used in (and inherited from) the Unofficial
DOOM Specs, and means the target sector is locked out of further
changes.  But for Eureka I feel it is only visual noise.

------------------------------------------------------------------------
5fdb9aae6e36 | Andrew Apted | 2016-11-07 15:34:51 +1100

Version bump, in honor of a working STRIFE definition.

------------------------------------------------------------------------
904f694542da | Andrew Apted | 2016-11-07 15:30:41 +1100

CHANGELOG and TODO update.

------------------------------------------------------------------------
0d8706d22cfc | Andrew Apted | 2016-11-07 15:25:39 +1100

STRIFE config : fixed radius of players, which according to the
Chocolate-Strife source code is 18 units (not 16 units like all
the other games).

------------------------------------------------------------------------
3e835410db40 | Andrew Apted | 2016-11-07 15:23:29 +1100

Game defs : added &quot;player_size&quot; info to most games (for DOOM games
it is in common/doom_things).

------------------------------------------------------------------------
d01e33e7fd42 | Andrew Apted | 2016-11-07 15:08:10 +1100

Game def parser : new &quot;player_size&quot; command to specify the size of
players (radius, height and view_ofs).  Use this in the renderer,
removing the hard-coded EYE_HEIGHT value.

------------------------------------------------------------------------
6abc42c70317 | Andrew Apted | 2016-11-07 14:44:20 +1100

DOOM and HERETIC config : tweaked names of some specials.

------------------------------------------------------------------------
33765e4d519a | Andrew Apted | 2016-11-07 14:42:01 +1100

STRIFE config : finished the line specials, plus a few tweaks.

------------------------------------------------------------------------
556cc6e1f968 | Andrew Apted | 2016-11-07 14:24:38 +1100

STRIFE config : sorted out all the doors, having &quot;Split Door&quot; and
&quot;Keyed Door&quot; categories in addition to normal &quot;Door&quot; category.

------------------------------------------------------------------------
b158b60144ba | Andrew Apted | 2016-11-07 13:29:51 +1100

STRIFE config : worked on adding the line specials (from SLADE),
adapting the names to match Eureka conventions.

------------------------------------------------------------------------
95489c7a4f2a | Andrew Apted | 2016-11-07 01:02:26 +1100

Disabled normalization of sidedefs on 1-S lines after level load.

The original reason for this was to prevent showing useless crap
in the &quot;rail&quot; and &quot;upper&quot; boxes in the LineDef panel.  These days
1-S lines only show their lower texture, so it's no longer needed,
and may intefere with special usage of those sidedef parts.

------------------------------------------------------------------------
e0a7e210f083 | Andrew Apted | 2016-11-07 00:31:22 +1100

Project Setup : when doing the missing-iwad dialog, hide the port
choice, map format, and all the resource stuff, since they are
distractions from the task of finding a usable iwad.

------------------------------------------------------------------------
941d7945fea4 | Andrew Apted | 2016-11-07 00:11:53 +1100

several fixes for recent code (e.g. some string memory issues).

------------------------------------------------------------------------
892491a0fcd0 | Andrew Apted | 2016-11-06 23:21:56 +1100

Project Setup : ensure Level_format is set *before* reloading all
resources, so the UI panels can update themselves properly.

------------------------------------------------------------------------
802366bd9ef7 | Andrew Apted | 2016-11-06 22:39:56 +1100

Project Setup dialog : changed code to store the plain &quot;game&quot; name
instead of full iwad pathname, so the code easier to understand.

------------------------------------------------------------------------
3bdfc841d532 | Andrew Apted | 2016-11-06 22:10:40 +1100

Project Setup : implemented logic for the map-format choice, and
various tidying in related code.

------------------------------------------------------------------------
855a6b08f1f5 | Andrew Apted | 2016-11-06 21:24:20 +1100

STRIFE config : added sector types.

------------------------------------------------------------------------
1e46fffef76a | Andrew Apted | 2016-11-06 21:03:51 +1100

Project Setup : keep same port when changing the game (if possible),
and more robust code in the PopulatePort() method.

------------------------------------------------------------------------
eb00612709d6 | Andrew Apted | 2016-11-06 20:31:03 +1100

Project Setup : default for &quot;supported_games&quot; should be &quot;doom doom2&quot;
(mainly for backwards compatibility).

------------------------------------------------------------------------
bec9f9db94af | Andrew Apted | 2016-11-06 20:19:10 +1100

fixed several bugs in latest code...

------------------------------------------------------------------------
8a0a012199ef | Andrew Apted | 2016-11-06 19:51:00 +1100

Game def parser : implemented the &quot;variant_of&quot; and &quot;supported_games&quot;
keywords.

------------------------------------------------------------------------
698a9be80210 | Andrew Apted | 2016-11-06 19:40:28 +1100

Project Setup : implemented the machinery for limiting the list of
ports to show to ones supporting the selected game.

------------------------------------------------------------------------
e96a41e8e3aa | Andrew Apted | 2016-11-06 19:04:18 +1100

Project Setup : started work to have a map-format choice, and to
limit the port choices to ones which support the selected game.

------------------------------------------------------------------------
c341ac965a94 | Andrew Apted | 2016-11-06 16:48:07 +1100

.gitignore

------------------------------------------------------------------------
89c0bf9e4537 | Andrew Apted | 2016-11-06 16:46:59 +1100

TODO.txt updated

------------------------------------------------------------------------
88e392a8f2e9 | Andrew Apted | 2016-11-06 16:34:00 +1100

Game def parser : partial work to support minimal parsing of a
definition file to extract some info needed by the Manage Project
dialog -- like which source ports work with the chosen game.

------------------------------------------------------------------------
7fc523ea11f2 | Andrew Apted | 2016-11-06 16:18:52 +1100

CHANGELOG update.

------------------------------------------------------------------------
37ba3e6e998d | Andrew Apted | 2016-11-06 15:59:44 +1100

Game def parser : only use the &quot;common&quot; folder when looking for an
included file, and simplified the M_LoadDefinitions() code.

------------------------------------------------------------------------
d90d8c6c5902 | Andrew Apted | 2016-11-06 15:49:14 +1100

Game def parser : simplified some code, moved home_dir/install_dir
checks into the FindDefinitionFile() function.

------------------------------------------------------------------------
4800dccc0b9a | Andrew Apted | 2016-11-06 14:09:00 +1100

Makefile : re-enable debugging build (until next release....)

------------------------------------------------------------------------
ac5465fdfcd1 | Andrew Apted | 2016-11-06 14:04:35 +1100

Port defs : added &quot;supported_games&quot; to BOOM (and hence anything
which includes boom.ugh), and also XDOOM.

(This is not strictly necessary, as it matches what the defaults
will be, but being explicit is generally more helpful to people).

------------------------------------------------------------------------
d5e05fb966b3 | Andrew Apted | 2016-11-06 13:58:44 +1100

STRIFE config : added remaining thing definitions (decor objects),
adapted from the SLADE config files.

------------------------------------------------------------------------
52958a840c6b | Andrew Apted | 2016-11-06 13:09:44 +1100

STRIFE config : added the monsters, rebels and civilian things,
and gave all the pickup items the &quot;n&quot; non-blocking flag.

------------------------------------------------------------------------
d41820cc4a6e | Andrew Apted | 2016-11-06 12:23:43 +1100

Port defs : added &quot;supported_games&quot; line to vanilla and zdoom configs.

(vanilla is a special case, as it does not represent a single source
port but rather the engine which each game was shipped with).

------------------------------------------------------------------------
866bc92b8cd3 | Andrew Apted | 2016-11-06 12:11:00 +1100

Game defs : added &quot;variant_of&quot; lines to various game configs.

For example, TNT has &quot;variant_of doom2&quot; since any port which
supports DOOM 2 will support TNT Evilution.

------------------------------------------------------------------------
86646c397f68 | Andrew Apted | 2016-11-06 12:09:39 +1100

Game def parser : ignore three keywords: &quot;variant_of&quot;, &quot;supported_games&quot;
and &quot;map_formats&quot;.  These will be handled by different code.

------------------------------------------------------------------------
618f84bdb326 | Andrew Apted | 2016-11-06 11:42:48 +1100

STRIFE config : added numerous thing defs: player starts, teleports,
health, ammo, keys, weapons, powerups, and quest items.

(This info shamelessly stolen from the SLADE editor)

------------------------------------------------------------------------
f3a6f0de70ae | Andrew Apted | 2016-11-05 23:24:27 +1100

Added &quot;map_formats&quot; line to HEXEN and ZDOOM config files.

------------------------------------------------------------------------
16d50e3517ec | Andrew Apted | 2016-11-05 23:22:19 +1100

Game def parser : support a &quot;map_formats&quot; line for config files,
taking one or more map format names (&quot;DOOM&quot; or &quot;HEXEN&quot;).

------------------------------------------------------------------------
9f11b222e525 | Andrew Apted | 2016-11-05 22:48:03 +1100

minor code tidying.

------------------------------------------------------------------------
ac549f2f6f5d | Andrew Apted | 2016-11-05 22:40:19 +1100

Texture loader : fixed hack for loading the STRIFE texture lump.

------------------------------------------------------------------------
bd8b81208d23 | Andrew Apted | 2016-11-05 21:51:24 +1100

Games / STRIFE : renamed config file to match iwad filename.

------------------------------------------------------------------------
7e3f0bdfd09b | Andrew Apted | 2016-11-05 21:43:02 +1100

Texture loader : support the STRIFE format of &quot;TEXTURE1&quot; lump.

------------------------------------------------------------------------
3a95d924682b | Andrew Apted | 2016-11-05 21:21:01 +1100

Game defs : added config for the game STRIFE, quite empty so far.

------------------------------------------------------------------------
6dac24e3c180 | Andrew Apted | 2016-11-05 20:21:35 +1100

Code tidying : removed &quot;default_upper_tex&quot; and &quot;default_lower_tex&quot;
global vars, as they always mirrored the default wall texture.

------------------------------------------------------------------------
eae977031829 | Andrew Apted | 2016-11-05 20:19:49 +1100

Game defs : tweaked default textures of Heretic and Hexen.

------------------------------------------------------------------------
1e7714a24431 | Andrew Apted | 2016-11-05 20:12:45 +1100

Game defs : changed default textures for DOOM maps.

------------------------------------------------------------------------
66af446104fb | Andrew Apted | 2016-11-05 19:44:40 +1100

Ports : added &quot;zdoom.ugh&quot; configuration -- very empty so far.

------------------------------------------------------------------------
1ba18909f518 | Andrew Apted | 2016-11-05 19:31:45 +1100

Ports / Eternity : enable &quot;tx_start&quot; feature here too.

------------------------------------------------------------------------
b04fe994915e | Andrew Apted | 2016-11-05 19:19:22 +1100

Ports / EDGE : enable the &quot;tx_start&quot; feature.

------------------------------------------------------------------------
f1411037d5da | Andrew Apted | 2016-11-05 19:17:26 +1100

Texture loader : require &quot;feature tx_start&quot; in a port config file
in order to load and see the textures in TX_START/END namespace.

------------------------------------------------------------------------
a116aa2517d8 | Andrew Apted | 2016-11-05 18:12:23 +1100

Texture loader : support &quot;patch&quot; format textures in the TX_START/END
namespace.

------------------------------------------------------------------------
093c9b4e5dfc | Andrew Apted | 2016-11-05 17:57:36 +1100

Texture loader : properly free any images that get replaced by a
later wad (e.g. a resource wad).

------------------------------------------------------------------------
5c092ca8e03a | Andrew Apted | 2016-11-05 17:49:06 +1100

Texture loader : bit more work to load the TX_START/TX_END textures.

------------------------------------------------------------------------
3db6ad8381a6 | Andrew Apted | 2016-11-05 17:46:46 +1100

Flat loader : properly free any flat images that get replaced
(e.g. by a resource wad).

------------------------------------------------------------------------
b2602b090407 | Andrew Apted | 2016-11-05 17:31:33 +1100

In W_DetectImageFormat(), return a letter for all the formats we
can detect, and let higher up code decide what to support.

------------------------------------------------------------------------
00f847efbee4 | Andrew Apted | 2016-11-05 17:13:20 +1100

In W_DetectImageFormat(), check for some common but unsupported
image formats: JPEG, GIF, BMP, and DDS.

------------------------------------------------------------------------
a8e341860972 | Andrew Apted | 2016-11-05 16:54:38 +1100

Added W_DetectImageFormat() function, detect what kind of image is
used in a given wad lump.

------------------------------------------------------------------------
d1ae402290fc | Andrew Apted | 2016-11-05 13:55:21 +1100

Undo messages : simplified an overly long message.

------------------------------------------------------------------------
69d632b2cf9f | Andrew Apted | 2016-11-05 13:49:34 +1100

Undo messages : finished the remaining operations.

------------------------------------------------------------------------
276436e47c78 | Andrew Apted | 2016-11-05 13:18:00 +1100

Undo messages : did about half of the remaining operations.

------------------------------------------------------------------------
150c4e2549ea | Andrew Apted | 2016-11-05 00:32:58 +1100

Wad code : detect lumps in the TX_START..TX_END namespace.

------------------------------------------------------------------------
e9a831139e44 | Andrew Apted | 2016-11-05 00:12:57 +1100

Undo messages : handle r_render.cc -- e.g. adjusting offsets.

------------------------------------------------------------------------
d60af78e67d6 | Andrew Apted | 2016-11-05 00:08:32 +1100

Undo messages : handle inserting new objects and splitting linedefs.

------------------------------------------------------------------------
1e27900b4517 | Andrew Apted | 2016-11-05 00:04:40 +1100

Undo messages : handle the Find/Replace panel.

------------------------------------------------------------------------
c2954bbe68ea | Andrew Apted | 2016-11-04 23:48:15 +1100

Undo messages : added messages for editing done via the UI panels
(Things, LineDef, Sector, Vertex).

------------------------------------------------------------------------
6e979ce8ae2e | Andrew Apted | 2016-11-04 23:30:34 +1100

Basis : added BA_MessageForSel() utility function, used to create a
message from a verb and a selection of objects.

------------------------------------------------------------------------
7c43e11f0932 | Andrew Apted | 2016-11-04 22:39:31 +1100

Basis : have a new BA_Message() function, instead of supplying the
message to the BA_End() function.  Makes it easier to have utility
methods for setting the message, without hiding the BA_End call.

------------------------------------------------------------------------
07612c8c0663 | Andrew Apted | 2016-11-04 22:05:41 +1100

Began work on assigning a message to each operation, and show that
message in the status area after each Undo or Redo.

This commit manages the storage of the message in each undo_group_c,
updates status on Undo and Redo, and gives BA_End() function an
optional message argument (as per printf).

------------------------------------------------------------------------
b24d15382948 | Andrew Apted | 2016-11-04 21:35:05 +1100

Browser : changing categories clears the search box.

------------------------------------------------------------------------
f53de7cd4ec2 | Andrew Apted | 2016-11-04 21:14:04 +1100

CHANGELOG update.

------------------------------------------------------------------------
25abee83f394 | Andrew Apted | 2016-11-04 21:11:00 +1100

LineDef panel : allow entering a negative &quot;Length&quot; value which
causes the start vertex to be moved instead of the end vertex.

------------------------------------------------------------------------
d3dc1d46f642 | Andrew Apted | 2016-11-04 20:51:09 +1100

LineDef panel : always show an integer in the &quot;Length&quot; widget,
making it easier to edit that value.

------------------------------------------------------------------------
3088a0615d87 | Ioan Chera | 2016-08-09 21:01:49 +0300

Added forgotten (401) ExtraData sector linedef special.

------------------------------------------------------------------------
59a169a2ba24 | Ioan Chera | 2016-07-19 09:21:41 +0300

Updated Xcode project

------------------------------------------------------------------------
f762a82f53ca | Andrew Apted | 2016-04-30 13:07:54 +1000

Implemented new 'File/Copy Map' command.

------------------------------------------------------------------------
559f2ca0bfda | Andrew Apted | 2016-02-25 15:28:11 +1100

3D Preview : fixed bug not showing railings (introduced in a recent commit).

------------------------------------------------------------------------
cfa11071dc1a | Andrew Apted | 2016-02-21 12:49:34 +1100

CHANGELOG update.

------------------------------------------------------------------------
6a3693e05aaa | Andrew Apted | 2016-02-21 12:47:13 +1100

Version bump after the release.

------------------------------------------------------------------------
cd9b86ca6959 | Andrew Apted | 2016-02-21 12:40:25 +1100

Fixed some usage of isalnum(texname[0]) to use !is_null_tex() instead,
which fixes bad behavior when texture names begin with '_' or '#'.

------------------------------------------------------------------------
417a510fcdc5 | Andrew Apted | 2016-02-21 12:35:01 +1100

Added is_null_tex() function to global scope, use it everywhere instead
of directly testing the texture name.

------------------------------------------------------------------------
cb3aff590acf | Andrew Apted | 2016-02-21 12:14:09 +1100

Moved some code: LD_AddSecondSideDef() and LD_RemoveSideDef() functions
from x_loop.cc --&gt; e_linedef.cc

------------------------------------------------------------------------
f7026f24a7eb | Andrew Apted | 2016-02-21 11:35:11 +1100

LineDef panel : hide the ADD and DEL sidedef buttons.
[ a preference setting for this is under consideration... ]

------------------------------------------------------------------------
66f7d07cd165 | Andrew Apted | 2016-02-06 16:21:06 +1100

INSTALL.txt : mention 'libfontconfig-dev' as a package that may be needed.

------------------------------------------------------------------------
2aa9ee5669b9 | Andrew Apted | 2016-02-04 21:12:10 +1100

glBSP library : do not create &quot;truncated&quot; blockmaps, which rarely allows
the map to be playable.  Instead, leave the BLOCKMAP lump as empty, to
allow source ports with internal blockmap generators to generate one.

------------------------------------------------------------------------
727b91784b4d | Andrew Apted | 2016-01-29 13:03:03 +1100

Added new CHANGES.txt file (after the 1.11 release)

------------------------------------------------------------------------
b76005aeeda2 | Andrew Apted | 2016-01-29 13:01:26 +1100

Version 1.11 was released.

Hence moved CHANGELOG --&gt; changelogs/ directory.

------------------------------------------------------------------------
202acafa7736 | Andrew Apted | 2016-01-29 13:00:21 +1100

TODO : added a few post-release issues.

------------------------------------------------------------------------
8bbf0550c36b | Ioan Chera | 2016-01-26 09:26:18 +0200

Updated Xcode project and info plist version.

Removed &quot;mods&quot; from the referenced folders.

------------------------------------------------------------------------
5760ac988954 | Andrew Apted | 2016-01-26 14:03:07 +1100

pack scripts : fixed for missing &quot;mods&quot; directory.

------------------------------------------------------------------------
cf09ed180c2f | Andrew Apted | 2016-01-26 13:53:37 +1100

pack scripts : updated for transition from SVN to GIT.

------------------------------------------------------------------------
8f01beae576c | Andrew Apted | 2016-01-26 13:08:16 +1100

man page : bumped the date.

------------------------------------------------------------------------
3b1eb152e5c1 | Andrew Apted | 2016-01-26 13:07:49 +1100

eureka.desktop : added &quot;hexen&quot; to the keywords.

------------------------------------------------------------------------
552ca759b634 | Andrew Apted | 2016-01-26 11:54:14 +1100

Checks : fixed dangling vertex check to ignore lines that sit alone
inside a sector (i.e. front and back are the same sector), which is a
perfectly valid situation.

------------------------------------------------------------------------
228e54af5e81 | Andrew Apted | 2016-01-26 11:43:38 +1100

Sector rendering : for unknown flats, use the cyan-ish image instead of
the green one.

------------------------------------------------------------------------
b9ca1795b2b4 | Andrew Apted | 2016-01-26 10:05:10 +1100

TODO.txt : final update (I swear!)

------------------------------------------------------------------------
275d7fe67989 | Andrew Apted | 2016-01-26 09:42:39 +1100

CHANGELOG / TODO updated.

------------------------------------------------------------------------
4a8d41818129 | Andrew Apted | 2016-01-26 09:38:39 +1100

Added user config variable &quot;sector_render_default&quot;.

------------------------------------------------------------------------
579c1c154b13 | Andrew Apted | 2016-01-26 09:34:20 +1100

When creating a fresh map, add all four player starts, make them look north,
and center the map around (0, 0).

------------------------------------------------------------------------
0cca2756095b | Andrew Apted | 2016-01-25 23:56:30 +1100

Menu : added &quot;Online Docs...&quot; to the Help menu, which will open a web
browser and load the documentation page of the website.

------------------------------------------------------------------------
e3a840784871 | Andrew Apted | 2016-01-25 22:49:07 +1100

Sector panel : MMB on the ceiling flat sets it to sky.

------------------------------------------------------------------------
83b4206044bc | Andrew Apted | 2016-01-25 22:42:22 +1100

Fixed recent bug: RMB in the flat browser did not set ceiling tex.

------------------------------------------------------------------------
9c17ace38d33 | Andrew Apted | 2016-01-25 18:15:24 +1100

AUTHORS.txt : minor tweakage.

------------------------------------------------------------------------
6e6f2030f6be | Andrew Apted | 2016-01-25 18:07:39 +1100

README.txt : shortened the introduction paragraph.

------------------------------------------------------------------------
049526ea4943 | Andrew Apted | 2016-01-25 14:05:07 +1100

TODO.txt : added a few things.

------------------------------------------------------------------------
cd4d22c9ade7 | Andrew Apted | 2016-01-25 14:02:40 +1100

docs/History.txt : changed date format of the recent GIT commits.

------------------------------------------------------------------------
30fdd6f08241 | Andrew Apted | 2016-01-25 13:44:29 +1100

docs/History.txt : tweaked descriptive text.

------------------------------------------------------------------------
6bee5562fcbb | Andrew Apted | 2016-01-25 12:15:29 +1100

docs/History.txt : created new section for GIT repository, and added
the commits from the old SVN repository and the commits from the new
GIT repository.

------------------------------------------------------------------------
fa4b5a27193e | Andrew Apted | 2016-01-24 22:31:59 +1100

README and CHANGELOG : small update.

------------------------------------------------------------------------
283db5159c29 | Andrew Apted | 2016-01-24 22:29:09 +1100

TODO : went through and re-evaluated most items, moved several to the
&quot;NOT-TO-DO&quot; section.

------------------------------------------------------------------------
bb89fd036ef2 | Andrew Apted | 2016-01-24 22:13:26 +1100

Editing : SHIFT + LMB in sector/linedef mode forces the opening of a
selection box -- handy for places were it is otherwise impossible.

------------------------------------------------------------------------
6f1fb5073c59 | Andrew Apted | 2016-01-24 21:44:31 +1100

Code tidying, miscellaneous stuff here and there.

------------------------------------------------------------------------
2ef2708b2f39 | Andrew Apted | 2016-01-24 21:43:46 +1100

Browser : removed CycleCategory method from generalized line editor.

------------------------------------------------------------------------
23fc3cf6eb24 | Andrew Apted | 2016-01-24 21:39:57 +1100

Code tidying : removed the unused exchange_object_numbers() which is
legacy code that would require major surgery to get working again but
has very little utility.

------------------------------------------------------------------------
df4b2b95b474 | Andrew Apted | 2016-01-24 21:30:34 +1100

Code tidying : removed some unused code in e_sector.cc

------------------------------------------------------------------------
e6214230a578 | Andrew Apted | 2016-01-24 21:03:17 +1100

Version bumped,

------------------------------------------------------------------------
bafc1cc78a17 | Andrew Apted | 2016-01-24 20:59:15 +1100

CHANGELOG : re-organized into sections like &quot;Editing&quot; etc.

------------------------------------------------------------------------
595b8a63f540 | Andrew Apted | 2016-01-24 20:41:24 +1100

3D Preview : small optimisation of the texture-warp fix.

------------------------------------------------------------------------
e45cf71fb832 | Andrew Apted | 2016-01-24 19:38:31 +1100

3D Preview : fixed the texture warping issue, caused by interpolating the
angles across the wall (not the correct method).

------------------------------------------------------------------------
917fd68cb3a4 | Andrew Apted | 2016-01-24 18:15:06 +1100

TODO updated.

------------------------------------------------------------------------
48bc72ceb2e1 | Andrew Apted | 2016-01-24 18:12:41 +1100

When scrolling via keyboard, ensure certain actions (esp. drawing mode)
get updated properly.

------------------------------------------------------------------------
502373e63c25 | Andrew Apted | 2016-01-24 17:37:43 +1100

TODO update.

------------------------------------------------------------------------
eb171c92d11c | Andrew Apted | 2016-01-24 16:28:10 +1100

LIN_Flip :
1. default behavior on 1S lines is to NOT makes lines without a right side
2. support /verts flag which only swaps the vertices
3. support /sides flag which only swaps the sidedefs

------------------------------------------------------------------------
be11e914ff48 | Andrew Apted | 2016-01-24 16:27:29 +1100

Fixed bug saving the key bindings (file handle was not closed).

------------------------------------------------------------------------
d9344de9a581 | Andrew Apted | 2016-01-24 16:22:08 +1100

Canvas sector rendering : treat lines missing a right side as broken
(i.e. do not create spans even when the left side is valid).

------------------------------------------------------------------------
4c62d990849a | Andrew Apted | 2016-01-24 15:44:18 +1100

Improved split-line detection when grid snapping -- prevent the split
point from being far away from the line.

------------------------------------------------------------------------
a46432dcaa8b | Andrew Apted | 2016-01-24 14:58:32 +1100

Drawing mode : added special case for splitting a line via mouse button
(and not in drawing mode) to allow the new vertex to be dragged.
[ this was not possible in the normal Insert_Vertex code-path ]

------------------------------------------------------------------------
d8715a09ddfc | Andrew Apted | 2016-01-24 13:54:13 +1100

code : futher tidying in Editor_MouseRelease().

------------------------------------------------------------------------
12134d210757 | Andrew Apted | 2016-01-24 13:53:07 +1100

Implemented &quot;!=&quot; operator for the Objid class.

------------------------------------------------------------------------
ecde28798c7f | Andrew Apted | 2016-01-24 13:44:03 +1100

code : various tidying in Editor_MouseMotion().

------------------------------------------------------------------------
ff44e9660b02 | Andrew Apted | 2016-01-24 13:35:09 +1100

code : some refactoring in Editor_MouseRelease().

------------------------------------------------------------------------
97b340a84f1d | Andrew Apted | 2016-01-24 13:23:16 +1100

minor code rejig in Editor_MouseRelease().

------------------------------------------------------------------------
6b6d6101db2e | Andrew Apted | 2016-01-24 13:09:53 +1100

Drawing mode : worked on fixing drawing mode erroneously beginning again
after closing a sector via splitting a line.  Still not correct, ugh...

------------------------------------------------------------------------
7a7e8cefea7f | Andrew Apted | 2016-01-24 11:39:08 +1100

Fixed Selection_NotifyInsert() to not clear a vertex selection when a
new linedef or sector is created.

------------------------------------------------------------------------
0340593de210 | Andrew Apted | 2016-01-23 23:25:47 +1100

Added workaround in Editor_RawButton() for FLTK not sending us a button
release event after another mouse button was released (i.e. when two
buttons were being held down simultaneously).

------------------------------------------------------------------------
a106d2019868 | Andrew Apted | 2016-01-23 22:57:04 +1100

fix for previous commit: do not check for FL_DRAG event when calling
Editor_MouseMotion, since it won't be set after scrolling via RMB.

------------------------------------------------------------------------
701606bbb8f1 | Andrew Apted | 2016-01-23 22:49:07 +1100

Changed the way map scrolling via RMB is done, no longer an action state
(ACT_XXX value) because that prevents scrolling and line drawing being
used together [ a scroll would disable the current line ].

------------------------------------------------------------------------
d1b3b2a4744e | Andrew Apted | 2016-01-23 21:12:37 +1100

For dangling vertex fixer, when merging two vertices make the final
vertex selected (and nothing else).

------------------------------------------------------------------------
025c5161c1f1 | Andrew Apted | 2016-01-23 21:01:05 +1100

Fixed the logic for fixing a dangling vertex.

------------------------------------------------------------------------
9ad68d2fb07e | Andrew Apted | 2016-01-23 20:29:42 +1100

Insert_Vertex : added back the check preventing the creation of a zero
length linedef -- it displays a &quot;Bug detected&quot; message as I am quite
sure that it should never happen.

------------------------------------------------------------------------
f2015147a513 | Andrew Apted | 2016-01-23 20:08:29 +1100

Insert_Vertex : fixed a few cases involving a split-line.

------------------------------------------------------------------------
d96639336041 | Andrew Apted | 2016-01-22 22:49:25 +1100

CHANGELOG and TODO update.

------------------------------------------------------------------------
770427e0583e | Andrew Apted | 2016-01-22 22:48:04 +1100

Insert_Vertex : bit more work, e.g. split-line handling.

------------------------------------------------------------------------
0d24939ea117 | Andrew Apted | 2016-01-22 22:37:25 +1100

Insert_Vertex : tidied up the highlight handling code.

------------------------------------------------------------------------
ef8079ded2eb | Andrew Apted | 2016-01-22 22:27:57 +1100

Began some major surgery to Insert_Vertex() to better manage all the
possible cases (e.g. easier_drawing_mode either ON or OFF).

------------------------------------------------------------------------
cb1ada9985dc | Andrew Apted | 2016-01-22 19:40:09 +1100

Drawing mode : when drawing a line AND grid snapping, allow the highlight
and split-line to move onto the snapped position (when they would otherwise
not show anything).

This prevents creating a vertex which inadvertently sits on top of another
vertex or sits on a line (due to the coordinate being snapped).

------------------------------------------------------------------------
9b45589532ba | Andrew Apted | 2016-01-22 19:38:38 +1100

Canvas : draw the split-line orange ball larger when zoomed in (closer
to the size of the vertices).

------------------------------------------------------------------------
94e30ea2dfe2 | Andrew Apted | 2016-01-22 19:10:19 +1100

Code : merely moved some code around in editloop.cc

------------------------------------------------------------------------
6309684a23b5 | Andrew Apted | 2016-01-22 19:07:15 +1100

Code : renamed GetCurobject --&gt; GetNearObject, removed unused &quot;snap&quot; param.

------------------------------------------------------------------------
7effd83d2359 | Andrew Apted | 2016-01-22 18:24:08 +1100

Added config file variable &quot;minimum_drag_pixels&quot;.

------------------------------------------------------------------------
1e410deea699 | Andrew Apted | 2016-01-22 18:12:57 +1100

Improved dragging: only begin dragging if cursor has moved a minimum # of
pixels away from the click point.  This prevents the problem where you
only wanted to select a vertex, but instead you &quot;dragged&quot; it.

------------------------------------------------------------------------
0cab70de706f | Andrew Apted | 2016-01-22 16:43:16 +1100

Drawing mode : allow a vertex created by spliting a line to be dragged.

------------------------------------------------------------------------
7fd666632eb1 | Andrew Apted | 2016-01-22 15:14:42 +1100

When merging vertices, simply keep the coordinates of the first vertex
(the one not delete).  The previous way of computing the middle coord
was not working well with grid-snapped vertices.

------------------------------------------------------------------------
51c91df163bc | Andrew Apted | 2016-01-22 13:57:51 +1100

More work on dangling vert fixer, but the logic is still not right...

------------------------------------------------------------------------
0f2b97fef84a | Andrew Apted | 2016-01-22 13:39:43 +1100

Implemented code to try to fix a dangling vertex -- if it sits on another
vertex, merge into that one, or if it sits on a line then split the line
with it.

Also when using CMD_Insert on a vertex, try to fix it if dangling.

------------------------------------------------------------------------
e017b4dc494e | Andrew Apted | 2016-01-22 12:49:27 +1100

Code tidying : removed unused/obsolete DrawSnapMarker() method.

------------------------------------------------------------------------
fc5e6a76bf2a | Andrew Apted | 2016-01-22 11:49:32 +1100

Checks : fixed sector checker for Boom generalized types.

------------------------------------------------------------------------
f7eadbbeda47 | Andrew Apted | 2016-01-22 11:42:47 +1100

Added preference setting to disable the &quot;easier line drawing&quot; mode.

------------------------------------------------------------------------
ae42eb238506 | Andrew Apted | 2016-01-22 10:54:51 +1100

Generalized browser : changing fields will now update the line's type value.

This commit marks the completion of BOOM generalized type support :)

------------------------------------------------------------------------
768bea808584 | Andrew Apted | 2016-01-22 10:41:04 +1100

Generalized browser : allow &quot;NONE&quot; category to clear the line's type.

------------------------------------------------------------------------
cb81af656fcf | Andrew Apted | 2016-01-22 10:40:07 +1100

LineDef panel : change &quot;Choose&quot; button to &quot;Edit&quot; for generalized types.

------------------------------------------------------------------------
2b58a571e419 | Andrew Apted | 2016-01-22 10:26:12 +1100

Checks : fixed unknown line-type checker to accept Boom generalized types
when the current port is boom-compatible.

------------------------------------------------------------------------
c17e1a147d37 | Andrew Apted | 2016-01-20 22:05:13 +1100

CHANGELOG and TODO updated.

------------------------------------------------------------------------
8e8f1884ba13 | Andrew Apted | 2016-01-20 21:51:20 +1100

Drawing mode : prevent LMB from adding linedefs when not in drawing mode
(this was happening when splitting a linedef with LMB and another vertex
was selected).

------------------------------------------------------------------------
16edc3c8a418 | Andrew Apted | 2016-01-20 19:12:06 +1100

CMD_LastSelection : tweak invalidation logic.

------------------------------------------------------------------------
5518ba839444 | Andrew Apted | 2016-01-20 18:45:10 +1100

TODO update.

------------------------------------------------------------------------
2f83b1983fb5 | Andrew Apted | 2016-01-20 18:43:52 +1100

Checks / vertex : added new test for &quot;dangling&quot; vertices (one which are
only connected to a single line).

------------------------------------------------------------------------
a38e3a4a24ba | Andrew Apted | 2016-01-20 17:18:04 +1100

.gitignore : added &quot;_work&quot; and various MacOS-X crud.

------------------------------------------------------------------------
8da24b1c39ad | Andrew Apted | 2016-01-20 17:09:22 +1100

Browser : fixed recent bug causing the browser to jump to top of list
when clicking on an entry (such as a texture).

------------------------------------------------------------------------
ac2bc6f8bbf6 | Andrew Apted | 2016-01-20 16:45:18 +1100

Code tidying : removed obsolete GetMaxObjectNum() function.

------------------------------------------------------------------------
ca58ba967f23 | Andrew Apted | 2016-01-20 16:43:35 +1100

CMD_LastSelection : validate the new selection (i.e. don't crash if there
turns out to be a bug in the normal invalidation logic).

------------------------------------------------------------------------
cc93a8f9c43a | Andrew Apted | 2016-01-20 16:27:27 +1100

A few fixes for &quot;LastSelection&quot; command, which involved changing the
&quot;mode&quot; parameter of the NewEditMode() methods from char --&gt; obj_type_e
(which is much more sensible).

------------------------------------------------------------------------
cc9db892869d | Andrew Apted | 2016-01-20 15:59:11 +1100

CMD_LastSelection : properly invalidate the last selection if an editing
operation inserts or deletes objects in its range.

------------------------------------------------------------------------
d8a8633063ca | Andrew Apted | 22016-01-20 15:51:35 +1100

Info bar : give the status widget a tooltip with the same message, for
cases when the message is too long to fit on-screen.

------------------------------------------------------------------------
37fd31d0f80b | Andrew Apted | 2016-01-20 15:41:30 +1100

CMD_LastSelection : change editor mode if different than the last
selection (and zoom into the selection, which helps make the mode
change more obvious).

------------------------------------------------------------------------
55c50ce52c87 | Andrew Apted | 2016-01-20 15:34:43 +1100

CMD_LastSelection : got the basic functionality working.

------------------------------------------------------------------------
f9f4f2cda77e | Andrew Apted | 2016-01-20 15:06:45 +1100

Drawing mode : fixed handling of SHIFT + LMB (continue drawing) when
the line connected to an existing used vertex.

------------------------------------------------------------------------
cd3a8b697bfd | Andrew Apted | 2016-01-20 15:01:59 +1100

Replaced &quot;edit.Selected-&gt;clear_all()&quot; code --&gt; Selection_Clear().

Also began work on ability to restore the last selection (when possible).

------------------------------------------------------------------------
29320c1f53c2 | Andrew Apted | 2016-01-20 14:15:10 +1100

Selection class : implemented new &quot;test_equal()&quot; method, checks if two
selections are the same.

------------------------------------------------------------------------
f40a855324eb | Andrew Apted | 2016-01-19 22:00:53 +1100

TODO update.

------------------------------------------------------------------------
4ab4adfac0dc | Andrew Apted | 2016-01-19 22:00:14 +1100

CHANGELOG updated.

------------------------------------------------------------------------
ff1b2c5d2b6a | Andrew Apted | 2016-01-19 21:55:37 +1100

Generalized browser : made choice widgets a bit wider.

------------------------------------------------------------------------
b6b47b8ca0e5 | Andrew Apted | 2016-01-19 21:54:39 +1100

gen_types.ugh : expanded &quot;HnF&quot;, &quot;LnC&quot; (etc) --&gt; &quot;Highest Floor&quot;, &quot;Lowest Ceil&quot; (etc).

------------------------------------------------------------------------
cc97e49d0309 | Andrew Apted | 2016-01-19 21:38:44 +1100

gen_types.ugh : improved various keywords, e.g. target names.

------------------------------------------------------------------------
c5bc0c49356a | Andrew Apted | 2016-01-19 21:25:02 +1100

Generalized browser : ability to reset all fields to default values, and
fixed bug showing the wrong page.

------------------------------------------------------------------------
dbc53c8454c5 | Andrew Apted | 2016-01-19 21:00:42 +1100

Generalized browser : small improvement to previous commit.

------------------------------------------------------------------------
833a5654cff6 | Andrew Apted | 2016-01-19 20:53:47 +1100

Generalized browser : removed the &quot;Gen&quot; button, too much clutter.

Instead: clicking &quot;Choose&quot; when the type is in range will open the
generalized browser, also by right clicking that button.  Plus it can
be opened via the menus.

------------------------------------------------------------------------
5085fac14cc2 | Andrew Apted | 2016-01-19 20:45:45 +1100

Generalized browser : implemented decoding the line_type.

------------------------------------------------------------------------
91680fa56b9c | Andrew Apted | 2016-01-19 20:18:41 +1100

Generalized browser : worked on UpdateGenType() for setting the page and
all the field widgets to match the current linedef type.

Also removed the &quot;SET&quot; button -- changes will take effect immediately
(just like everything else in the LineDef panel).

------------------------------------------------------------------------
040d3c6ebbdc | Andrew Apted | 2016-01-19 19:15:33 +1100

Generalized browser : tweaked layout for extra line in FLOOR/CEILING
categories, and some other stuff for the Model/Monsters duality...

------------------------------------------------------------------------
f793fde39431 | Andrew Apted | 2016-01-19 18:19:20 +1100

gen_types.ugh : moved &quot;Speed&quot; field lower (underneath Target field), and
for FLOOR and CEILING added a &quot;Monsters&quot; field (having same bit position
as the &quot;Model&quot; field -- will need code to handle that properly).

------------------------------------------------------------------------
1086a2117b04 | Andrew Apted | 2016-01-19 17:21:10 +1100

gen_types.ugh : added a default value in each &quot;gen_field&quot; line, and
tweaked some more field names / keywords.

------------------------------------------------------------------------
ba4e660499b8 | Andrew Apted | 2016-01-19 17:05:12 +1100

gen_types.ugh : changed order so that &quot;DOOR&quot; is first, and capitalized
various of the keywords and tweaked a few others.

------------------------------------------------------------------------
603c1d5fcc36 | Andrew Apted | 2016-01-19 17:03:45 +1100

Generalized browser : layout tweak.

------------------------------------------------------------------------
df23936ec62b | Andrew Apted | 2016-01-19 16:41:48 +1100

Generalized browser : implemented creating the choice buttons in each
page, and computing a type value, and fixed a few bugs.

------------------------------------------------------------------------
a30790a7fae3 | Andrew Apted | 2016-01-19 16:02:49 +1100

Generalized browser : changed resize behavior again, match what the other
browsers do (everything follows the left edge).

------------------------------------------------------------------------
cc1f97a5491c | Andrew Apted | 2016-01-19 15:57:58 +1100

Generalized browser : minimise it whenever we change to the GEN browser
(since it looks quite bad otherwise).

------------------------------------------------------------------------
0dba3322afe3 | Andrew Apted | 2016-01-19 14:50:05 +1100

Heretic config : categorized all the flats and textures.

------------------------------------------------------------------------
b541f4c70e5c | Andrew Apted | 2016-01-19 14:13:46 +1100

Hexen config tweak.

------------------------------------------------------------------------
6922aca68c73 | Andrew Apted | 2016-01-19 14:10:09 +1100

Hexen config : categorized all the textures and flats.

------------------------------------------------------------------------
e5c78e090cc6 | Andrew Apted | 2016-01-19 13:01:42 +1100

Browser : only populate the Category widget with non-empty categories.

------------------------------------------------------------------------
419c132ca180 | Andrew Apted | 2016-01-18 23:08:47 +1100

TODO updated.

------------------------------------------------------------------------
4372deb33d8e | Andrew Apted | 2016-01-18 23:03:35 +1100

Generalized browser : implemented apply_callback().

------------------------------------------------------------------------
95fad8495f84 | Andrew Apted | 2016-01-18 22:49:17 +1100

Generalized browser : implemented category callback which shows the
corresponding page (hiding the rest), and support cycling through the
categories.

------------------------------------------------------------------------
c89c229084a8 | Andrew Apted | 2016-01-18 22:20:37 +1100

Generalized browser : create the category and apply widgets, create all
the pages (albeit just empty rects), and handle changes to game_info.

------------------------------------------------------------------------
048c6e57bef6 | Andrew Apted | 2016-01-18 21:18:37 +1100

Generalized browser : fleshed out structure of UI_Generalized_Box class,
added a message box to show when not in BOOM mode.

------------------------------------------------------------------------
90bbb8850446 | Andrew Apted | 2016-01-18 20:54:44 +1100

Generalized browser : fixed resize behavior, tweaked title.

------------------------------------------------------------------------
206d7e8464a1 | Andrew Apted | 2016-01-18 20:34:04 +1100

Generalized type : in LineDef panel, show a basic description for a gen
line, currently it is the trigger + &quot;GENERALIZED&quot; + category name.

------------------------------------------------------------------------
e400500674fe | Andrew Apted | 2016-01-18 19:59:46 +1100

Sector panel : when user enters a large value into type box, store it
directly in sectors -- the panel will show the Boom interpretation.

------------------------------------------------------------------------
7d1b2dc12219 | Andrew Apted | 2016-01-18 19:38:09 +1100

Sector panel : use &quot;BoomSF_XXX&quot; constants for generalized masks.

------------------------------------------------------------------------
60d57d7d9945 | Andrew Apted | 2016-01-18 19:25:57 +1100

Sector panel : the Boom flag widgets now show values for current sector,
and reworked type_callback() to allow setting these values too.

------------------------------------------------------------------------
e96dc17a0625 | Andrew Apted | 2016-01-18 18:22:19 +1100

Sector panel : added widgets at bottom for Boom generalized sector types,
and enable/disable them based on the game_info.  They do not work yet...

------------------------------------------------------------------------
282819b660af | Andrew Apted | 2016-01-18 16:04:35 +1100

Sector panel : got the headroom shortcut buttons working.

------------------------------------------------------------------------
2b8bbdbc19cb | Andrew Apted | 2016-01-18 15:58:51 +1100

Sector panel : began work on buttons for setting headroom...

------------------------------------------------------------------------
bbceb92effdb | Andrew Apted | 2016-01-18 15:30:07 +1100

Generalized types : hide or show &quot;Gen&quot; button depending on game_info.

------------------------------------------------------------------------
fa5b620d1365 | Andrew Apted | 2016-01-18 15:08:24 +1100

Added a .gitignore file, ignore objects (*.o) and executables.

------------------------------------------------------------------------
cb6a39ba1ebb | Andrew Apted | 2016-01-18 15:03:41 +1100

Create obj_linux/ and obj_win32/ folders, which were lost after the
conversion from SVN, and added .gitignore files in them.

------------------------------------------------------------------------
0b46a7d4032f | Andrew Apted | 2016-01-17 13:11:33 +0000

TODO update.

------------------------------------------------------------------------
9af1f2337766 | Andrew Apted | 2016-01-17 13:10:22 +0000

Generalized types : added &quot;Gen&quot; button to LineDef panel.



====================================================
    DEVELOPMENT IN SVN REPOSITORY
====================================================

------------------------------------------------------------------------
r1909 | ajapted | 2016-01-17 23:44:49 +1100 (Sun, 17 Jan 2016) | 3 lines

Generalized types : in the Browser, support ACTIVE_GENERALIZED as the
special value for &quot;active&quot; member, support 'G' in ChangeMode() method.

------------------------------------------------------------------------
r1908 | ajapted | 2016-01-17 23:20:25 +1100 (Sun, 17 Jan 2016) | 2 lines

CMD_BrowserMode : support a &quot;genline&quot; keyword.

------------------------------------------------------------------------
r1907 | ajapted | 2016-01-17 23:18:21 +1100 (Sun, 17 Jan 2016) | 2 lines

Menu : added &quot;Generalized Line&quot; command to Browser menu.

------------------------------------------------------------------------
r1906 | ajapted | 2016-01-17 23:13:56 +1100 (Sun, 17 Jan 2016) | 3 lines

Generalized types : began work on a special browser box for displaying
and editing a generalized type (via new UI_Generalized_Box class).

------------------------------------------------------------------------
r1905 | ajapted | 2016-01-17 23:00:16 +1100 (Sun, 17 Jan 2016) | 3 lines

gen_types.ugh : removed the mask values, we simply compute it from the
bits and shift values.

------------------------------------------------------------------------
r1904 | ajapted | 2016-01-17 21:51:04 +1100 (Sun, 17 Jan 2016) | 3 lines

Replaced &quot;Aspect ratio&quot; preference with &quot;Pixel aspect ratio&quot;, now just
a simple number input box.  The config variable was also renamed.

------------------------------------------------------------------------
r1903 | ajapted | 2016-01-17 21:07:11 +1100 (Sun, 17 Jan 2016) | 3 lines

CMD_CopyProperties : implemented /reverse flag which copies from the
highlighted object to the selected object(s).

------------------------------------------------------------------------
r1902 | ajapted | 2016-01-17 18:55:36 +1100 (Sun, 17 Jan 2016) | 2 lines

TODO.txt updated.

------------------------------------------------------------------------
r1901 | ajapted | 2016-01-17 18:52:10 +1100 (Sun, 17 Jan 2016) | 9 lines

CMD_Delete : allow sectors to be considered &quot;unused&quot; (and hence removed)
if were are deleting linedefs (or verts) and the only linedefs remaining
will not have a valid sector reference opposite them.

This change was prompted by the case of removing the 3rd vertex in a
triangle poking out from other geometry, which would delete the two
linedefs but leave the one opposite the vertex with broken geometry
(still two sided, with a sidedef facing the now defunct sector).

------------------------------------------------------------------------
r1900 | ajapted | 2016-01-17 18:36:56 +1100 (Sun, 17 Jan 2016) | 2 lines

Check / vertices : ability to SHOW unused vertices.

------------------------------------------------------------------------
r1899 | ajapted | 2016-01-17 18:10:22 +1100 (Sun, 17 Jan 2016) | 2 lines

CMD_Delete : remove unused sectors in vertex/linedef mode, fixed some bugs.

------------------------------------------------------------------------
r1898 | ajapted | 2016-01-17 17:54:25 +1100 (Sun, 17 Jan 2016) | 2 lines

Improved the code in CMD_Delete().

------------------------------------------------------------------------
r1897 | ajapted | 2016-01-17 16:00:12 +1100 (Sun, 17 Jan 2016) | 4 lines

Improved FindClosestCrossPoint() to treat vertices as quite large, the
exact size depending on the current zoom factor.  This makes it easier
for the user to draw a line through a vertex and have it autosplit.

------------------------------------------------------------------------
r1896 | ajapted | 2016-01-17 15:21:30 +1100 (Sun, 17 Jan 2016) | 2 lines

Proper fix for previous commit (that commit was causing unclosed sectors).

------------------------------------------------------------------------
r1895 | ajapted | 2016-01-17 14:53:14 +1100 (Sun, 17 Jan 2016) | 4 lines

When merging two connected linedefs (by dragging a vertex),fixed the
handling when one of the lines is one-sided -- caused bad orientation
of the merged line and/or missing middle texture.

------------------------------------------------------------------------
r1894 | ajapted | 2016-01-17 14:19:48 +1100 (Sun, 17 Jan 2016) | 2 lines

Factored out a linedef utility function: LD_FixForLostSide()

------------------------------------------------------------------------
r1893 | ajapted | 2016-01-17 13:45:16 +1100 (Sun, 17 Jan 2016) | 3 lines

Fixed creating overlapping lines when deleting 3rd vertex of a triangle
(caused by merging the two linedefs connected at that vertex).

------------------------------------------------------------------------
r1892 | ajapted | 2016-01-17 00:45:42 +1100 (Sun, 17 Jan 2016) | 4 lines

Added common/xlat_doom.cfg and common/xlat_hexen.cfg files.  These are not
used yet, but later will contain directives for converting between the two
supported map formats (Doom and Hexen).

------------------------------------------------------------------------
r1891 | ajapted | 2016-01-17 00:13:51 +1100 (Sun, 17 Jan 2016) | 2 lines

Browser : fixed things inserted by SPACE not appearing in RECENT category.

------------------------------------------------------------------------
r1890 | ajapted | 2016-01-17 00:03:49 +1100 (Sun, 17 Jan 2016) | 3 lines

Browser : improved the RECENT category, properly sort items so that the
most recent ones are near the top.

------------------------------------------------------------------------
r1889 | ajapted | 2016-01-16 21:42:55 +1100 (Sat, 16 Jan 2016) | 4 lines

Browser : don't call RecentUpdate() directly from the insert() method of
the recently used lists, since RecentUpdate() might be very expensive
(e.g. needing to sort the whole texture list).

------------------------------------------------------------------------
r1888 | ajapted | 2016-01-16 20:53:28 +1100 (Sat, 16 Jan 2016) | 3 lines

Disabled the MMB doing an &quot;Insert&quot; command, that functionality has been
superceded by the new drawing mode.

------------------------------------------------------------------------
r1887 | ajapted | 2016-01-16 20:46:13 +1100 (Sat, 16 Jan 2016) | 2 lines

Menu : added &quot;Recent Textures&quot; (etc) commands to the Browser menu.

------------------------------------------------------------------------
r1886 | ajapted | 2016-01-16 20:44:13 +1100 (Sat, 16 Jan 2016) | 2 lines

Browser : increased size of RECENT category to 30 (was 11).

------------------------------------------------------------------------
r1885 | ajapted | 2016-01-16 18:45:53 +1100 (Sat, 16 Jan 2016) | 2 lines

CHANGELOG and TODO update.

------------------------------------------------------------------------
r1884 | ajapted | 2016-01-16 18:34:21 +1100 (Sat, 16 Jan 2016) | 3 lines

Disable a check for potential linedef overlaps -- not needed with the new
autosplit logic.

------------------------------------------------------------------------
r1883 | ajapted | 2016-01-16 18:33:22 +1100 (Sat, 16 Jan 2016) | 2 lines

FindClosestCrossPoint : finished the implementation.

------------------------------------------------------------------------
r1882 | ajapted | 2016-01-16 18:21:42 +1100 (Sat, 16 Jan 2016) | 3 lines

FindClosestCrossPoint : tweak vertex check, worked on the linedef check
(e.g. the intersection calculation, which seems to be working).

------------------------------------------------------------------------
r1881 | ajapted | 2016-01-16 15:52:16 +1100 (Sat, 16 Jan 2016) | 2 lines

Detect vertex crossing in FindClosestCrossPoint().

------------------------------------------------------------------------
r1880 | ajapted | 2016-01-16 14:11:33 +1100 (Sat, 16 Jan 2016) | 2 lines

Began work on new FindClosestCrossPoint() function....

------------------------------------------------------------------------
r1879 | ajapted | 2016-01-16 13:35:43 +1100 (Sat, 16 Jan 2016) | 4 lines

Implemented high-level logic for Insert_LineDef_autosplit(), which will
check if the new line crosses any existing lines or vertices and if so
automatically create splits and multiple new linedefs (as needed).

------------------------------------------------------------------------
r1878 | ajapted | 2016-01-16 13:10:33 +1100 (Sat, 16 Jan 2016) | 5 lines

Hexen : use &quot;special&quot; instead of &quot;line&quot; in the game definition file.

In the code, temporarily made &quot;special&quot; synonymous with &quot;line&quot;, though
later they will need to be separate tables.

------------------------------------------------------------------------
r1877 | ajapted | 2016-01-16 12:16:33 +1100 (Sat, 16 Jan 2016) | 2 lines

LineDef panel : made the Hexen arg boxes a bit wider.

------------------------------------------------------------------------
r1876 | ajapted | 2016-01-15 23:19:20 +1100 (Fri, 15 Jan 2016) | 2 lines

Ports : include &quot;gen_types&quot; from the BOOM definition file.

------------------------------------------------------------------------
r1875 | ajapted | 2016-01-15 23:14:43 +1100 (Fri, 15 Jan 2016) | 3 lines

Generalized types : implemented parsing of &quot;gen_line&quot; and &quot;gen_field&quot;
commands (in the gen_types.ugh file).

------------------------------------------------------------------------
r1874 | ajapted | 2016-01-15 22:42:58 +1100 (Fri, 15 Jan 2016) | 3 lines

Generalized types : define the structures that the parsing code will
store the information into.

------------------------------------------------------------------------
r1873 | ajapted | 2016-01-15 22:25:14 +1100 (Fri, 15 Jan 2016) | 3 lines

gen_types.ugh : fleshed out remaining types (LIFT, STAIR, CRUSHER) and
tweaked a few other things.

------------------------------------------------------------------------
r1872 | ajapted | 2016-01-15 22:08:23 +1100 (Fri, 15 Jan 2016) | 2 lines

gen_types.ugh : added fields for CEILING, DOOR and KEY DOOR.

------------------------------------------------------------------------
r1871 | ajapted | 2016-01-15 21:53:24 +1100 (Fri, 15 Jan 2016) | 3 lines

Began work on 'common/gen_types.ugh' file which defines all the BOOM
generalized line types.  [ it will require new code too... ]

------------------------------------------------------------------------
r1870 | ajapted | 2016-01-15 20:54:59 +1100 (Fri, 15 Jan 2016) | 2 lines

Find and Replace : added 'X' button to hide the panel.

------------------------------------------------------------------------
r1869 | ajapted | 2016-01-15 20:51:09 +1100 (Fri, 15 Jan 2016) | 2 lines

Default Props : added an 'X' button to hide the panel.

------------------------------------------------------------------------
r1868 | ajapted | 2016-01-15 20:17:30 +1100 (Fri, 15 Jan 2016) | 2 lines

TODO updated.

------------------------------------------------------------------------
r1867 | ajapted | 2016-01-15 20:16:54 +1100 (Fri, 15 Jan 2016) | 2 lines

README : updated some key combos (e.g. SPACE + SHIFT)

------------------------------------------------------------------------
r1866 | ajapted | 2016-01-15 20:11:16 +1100 (Fri, 15 Jan 2016) | 3 lines

Bindings : added /nofill flag to CMD-SPACE and CMD-INSERT, so that they
behave the same as the hard-coded behavior of the LMB.

------------------------------------------------------------------------
r1865 | ajapted | 2016-01-15 20:08:30 +1100 (Fri, 15 Jan 2016) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r1864 | ajapted | 2016-01-15 20:03:36 +1100 (Fri, 15 Jan 2016) | 3 lines

Drawing mode : LMB + SHIFT now continues drawing mode (in cases where it
normally stops) and LMB + CTRL now inhibits the creation of new sectors.

------------------------------------------------------------------------
r1863 | ajapted | 2016-01-15 19:54:09 +1100 (Fri, 15 Jan 2016) | 3 lines

Implemented /nofill flag for CMD_Insert command, in vertex mode it prevents
creating any new sectors.

------------------------------------------------------------------------
r1862 | ajapted | 2016-01-15 18:28:21 +1100 (Fri, 15 Jan 2016) | 2 lines

Drawing mode : cancel drawing mode if the source vertex is deleted.

------------------------------------------------------------------------
r1861 | ajapted | 2016-01-15 17:47:22 +1100 (Fri, 15 Jan 2016) | 4 lines

Drawing mode : if second vertex is on a line connected to first one,
merely select them both.  This allows to select numerous vertices even
when drawing mode begins at first one.

------------------------------------------------------------------------
r1860 | ajapted | 2016-01-15 17:14:37 +1100 (Fri, 15 Jan 2016) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r1859 | ajapted | 2016-01-15 17:11:33 +1100 (Fri, 15 Jan 2016) | 2 lines

Sector panel : right click on floor/ceiling flat sets it to default.

------------------------------------------------------------------------
r1858 | ajapted | 2016-01-15 17:06:42 +1100 (Fri, 15 Jan 2016) | 3 lines

LineDef panel : right-clicking on a texture sets it to the default, or &quot;-&quot;
for the rail textures.

------------------------------------------------------------------------
r1857 | ajapted | 2016-01-15 00:57:18 +1100 (Fri, 15 Jan 2016) | 4 lines

When inserting a linedef which splits a sector, ensure the line faces a
consistent way (in other words, make the line's end vertex be the second
one selected or created).

------------------------------------------------------------------------
r1856 | ajapted | 2016-01-13 20:31:44 +1100 (Wed, 13 Jan 2016) | 2 lines

Drawing mode : exit drawing mode on the &quot;Unselect All&quot; command.

------------------------------------------------------------------------
r1855 | ajapted | 2016-01-13 20:11:04 +1100 (Wed, 13 Jan 2016) | 2 lines

Drawing mode : fixed bug beginning to draw when edit mode != VERTEX.

------------------------------------------------------------------------
r1854 | ajapted | 2016-01-13 20:01:18 +1100 (Wed, 13 Jan 2016) | 2 lines

Replaced &quot;edit.RedrawMap = 1&quot; with a function call: RedrawMap()

------------------------------------------------------------------------
r1853 | ajapted | 2016-01-13 19:47:58 +1100 (Wed, 13 Jan 2016) | 5 lines

Drawing mode : begin drawing on mouse release after clicking on a vertex
and not dragging it, and when no other vertices were selected.

This is now working as a user would expect.

------------------------------------------------------------------------
r1852 | ajapted | 2016-01-13 19:01:08 +1100 (Wed, 13 Jan 2016) | 3 lines

When showing a split-line, store X/Y coordinate in the editor state
(instead of recomputing them in Vertex_Insert).

------------------------------------------------------------------------
r1851 | ajapted | 2016-01-13 18:35:55 +1100 (Wed, 13 Jan 2016) | 4 lines

Drawing mode : don't draw a vertex when another vertex is highlighted,
or when split-line is active.  If another vertex is highlighted, &quot;snap&quot;
the line onto it (since inserting will use it as the new endpoint).

------------------------------------------------------------------------
r1850 | ajapted | 2016-01-13 18:15:17 +1100 (Wed, 13 Jan 2016) | 2 lines

Drawing mode : worked on making it a proper action: ACT_DRAW_LINE.

------------------------------------------------------------------------
r1849 | ajapted | 2016-01-12 21:42:11 +1100 (Tue, 12 Jan 2016) | 2 lines

Sector rendering : use the dummy image for unknown flats.

------------------------------------------------------------------------
r1848 | ajapted | 2016-01-12 21:38:25 +1100 (Tue, 12 Jan 2016) | 4 lines

Reworked code for creating dummy textures, they are now cached by functions
in im_img.cc (IM_MissingTex etc) instead of r_render.cc, and increased the
size from 32x32 --&gt; 64x64.

------------------------------------------------------------------------
r1847 | ajapted | 2016-01-12 19:15:03 +1100 (Tue, 12 Jan 2016) | 4 lines

Vertex drawing : draw a vertex too (as well as the red line) and handle
grid-snapping properly.  Fixed several issues when inserting (generally
turning off the drawing mode).

------------------------------------------------------------------------
r1846 | ajapted | 2016-01-12 18:42:20 +1100 (Tue, 12 Jan 2016) | 4 lines

Began work on a &quot;drawing mode&quot;, after inserting a vertex we continuously
draw a red line from it to where the next vertex will go, and allow a
simple left click to insert the next vertex.  Quite buggy atm...

------------------------------------------------------------------------
r1845 | ajapted | 2016-01-12 16:52:14 +1100 (Tue, 12 Jan 2016) | 2 lines

Fixed mouse-wheel zooming around wrong spot after loading a new map.

------------------------------------------------------------------------
r1844 | ajapted | 2016-01-12 16:39:52 +1100 (Tue, 12 Jan 2016) | 2 lines

Sector rendering : save/restore the state to the cache .dat file.

------------------------------------------------------------------------
r1843 | ajapted | 2016-01-12 16:30:30 +1100 (Tue, 12 Jan 2016) | 2 lines

CHANGELOG updated.

------------------------------------------------------------------------
r1842 | ajapted | 2016-01-12 16:29:00 +1100 (Tue, 12 Jan 2016) | 3 lines

Menu : added &quot;Sector Rendering&quot; choice to the View menu, implemented via
new 'sector_render_mode' field in the editor_state structure.

------------------------------------------------------------------------
r1841 | ajapted | 2016-01-11 14:06:12 +1100 (Mon, 11 Jan 2016) | 7 lines

ALL GAMES : reworked color definitions:
* sky is now a fairly light blue
* unknown_tex is as close to bright cyan as possible
* unknown_flat is a fairly bright green
* wall colors are grayscale
* floor colors are a light brown

------------------------------------------------------------------------
r1840 | ajapted | 2016-01-11 13:44:02 +1100 (Mon, 11 Jan 2016) | 3 lines

Replaced &quot;R3D_Gamma&quot; command with &quot;Gamma&quot; command so it can be used in
general scope, and fixed the F11 key in the bindings.cfg file.

------------------------------------------------------------------------
r1839 | ajapted | 2016-01-11 13:33:50 +1100 (Mon, 11 Jan 2016) | 6 lines

Changed TRANS_PIXEL from 247 --&gt; 255, which is more friendly to Heretic
and Hexen games.

Also updated COLORMAP loader to replace any TRANS_PIXEL values, just in
case some code uses it when creating an Img_c.

------------------------------------------------------------------------
r1838 | ajapted | 2016-01-11 11:33:58 +1100 (Mon, 11 Jan 2016) | 3 lines

Canvas : fleshed out support for different modes in RenderSector(), e.g.
solid rendering for an unknown texture using the game specific color.

------------------------------------------------------------------------
r1837 | ajapted | 2016-01-10 20:48:36 +1100 (Sun, 10 Jan 2016) | 2 lines

Canvas : compute proper texture coords for rendering sector flats.

------------------------------------------------------------------------
r1836 | ajapted | 2016-01-10 20:33:47 +1100 (Sun, 10 Jan 2016) | 3 lines

Canvas : rendering sector flats is working, albeit not scaled or translated
properly yet....

------------------------------------------------------------------------
r1835 | ajapted | 2016-01-10 20:20:31 +1100 (Sun, 10 Jan 2016) | 2 lines

Canvas : partial work on rendering sectors with a flat texture...

------------------------------------------------------------------------
r1834 | ajapted | 2016-01-10 20:06:20 +1100 (Sun, 10 Jan 2016) | 2 lines

Canvas : ability to render sectors as solid, showing their light levels.

------------------------------------------------------------------------
r1833 | ajapted | 2016-01-10 19:34:40 +1100 (Sun, 10 Jan 2016) | 3 lines

Added config file variables: light_bump_small, _medium, _large.
The default for non-modifier light button is 16 units (up or down).

------------------------------------------------------------------------
r1832 | ajapted | 2016-01-10 19:26:21 +1100 (Sun, 10 Jan 2016) | 2 lines

Added SectorLightColor() utility function.

------------------------------------------------------------------------
r1831 | ajapted | 2016-01-10 18:40:08 +1100 (Sun, 10 Jan 2016) | 2 lines

README : some updates.

------------------------------------------------------------------------
r1830 | ajapted | 2016-01-10 18:37:36 +1100 (Sun, 10 Jan 2016) | 2 lines

TODO update.

------------------------------------------------------------------------
r1829 | ajapted | 2016-01-10 18:31:57 +1100 (Sun, 10 Jan 2016) | 7 lines

Added workaround for loading BOOM definitions with games that are not
supported by BOOM (Heretic and Hexen) -- we skip parsing the boom.ugh
config file for certain games (done via new &quot;exclude_game&quot; directive).

A better system for specifying which game + port combinations are
usable is definitely needed -- something to be tackled later on.

------------------------------------------------------------------------
r1828 | ajapted | 2016-01-10 18:10:47 +1100 (Sun, 10 Jan 2016) | 2 lines

Version bump and updated printf'd copyright year for 2016.

------------------------------------------------------------------------
r1827 | ajapted | 2016-01-10 18:09:32 +1100 (Sun, 10 Jan 2016) | 2 lines

About window : credit Ioan Chera in the copyright lines.

------------------------------------------------------------------------
r1826 | ajapted | 2016-01-10 17:09:59 +1100 (Sun, 10 Jan 2016) | 2 lines

Eternity support : added a &quot;3D MidTex&quot; checkbox to the LineDef panel.

------------------------------------------------------------------------
r1825 | ajapted | 2016-01-10 16:54:23 +1100 (Sun, 10 Jan 2016) | 2 lines

code : removed unused GetAngleName() and GetWhenName() functions.

------------------------------------------------------------------------
r1824 | ajapted | 2016-01-10 16:51:01 +1100 (Sun, 10 Jan 2016) | 3 lines

Only show the &quot;passthru&quot; linedef flag when the game/port supports it.
Added &quot;feature pass_through 1&quot; to the BOOM definition file.

------------------------------------------------------------------------
r1823 | ajapted | 2016-01-10 16:39:06 +1100 (Sun, 10 Jan 2016) | 3 lines

Hexen (etc) : removed UpdateMapFormatInfo() methods, use UpdateGameInfo()
for map format stuff too.

------------------------------------------------------------------------
r1822 | ajapted | 2016-01-10 16:08:23 +1100 (Sun, 10 Jan 2016) | 3 lines

UI : in Sector panel, moved the &quot;Headroom&quot; widget below the rest, with a
few other tweaks to the layout.

------------------------------------------------------------------------
r1821 | ajapted | 2016-01-10 15:25:23 +1100 (Sun, 10 Jan 2016) | 3 lines

UI : code tidying -- remove explicit add() calls in UI_Sector and
UI_NodeDialog constructors.

------------------------------------------------------------------------
r1820 | ajapted | 2016-01-10 15:18:30 +1100 (Sun, 10 Jan 2016) | 2 lines

UI : improved layout of Sector panel, more roomy.

------------------------------------------------------------------------
r1819 | ajapted | 2016-01-10 15:09:26 +1100 (Sun, 10 Jan 2016) | 2 lines

UI : tweaked position of UI_Nombre in each editing panel.

------------------------------------------------------------------------
r1818 | ajapted | 2016-01-10 14:54:23 +1100 (Sun, 10 Jan 2016) | 2 lines

UI : offset the first column of flags in the LineDef panel.

------------------------------------------------------------------------
r1817 | ajapted | 2016-01-10 14:49:24 +1100 (Sun, 10 Jan 2016) | 2 lines

UI : tweaked layout in the LineDef panel, bit more vertical spacing.

------------------------------------------------------------------------
r1816 | ajapted | 2016-01-10 13:27:01 +1100 (Sun, 10 Jan 2016) | 2 lines

Hexen : use tooltips to show what arguments of a line/thing special do.

------------------------------------------------------------------------
r1815 | ajapted | 2016-01-10 13:16:50 +1100 (Sun, 10 Jan 2016) | 3 lines

Hexen : when showing args in LineDef / Thing panels, show a zero instead
of a blank when the special for the line/thing actually uses that arg.

------------------------------------------------------------------------
r1814 | ajapted | 2016-01-10 12:26:49 +1100 (Sun, 10 Jan 2016) | 3 lines

Inserting vertices with SHIFT always selects the new vertex.
This is achieved via new &quot;/select&quot; flag for the Insert key command.

------------------------------------------------------------------------
r1813 | ajapted | 2016-01-10 11:02:06 +1100 (Sun, 10 Jan 2016) | 2 lines

Canvas : fixed some bugs in 2D sector rendering (e.g. min_y/max_y calcs).

------------------------------------------------------------------------
r1812 | ajapted | 2016-01-10 01:10:37 +1100 (Sun, 10 Jan 2016) | 2 lines

Canvas / RenderSector : fixed CMP_X to place NULLs at end of list.

------------------------------------------------------------------------
r1811 | ajapted | 2016-01-10 01:01:36 +1100 (Sun, 10 Jan 2016) | 3 lines

Canvas : got solid rendering of a rectangular sector working.  The next
step will be to render flats....

------------------------------------------------------------------------
r1810 | ajapted | 2016-01-10 00:52:18 +1100 (Sun, 10 Jan 2016) | 4 lines

Canvas : for 2D sector rendering, compute the &quot;side&quot; field, added &quot;x&quot;
field for the computed X values, and implemented finding the spans.

------------------------------------------------------------------------
r1809 | ajapted | 2016-01-10 00:30:14 +1100 (Sun, 10 Jan 2016) | 2 lines

TODO.txt updated.

------------------------------------------------------------------------
r1808 | ajapted | 2016-01-10 00:25:23 +1100 (Sun, 10 Jan 2016) | 2 lines

CHANGELOG : minor rearrange.

------------------------------------------------------------------------
r1807 | ajapted | 2016-01-10 00:14:01 +1100 (Sun, 10 Jan 2016) | 2 lines

Canvas : more work on experimental 2D sector rendering....

------------------------------------------------------------------------
r1806 | ajapted | 2016-01-09 21:19:26 +1100 (Sat, 09 Jan 2016) | 2 lines

Hexen : fully support the special type in the Thing panel.

------------------------------------------------------------------------
r1805 | ajapted | 2016-01-09 21:04:17 +1100 (Sat, 09 Jan 2016) | 3 lines

Hexen : implemented the Thing special &quot;Choose&quot; button, and allow a click
on a browser item to set the special type.

------------------------------------------------------------------------
r1804 | ajapted | 2016-01-09 20:52:13 +1100 (Sat, 09 Jan 2016) | 2 lines

Canvas : began work on experimental RenderSector() method....

------------------------------------------------------------------------
r1803 | ajapted | 2016-01-09 20:05:36 +1100 (Sat, 09 Jan 2016) | 2 lines

Hexen : support showing and editing arguments in the Thing panel.

------------------------------------------------------------------------
r1802 | ajapted | 2016-01-08 19:43:59 +1100 (Fri, 08 Jan 2016) | 6 lines

Thing panel : reorganized it e.g. moved sprite above the arrow circle
(closer to the Type / Desc widgets), and a few other tweaks.

This was prompted by a need for all the new Hexen stuff to fit in the
minimum window size (which it now does).

------------------------------------------------------------------------
r1801 | ajapted | 2016-01-08 18:45:50 +1100 (Fri, 08 Jan 2016) | 3 lines

Hexen : added &quot;Special&quot;, &quot;Args&quot; (etc) widgets in the Thing panel.
They are not implemented yet....

------------------------------------------------------------------------
r1800 | ajapted | 2016-01-08 18:22:52 +1100 (Fri, 08 Jan 2016) | 2 lines

Hexen : implemented &quot;dormant&quot; flag in the Thing panel.

------------------------------------------------------------------------
r1799 | ajapted | 2016-01-08 18:11:33 +1100 (Fri, 08 Jan 2016) | 2 lines

Hexen : fixed wrong &quot;mask&quot; values for SP/COOP/DM buttons (used by callback function).

------------------------------------------------------------------------
r1798 | ajapted | 2016-01-08 17:10:03 +1100 (Fri, 08 Jan 2016) | 2 lines

Hexen : support the class flags (Fighter/Cleric/Magic) in Thing panel.

------------------------------------------------------------------------
r1797 | ajapted | 2016-01-08 16:46:35 +1100 (Fri, 08 Jan 2016) | 2 lines

Hexen : support game mode flags (SP, COOP, DM) in the Things panel.

------------------------------------------------------------------------
r1796 | ajapted | 2016-01-08 16:31:15 +1100 (Fri, 08 Jan 2016) | 3 lines

Check things : updated stuck-things detection to handle HEXEN flags,
especially the class bits.

------------------------------------------------------------------------
r1795 | ajapted | 2016-01-08 16:24:10 +1100 (Fri, 08 Jan 2016) | 2 lines

Fixed a bug recently introduced in the stuck-thing detection.

------------------------------------------------------------------------
r1794 | ajapted | 2016-01-08 16:18:24 +1100 (Fri, 08 Jan 2016) | 2 lines

Added config file variable: default_gamma

------------------------------------------------------------------------
r1793 | ajapted | 2016-01-08 15:08:53 +1100 (Fri, 08 Jan 2016) | 2 lines

Added config file variables: floor_bump_small, _medium, _large.

------------------------------------------------------------------------
r1792 | ajapted | 2016-01-06 14:49:05 +1100 (Wed, 06 Jan 2016) | 4 lines

Makefile : the install target now deletes the old &quot;freedoom.ugh&quot; config,
preventing it from appearing in the Manage Project dialog (along with
freedoom1 and freedoom2, which is confusing).

------------------------------------------------------------------------
r1791 | ajapted | 2015-12-31 14:31:48 +1100 (Thu, 31 Dec 2015) | 3 lines

CHANGELOG : brought the changelog completely up-to-date, and reorganised
with most important elements at the top.

------------------------------------------------------------------------
r1790 | ajapted | 2015-12-30 12:45:23 +1100 (Wed, 30 Dec 2015) | 3 lines

Hexen : in Linedef panel, support setting new Activation values via the
choice button.

------------------------------------------------------------------------
r1789 | ajapted | 2015-12-30 12:35:29 +1100 (Wed, 30 Dec 2015) | 2 lines

Hexen : properly update the Activation choice when selecting/hilighting lines.

------------------------------------------------------------------------
r1788 | ajapted | 2015-12-30 12:14:47 +1100 (Wed, 30 Dec 2015) | 2 lines

Thing panel : moved the arrow circle (up and left) and made the buttons bigger.

------------------------------------------------------------------------
r1787 | ajapted | 2015-12-30 12:10:41 +1100 (Wed, 30 Dec 2015) | 2 lines

UI : made the right panel slightly wider.

------------------------------------------------------------------------
r1786 | ajapted | 2015-12-30 12:06:21 +1100 (Wed, 30 Dec 2015) | 3 lines

Hexen : in LineDef panel added a choice widget for the activation mode of
the linedef -- with choices such as W1, SR, G1 (etc....)

------------------------------------------------------------------------
r1785 | ajapted | 2015-12-30 11:30:21 +1100 (Wed, 30 Dec 2015) | 3 lines

Map loading : allow loading a map with no vertices, no linedefs (etc...)
Also factored out some common code in linedef loaders: ValidateSidedefs()

------------------------------------------------------------------------
r1784 | ajapted | 2015-12-29 23:27:54 +1100 (Tue, 29 Dec 2015) | 2 lines

Hexen : made the Linedef panel actually show the 5 arguments.

------------------------------------------------------------------------
r1783 | ajapted | 2015-12-29 23:13:56 +1100 (Tue, 29 Dec 2015) | 3 lines

Hexen : in Linedef panel show the five &quot;Args:&quot; boxes when in Hexen mode,
and implemented args_callback() which can set new values.

------------------------------------------------------------------------
r1782 | ajapted | 2015-12-29 22:51:03 +1100 (Tue, 29 Dec 2015) | 2 lines

Find / Replace : support the &quot;tag&quot; filter for Hexen things (TID).

------------------------------------------------------------------------
r1781 | ajapted | 2015-12-29 19:43:14 +1100 (Tue, 29 Dec 2015) | 3 lines

Changed DEFAULT_PORT to be &quot;vanilla&quot; instead of &quot;boom&quot;, because Boom is
only a DOOM engine and does not support Heretic or Hexen.

------------------------------------------------------------------------
r1780 | ajapted | 2015-12-29 19:36:23 +1100 (Tue, 29 Dec 2015) | 2 lines

HEXEN conf : added four linegroups: Animated, Door, Lift, Stairs.

------------------------------------------------------------------------
r1779 | ajapted | 2015-12-29 19:20:09 +1100 (Tue, 29 Dec 2015) | 2 lines

DOOM conf : minor comment fix (syntax of &quot;line&quot; command).

------------------------------------------------------------------------
r1778 | ajapted | 2015-12-29 19:15:57 +1100 (Tue, 29 Dec 2015) | 3 lines

Browser : fixed alpha sorting of line specials for Hexen (it did not handle
the lack of a S1/WR/etc action name at beginning of the description).

------------------------------------------------------------------------
r1777 | ajapted | 2015-12-29 19:05:15 +1100 (Tue, 29 Dec 2015) | 2 lines

HEXEN conf : added two missing specials: 138 &quot;Floor_Waggle&quot; and 109 &quot;Force_Lightning&quot;.

------------------------------------------------------------------------
r1776 | ajapted | 2015-12-29 18:58:34 +1100 (Tue, 29 Dec 2015) | 2 lines

HEXEN conf : added missing line/thing special 0 (&quot;NOTHING&quot;).

------------------------------------------------------------------------
r1775 | ajapted | 2015-12-29 18:48:31 +1100 (Tue, 29 Dec 2015) | 2 lines

Game def parser : support arg1..arg5 names in &quot;line&quot; commands (for Hexen).

------------------------------------------------------------------------
r1774 | ajapted | 2015-12-29 18:38:29 +1100 (Tue, 29 Dec 2015) | 2 lines

HEXEN conf : finished the line/thing specials.

------------------------------------------------------------------------
r1773 | ajapted | 2015-12-29 18:20:15 +1100 (Tue, 29 Dec 2015) | 3 lines

HEXEN conf : more work on line/thing specials, simplifying and/or abbreviating
some names and renamed a few argument names.

------------------------------------------------------------------------
r1772 | ajapted | 2015-12-29 17:19:27 +1100 (Tue, 29 Dec 2015) | 3 lines

HEXEN conf : more work on the specials, put all types into an appropriate
category and renamed a few specials.

------------------------------------------------------------------------
r1771 | ajapted | 2015-12-29 17:06:36 +1100 (Tue, 29 Dec 2015) | 3 lines

HEXEN config : began work to define all the line/thing specials, based
on the Unofficial Hexen Specifications.

------------------------------------------------------------------------
r1770 | ajapted | 2015-12-29 14:55:02 +1100 (Tue, 29 Dec 2015) | 3 lines

Use absolute paths for resource filenames in __EUREKA lump, since that is
more robust (allows moving the wad to another folder).

------------------------------------------------------------------------
r1769 | ajapted | 2015-12-29 14:42:04 +1100 (Tue, 29 Dec 2015) | 8 lines

Added a built-in &quot;DOGS&quot; sprite for when port is Boom (or compatible), as
that sprite is generally not available in the IWADs and showing a missing
sprite in the browser was quite ugly / distracting.

This dog sprite was sourced from the OpenGameArt.org website.
Authors are 'Benalene' and 'qudobup' (users on the OGA site).
License is CC-BY 3.0 (Creative Commons Attribution license).

------------------------------------------------------------------------
r1768 | ajapted | 2015-12-29 14:33:02 +1100 (Tue, 29 Dec 2015) | 3 lines

Image class : added IM_CreateFromText() function which can generate an Img_c
from some builtin strings and palette [ not unlike XPM ].

------------------------------------------------------------------------
r1767 | ajapted | 2015-12-29 14:04:29 +1100 (Tue, 29 Dec 2015) | 2 lines

Removed RGB_INVALID constant -- not used anywhere.

------------------------------------------------------------------------
r1766 | ajapted | 2015-12-27 21:29:19 +1100 (Sun, 27 Dec 2015) | 2 lines

Configs : updated comments to remove &quot;should not exceed 24 characters&quot; advice.

------------------------------------------------------------------------
r1765 | ajapted | 2015-12-27 21:24:32 +1100 (Sun, 27 Dec 2015) | 3 lines

Hexen : define the new linedef flags (MLF_Repeatable, MLF_Activation)
plus some ZDoom flags.  Also define the activation values (SPAC_XXX).

------------------------------------------------------------------------
r1764 | ajapted | 2015-12-27 19:23:52 +1100 (Sun, 27 Dec 2015) | 2 lines

HEXEN config : finished sector types.

------------------------------------------------------------------------
r1763 | ajapted | 2015-12-27 19:13:12 +1100 (Sun, 27 Dec 2015) | 2 lines

HEXEN conf : worked on adding all the Sector specials...

------------------------------------------------------------------------
r1762 | ajapted | 2015-12-27 18:09:37 +1100 (Sun, 27 Dec 2015) | 2 lines

HEXEN config : a few fixes (e.g. Cauldron sprites).

------------------------------------------------------------------------
r1761 | ajapted | 2015-12-27 18:07:25 +1100 (Sun, 27 Dec 2015) | 2 lines

HEXEN config : finished improving the names of things.

------------------------------------------------------------------------
r1760 | ajapted | 2015-12-27 17:54:22 +1100 (Sun, 27 Dec 2015) | 2 lines

HEXEN conf : worked on improving names of decorative things...

------------------------------------------------------------------------
r1759 | ajapted | 2015-12-27 17:17:35 +1100 (Sun, 27 Dec 2015) | 2 lines

HEXEN config : split decorations by adding new &quot;Natural&quot; category.

------------------------------------------------------------------------
r1758 | ajapted | 2015-12-27 17:06:56 +1100 (Sun, 27 Dec 2015) | 2 lines

HEXEN config : added all remaining thing types (though names need fixing...)

------------------------------------------------------------------------
r1757 | ajapted | 2015-12-27 16:49:46 +1100 (Sun, 27 Dec 2015) | 2 lines

Hexen config : added thing types 10500-10503 and 8500-8509.

------------------------------------------------------------------------
r1756 | ajapted | 2015-12-27 16:41:03 +1100 (Sun, 27 Dec 2015) | 2 lines

HEXEN config : added the puzzle-piece items (plus a new category for them).

------------------------------------------------------------------------
r1755 | ajapted | 2015-12-27 16:36:23 +1100 (Sun, 27 Dec 2015) | 2 lines

HEXEN config : id numbers for 'Flechette' and 'Disc of Repulsion' were reversed, fixed.

------------------------------------------------------------------------
r1754 | ajapted | 2015-12-27 15:03:45 +1100 (Sun, 27 Dec 2015) | 2 lines

HEXEN config : added player starts 5-8 and the soundtype markers (things 1400-1409).

------------------------------------------------------------------------
r1753 | ajapted | 2015-12-27 14:48:40 +1100 (Sun, 27 Dec 2015) | 2 lines

HEXEN : added whitespace to align columns (for Things).

------------------------------------------------------------------------
r1752 | ajapted | 2015-12-27 12:09:48 +1100 (Sun, 27 Dec 2015) | 2 lines

TODO : minor update

------------------------------------------------------------------------
r1751 | ajapted | 2015-12-27 12:05:35 +1100 (Sun, 27 Dec 2015) | 7 lines

In game definitions support 't' flag for things like teleport destination
which can safely overlap moving actors (players and monsters) but not
decorative things.

Reworked thing stuck checking code to handle it (and also to only check
each pair of blocking things ONCE).

------------------------------------------------------------------------
r1750 | ajapted | 2015-12-20 12:42:05 +1100 (Sun, 20 Dec 2015) | 2 lines

Removed top-level &quot;ups&quot; folder -- not used for anything.

------------------------------------------------------------------------
r1749 | ajapted | 2015-12-20 12:38:40 +1100 (Sun, 20 Dec 2015) | 2 lines

TODO.txt : updated.

------------------------------------------------------------------------
r1748 | ajapted | 2015-12-20 12:35:17 +1100 (Sun, 20 Dec 2015) | 3 lines

GAME definitions : removed &quot;level_name XXX&quot; lines, which are not used
(they were simply ignored by the UGH file parser).

------------------------------------------------------------------------
r1747 | ajapted | 2015-12-19 23:48:41 +1100 (Sat, 19 Dec 2015) | 4 lines

Hexen support : added &quot;z&quot; widget to the Thing panel (only visible when
editing a hexen format map).  Also apply the Z value when rendering
things in the 3D preview.  These changes by Ioan Chera.

------------------------------------------------------------------------
r1746 | ajapted | 2015-12-19 23:21:37 +1100 (Sat, 19 Dec 2015) | 3 lines

Hexen support : added &quot;TID&quot; widget to the Thing panel when the current
map format is Hexen (and hide it otherwise).  This code by Ioan Chera.

------------------------------------------------------------------------
r1745 | ajapted | 2015-12-19 23:08:56 +1100 (Sat, 19 Dec 2015) | 4 lines

Hexen support : code for reading and writing Hexen format maps, including
handling the BEHAVIOR lump.  This code originally by Ioan Chera (printz)
with a few tweaks by me.

------------------------------------------------------------------------
r1744 | ajapted | 2015-12-19 22:13:01 +1100 (Sat, 19 Dec 2015) | 2 lines

GAMES : added partial Hexen config (ugh) file -- thanks to printz.

------------------------------------------------------------------------
r1743 | ajapted | 2015-12-19 21:29:24 +1100 (Sat, 19 Dec 2015) | 6 lines

Check lines : detect manual (D1,DR) doors on one-sided linedefs, with
options to show or fix them (we &quot;fix&quot; them by clearing the special).
Reason for this check is that such doors can crash vanilla DOOM.

This closes ticket #16.

------------------------------------------------------------------------
r1742 | ajapted | 2015-12-19 20:58:19 +1100 (Sat, 19 Dec 2015) | 3 lines

HERETIC: renamed two monsters: &quot;Gargoyle Leader&quot; --&gt; &quot;Fire Gargoyle&quot;,
and &quot;Golem Leader&quot; --&gt; &quot;Nitro Golem&quot; (more consistent with the game).

------------------------------------------------------------------------
r1741 | ajapted | 2015-11-27 12:56:56 +1100 (Fri, 27 Nov 2015) | 3 lines

glBSP library : disabled the &quot;no nodes&quot; hack which created a dummy node and
subsector -- turns out that vanilla DOOM copes with no nodes just fine.

------------------------------------------------------------------------
r1740 | ajapted | 2015-09-21 19:40:23 +1000 (Mon, 21 Sep 2015) | 9 lines

Updated eureka.desktop file with:
1. %f on Exec line and a MimeType line, so can handle wad files from
   file-system exploring/navigation programs
2. replaced &quot;X-DoomEditor&quot; category with &quot;ActionGame&quot;
3. added Keywords line

Thanks to Fabian Greffrath for the patch (ticket #17).
I tweaked the set of keywords (e.g. added &quot;heretic&quot;).

------------------------------------------------------------------------
r1739 | ajapted | 2015-09-09 13:54:40 +1000 (Wed, 09 Sep 2015) | 4 lines

Another fix for the freedoom1/freedoom2 distinction -- when loading known iwads,
ignore the plain &quot;freedoom&quot; entry (so it won't appear as a choice in the Manage
Project dialog).

------------------------------------------------------------------------
r1738 | ajapted | 2015-09-08 21:37:46 +1000 (Tue, 08 Sep 2015) | 5 lines

Fixed problem when looking for 'freedoom' as an emergency IWAD to use,
since there are now separate config files for Phase 1 and Phase 2, namely
'freedoom1.ugh' and 'freedoom2.ugh', hence the code should check these
instead of plain 'freedoom'.

------------------------------------------------------------------------
r1737 | ajapted | 2015-09-07 22:02:51 +1000 (Mon, 07 Sep 2015) | 4 lines

Ports / Eternity : added &quot;EE:&quot; prefix to all linetype descriptions, removed
the 'x', 'w' and 'u' categories, various tweaks to the descriptions e.g.
added /f and /c to designate types that use/affect a floor or ceiling.

------------------------------------------------------------------------
r1736 | ajapted | 2015-09-07 21:43:05 +1000 (Mon, 07 Sep 2015) | 3 lines

Checked in definition file for the 'Eternity' source port, courtesy printz
(with some editing by me).

------------------------------------------------------------------------
r1735 | ajapted | 2015-08-29 22:53:08 +1000 (Sat, 29 Aug 2015) | 2 lines

Browser: increased default width by 10 pixels (show 4 columns of sprites).

------------------------------------------------------------------------
r1734 | ajapted | 2015-08-29 22:51:38 +1000 (Sat, 29 Aug 2015) | 4 lines

Better handle the case when merging linedefs after dragging a vertex
(check the sectors on each side and decide if need to change a sidedef
on the linedef which remains, or even delete the other linedef).

------------------------------------------------------------------------
r1733 | printz | 2015-08-23 18:58:37 +1000 (Sun, 23 Aug 2015) | 3 lines

Eureka for OSX is now code-signed

* Also updated recommended project settings.
------------------------------------------------------------------------
r1732 | ajapted | 2015-06-13 16:43:15 +1000 (Sat, 13 Jun 2015) | 2 lines

Created new CHANGES.txt after the previous release.

------------------------------------------------------------------------
r1731 | ajapted | 2015-06-13 16:40:15 +1000 (Sat, 13 Jun 2015) | 2 lines

Moved CHANGES.txt --&gt; changelogs/107.txt

------------------------------------------------------------------------
r1730 | ajapted | 2015-06-13 16:36:33 +1000 (Sat, 13 Jun 2015) | 3 lines

Check / textures : implemented checking for the Medusa Effect, but only when
the game or port specifies the &quot;medusa_bug&quot; feature.

------------------------------------------------------------------------
r1729 | ajapted | 2015-06-13 14:21:01 +1000 (Sat, 13 Jun 2015) | 2 lines

Ports / vanilla : added &quot;feature medusa_bug 1&quot;

------------------------------------------------------------------------
r1728 | ajapted | 2015-06-13 14:20:18 +1000 (Sat, 13 Jun 2015) | 3 lines

Support 'medusa_bug' feature in game definitions (mainly needed by Vanilla
to indicate that it is prone to the Medusa Effect).

------------------------------------------------------------------------
r1727 | ajapted | 2015-06-13 14:14:16 +1000 (Sat, 13 Jun 2015) | 3 lines

Texture loader : check for textures which potentially cause the Medusa Effect
when used as a mid-masked texture on a 2S line.

------------------------------------------------------------------------
r1726 | ajapted | 2015-06-12 14:57:04 +1000 (Fri, 12 Jun 2015) | 4 lines

Check / textures : implemented test for transparent textures used on solid
parts of walls, including &quot;Log&quot; button to list them and &quot;Fix&quot; button to
automatically set them to the default wall texture.

------------------------------------------------------------------------
r1725 | ajapted | 2015-06-12 14:34:19 +1000 (Fri, 12 Jun 2015) | 2 lines

Image class : added has_transparent() method.

------------------------------------------------------------------------
r1724 | ajapted | 2015-03-03 19:47:41 +1100 (Tue, 03 Mar 2015) | 2 lines

GAME DEFS : minor comment changes in freedoom2.ugh

------------------------------------------------------------------------
r1723 | ajapted | 2015-03-03 19:46:24 +1100 (Tue, 03 Mar 2015) | 4 lines

GAME DEFS : better support for latest FreeDoom release:
1. renamed freedoom.ugh --&gt; freedoom2.ugh
2. added freedoom1.ugh which simply includes &quot;doom&quot;

------------------------------------------------------------------------
r1722 | ajapted | 2015-02-18 18:22:05 +1100 (Wed, 18 Feb 2015) | 2 lines

README.txt : removed 'F5' key description.

------------------------------------------------------------------------
r1721 | printz | 2015-02-17 18:30:38 +1100 (Tue, 17 Feb 2015) | 1 line

osx: Bumped info.plist version

------------------------------------------------------------------------
r1720 | ajapted | 2015-02-16 18:24:43 +1100 (Mon, 16 Feb 2015) | 2 lines

Changed default of 'render_aspect_ratio' config var --&gt; 133.

------------------------------------------------------------------------
r1719 | ajapted | 2015-02-16 18:21:57 +1100 (Mon, 16 Feb 2015) | 2 lines

Win32 package : fixed missing logo image.

------------------------------------------------------------------------
r1718 | ajapted | 2015-02-16 16:58:48 +1100 (Mon, 16 Feb 2015) | 2 lines

CHANGELOG : added current revision.

------------------------------------------------------------------------
r1717 | ajapted | 2015-02-16 16:47:13 +1100 (Mon, 16 Feb 2015) | 2 lines

docs/History : re-sync with SVN repository logs (ready fo release).

------------------------------------------------------------------------
r1716 | ajapted | 2015-02-16 15:41:50 +1100 (Mon, 16 Feb 2015) | 2 lines

CHANGELOG and TODO updated for the release.

------------------------------------------------------------------------
r1715 | ajapted | 2015-02-16 15:41:00 +1100 (Mon, 16 Feb 2015) | 2 lines

Makefile : re-enable optimisation for the upcoming release.

------------------------------------------------------------------------
r1714 | ajapted | 2015-02-16 15:31:38 +1100 (Mon, 16 Feb 2015) | 3 lines

Default Props : implemented showing sprite for default thing, and clicking
on it opens the Thing browser.

------------------------------------------------------------------------
r1713 | ajapted | 2015-02-16 15:06:41 +1100 (Mon, 16 Feb 2015) | 3 lines

Default Properties : only show a single &quot;wall&quot; texture (instead of having
three of them, which was rather unwieldy).

------------------------------------------------------------------------
r1712 | ajapted | 2015-02-16 12:38:52 +1100 (Mon, 16 Feb 2015) | 2 lines

Makefile.xming : updated to FLTK 1.3.3

------------------------------------------------------------------------
r1711 | ajapted | 2015-02-16 12:38:03 +1100 (Mon, 16 Feb 2015) | 2 lines

FLTK tweak : add FL_DOUBLE flag to Fl::visual() call.

------------------------------------------------------------------------
r1710 | ajapted | 2015-02-16 12:35:31 +1100 (Mon, 16 Feb 2015) | 2 lines

README.txt : update (c) year.

------------------------------------------------------------------------
r1709 | ajapted | 2015-02-16 00:21:28 +1100 (Mon, 16 Feb 2015) | 2 lines

pack scripts : added missing &quot;bindings.cfg&quot; to them (Esp. the Win32 package)

------------------------------------------------------------------------
r1708 | ajapted | 2015-02-16 00:10:20 +1100 (Mon, 16 Feb 2015) | 3 lines

Show error dialog when the standard &quot;bindings.cfg&quot; file cannot be loaded
(call M_LoadBindings _after_ bumping init_progress to 3).

------------------------------------------------------------------------
r1707 | ajapted | 2015-02-15 23:14:15 +1100 (Sun, 15 Feb 2015) | 2 lines

pack-win32 script : small improvements.

------------------------------------------------------------------------
r1706 | ajapted | 2015-02-15 23:10:27 +1100 (Sun, 15 Feb 2015) | 2 lines

Win32 : created 'pack-win32.sh' shell script for creating a package.

------------------------------------------------------------------------
r1705 | ajapted | 2015-02-15 22:56:42 +1100 (Sun, 15 Feb 2015) | 3 lines

pack-source script : rewrote it, removed &quot;cd ..&quot;, removed &quot;$src&quot; variable,
use &quot;svn export&quot; for copying directory contents.

------------------------------------------------------------------------
r1704 | ajapted | 2015-02-15 22:31:25 +1100 (Sun, 15 Feb 2015) | 7 lines

Win32 : implement a fallback for $home_dir when the %APPDATA% folder
cannot be determined.

We also now call Determine_InstallPath() _before_ Determine_HomeDir(),
needed by the above change, and I'm 99% sure that this is perfectly fine
for all platforms.

------------------------------------------------------------------------
r1703 | ajapted | 2015-02-15 22:15:14 +1100 (Sun, 15 Feb 2015) | 2 lines

Makefile.xming : more tidying.

------------------------------------------------------------------------
r1702 | ajapted | 2015-02-15 22:14:10 +1100 (Sun, 15 Feb 2015) | 2 lines

Makefile.xming : removed obsolete NSIS stuff.

------------------------------------------------------------------------
r1701 | ajapted | 2015-02-15 22:13:05 +1100 (Sun, 15 Feb 2015) | 3 lines

Win32 : as we no longer use an installer, removed code which queries the
registry for the installation folder.  Use GetExecutablePath() instead.

------------------------------------------------------------------------
r1700 | ajapted | 2015-02-15 22:11:05 +1100 (Sun, 15 Feb 2015) | 2 lines

code tweak.

------------------------------------------------------------------------
r1699 | ajapted | 2015-02-15 22:10:04 +1100 (Sun, 15 Feb 2015) | 2 lines

hdr_fltk.h : added missing #include for Fl_Menu_Button.

------------------------------------------------------------------------
r1698 | ajapted | 2015-02-15 21:36:23 +1100 (Sun, 15 Feb 2015) | 2 lines

code tweak.

------------------------------------------------------------------------
r1697 | ajapted | 2015-02-15 21:28:27 +1100 (Sun, 15 Feb 2015) | 2 lines

Config : tweak to description of --file option.

------------------------------------------------------------------------
r1696 | ajapted | 2015-02-15 21:20:06 +1100 (Sun, 15 Feb 2015) | 3 lines

misc : removed NSIS script &quot;eureka.nsi&quot; -- I plan on a simpler method of
packaging binaries for the Windows platform.

------------------------------------------------------------------------
r1695 | ajapted | 2015-02-15 21:17:52 +1100 (Sun, 15 Feb 2015) | 6 lines

misc : removed the 'Makefile.debian' and control files in misc/debian,
partly so as not to confuse that stuff with the official Debian package,
but also because I plan to explore a more distribution-neutral method
for packaging Linux binaries.

------------------------------------------------------------------------
r1694 | ajapted | 2015-02-15 21:10:00 +1100 (Sun, 15 Feb 2015) | 2 lines

eureka.rc : updated version for next release.

------------------------------------------------------------------------
r1693 | ajapted | 2015-02-15 21:09:21 +1100 (Sun, 15 Feb 2015) | 2 lines

TODO.txt tidying

------------------------------------------------------------------------
r1692 | ajapted | 2015-02-15 19:28:57 +1100 (Sun, 15 Feb 2015) | 2 lines

TODO update.

------------------------------------------------------------------------
r1691 | ajapted | 2015-02-15 19:28:36 +1100 (Sun, 15 Feb 2015) | 2 lines

UI_EditKey dialog : fixed wrong function name in Encode() method.

------------------------------------------------------------------------
r1690 | ajapted | 2015-02-15 18:44:17 +1100 (Sun, 15 Feb 2015) | 2 lines

UI_EditKey dialog : changing the context re-populates the Function choices.

------------------------------------------------------------------------
r1689 | ajapted | 2015-02-15 18:30:38 +1100 (Sun, 15 Feb 2015) | 3 lines

UI_EditKey dialog : re-populate the 'Keywords' and 'Flags' menus when the
function choice has been changed.

------------------------------------------------------------------------
r1688 | ajapted | 2015-02-15 18:16:30 +1100 (Sun, 15 Feb 2015) | 2 lines

UI_EditKey dialog : implemented the 'Flags...' menu.

------------------------------------------------------------------------
r1687 | ajapted | 2015-02-15 18:06:54 +1100 (Sun, 15 Feb 2015) | 2 lines

UI_EditKey dialog : implemented the 'Keywords...' menu.

------------------------------------------------------------------------
r1686 | ajapted | 2015-02-15 16:59:35 +1100 (Sun, 15 Feb 2015) | 2 lines

Various tidying in changelogs/*.txt

------------------------------------------------------------------------
r1685 | ajapted | 2015-02-15 16:37:02 +1100 (Sun, 15 Feb 2015) | 2 lines

TODO.txt updated

------------------------------------------------------------------------
r1684 | ajapted | 2015-02-15 16:36:42 +1100 (Sun, 15 Feb 2015) | 2 lines

CHANGELOG update and version bump.

------------------------------------------------------------------------
r1683 | ajapted | 2015-02-15 16:28:45 +1100 (Sun, 15 Feb 2015) | 2 lines

About box : yet another tweak.

------------------------------------------------------------------------
r1682 | ajapted | 2015-02-15 16:22:00 +1100 (Sun, 15 Feb 2015) | 2 lines

CMD_NewMap : backup the current pwad before saving.

------------------------------------------------------------------------
r1681 | ajapted | 2015-02-15 16:15:31 +1100 (Sun, 15 Feb 2015) | 5 lines

The 'New Map' command (in File menu) now saves the fresh map into the
current pwad, asking for confirmation if it already exists.

Hence removed 'Replacer' global and the overwrite test in CMD_SaveMap.

------------------------------------------------------------------------
r1680 | ajapted | 2015-02-15 15:41:12 +1100 (Sun, 15 Feb 2015) | 2 lines

(part of last commit) -- removed 'new_file' stuff from UI_ChooseMap.

------------------------------------------------------------------------
r1679 | ajapted | 2015-02-15 15:22:32 +1100 (Sun, 15 Feb 2015) | 2 lines

UI_ChooseMap : removed the 'new_file' stuff -- obsolete now.

------------------------------------------------------------------------
r1678 | ajapted | 2015-02-15 15:03:25 +1100 (Sun, 15 Feb 2015) | 2 lines

Finished implementing the 'New Project' command (in File menu).

------------------------------------------------------------------------
r1677 | ajapted | 2015-02-15 14:44:24 +1100 (Sun, 15 Feb 2015) | 3 lines

More work on 'File / New Project' command, implemented the file chooser and
logic to determine the initial map name.

------------------------------------------------------------------------
r1676 | ajapted | 2015-02-15 14:02:28 +1100 (Sun, 15 Feb 2015) | 4 lines

Partial work on a 'File / New Project' command, which feels like a better way
of handling create new files from scratch (rather than a radio button in the
New Map dialog).

------------------------------------------------------------------------
r1675 | ajapted | 2015-02-15 11:41:53 +1100 (Sun, 15 Feb 2015) | 4 lines

For the File / Recent and File / Given-files menus, add a number to the
beginning of each entry and make it the shortcut key (e.g. pressing '4' can
be used to select the fourth entry while the menu is shown).

------------------------------------------------------------------------
r1674 | ajapted | 2015-02-14 22:57:35 +1100 (Sat, 14 Feb 2015) | 3 lines

About box : overlay a small version number on top of the logo (in bottom
right corner), and tweaked a few things.

------------------------------------------------------------------------
r1673 | ajapted | 2015-02-14 21:16:13 +1100 (Sat, 14 Feb 2015) | 3 lines

Renamed prefix for vertex commands from 'VERT_' --&gt; 'VT_', and renamed
vertex reshaping commands to 'VT_ShapeArc' and 'VT_ShapeLine'.

------------------------------------------------------------------------
r1672 | ajapted | 2015-02-14 21:01:42 +1100 (Sat, 14 Feb 2015) | 3 lines

Key bind dialog : fixed wrong context strings (seems to have gotten out of
sync with the KCTX_xxx values).

------------------------------------------------------------------------
r1671 | ajapted | 2015-02-14 20:31:49 +1100 (Sat, 14 Feb 2015) | 2 lines

README.txt : minor updates.

------------------------------------------------------------------------
r1670 | ajapted | 2015-02-14 19:11:37 +1100 (Sat, 14 Feb 2015) | 4 lines

Fixed the key binding list so that pressing 'Bind', 'Copy' etc on a
non-visible line will scroll to that line (make it visible).

------------------------------------------------------------------------
r1669 | ajapted | 2015-02-14 16:49:06 +1100 (Sat, 14 Feb 2015) | 2 lines

Reworked SEC_SelectGroup command to use the new flag system.

------------------------------------------------------------------------
r1668 | ajapted | 2015-02-14 16:07:01 +1100 (Sat, 14 Feb 2015) | 2 lines

Updated LIN_SelectPath command to use new flag system.

------------------------------------------------------------------------
r1667 | ajapted | 2015-02-14 15:43:31 +1100 (Sat, 14 Feb 2015) | 3 lines

Fixed damn silly bug in ExecuteKey() not storing flag parameters, which begin
with a slash '/', into the EXEC_Flags[] array.

------------------------------------------------------------------------
r1666 | ajapted | 2015-02-14 15:17:42 +1100 (Sat, 14 Feb 2015) | 3 lines

For &quot;Delete&quot; command support two flags: /keep_unused and /keep_things
(the latter only useful in sectors mode).

------------------------------------------------------------------------
r1665 | ajapted | 2015-02-14 14:50:13 +1100 (Sat, 14 Feb 2015) | 3 lines

1. updated CMD_Rotate90 to take a keyword (&quot;cw&quot; for clockwise, &quot;acw&quot; for anti-clockwise)
2. split VERT_Reshape into two commands : VERT_ReshapeLine and VERT_ReshapeArc

------------------------------------------------------------------------
r1664 | ajapted | 2015-02-13 22:11:54 +1100 (Fri, 13 Feb 2015) | 3 lines

Added 'flag_list' and 'keyword_list' to every editor_command_t that needs
them.  [ Note that most commands do not support their flags yet.... ]

------------------------------------------------------------------------
r1663 | ajapted | 2015-02-13 19:59:42 +1100 (Fri, 13 Feb 2015) | 4 lines

Reworked LineDef_Align() function to take 'flags' as a integer bitmask
instead of a string.  Updated the 3D_Align implementation for this, and to
use the new Exec_HasFlag() mechanism to check for &quot;/clear&quot; and &quot;/right&quot;.

------------------------------------------------------------------------
r1662 | ajapted | 2015-02-13 19:39:23 +1100 (Fri, 13 Feb 2015) | 4 lines

Added EXEC_Flags[] global which is similar to EXEC_Param[] but stores &quot;flags&quot;
(paremeters beginning with '/').  Implemented adding such flags into that
array (from a key binding), and added Exec_HasFlag() utility function.

------------------------------------------------------------------------
r1661 | ajapted | 2015-02-13 16:50:31 +1100 (Fri, 13 Feb 2015) | 2 lines

TODO update.

------------------------------------------------------------------------
r1660 | ajapted | 2015-02-13 16:42:23 +1100 (Fri, 13 Feb 2015) | 5 lines

Added 'flag_list' and 'keyword_list' fields to editor_command_t.

Use these in the UI_EditKey dialog to populate a 'Keywords' and/or 'Flags'
menus.  These menus don't actually do anything yet....

------------------------------------------------------------------------
r1659 | ajapted | 2015-02-13 13:51:28 +1100 (Fri, 13 Feb 2015) | 4 lines

Began work on some improvements to key binding system.  This commit works
on the UI_EditKey dialog, the 'Function' widget is now a choice menu that
contains all the possible functions for the current context.

------------------------------------------------------------------------
r1658 | ajapted | 2015-02-10 15:35:17 +1100 (Tue, 10 Feb 2015) | 4 lines

Fixed crash when trying to build nodes (via File menu) on an IWAD map
which has had some changes made to it, but has not been saved yet (and
hence 'edit_wad' was NULL).

------------------------------------------------------------------------
r1657 | ajapted | 2015-02-10 15:15:44 +1100 (Tue, 10 Feb 2015) | 2 lines

TODO update.

------------------------------------------------------------------------
r1656 | ajapted | 2015-02-10 15:14:59 +1100 (Tue, 10 Feb 2015) | 3 lines

Key bindings : changed vertex reshapers 'C' to be 120 degrees and 'Q' to 240
degrees -- I think these will be more useful than 90/270 in practice.

------------------------------------------------------------------------
r1655 | ajapted | 2015-02-10 15:13:17 +1100 (Tue, 10 Feb 2015) | 2 lines

Version bump, in honor of Find/Replace feature fully implemented.

------------------------------------------------------------------------
r1654 | ajapted | 2015-02-10 15:07:37 +1100 (Tue, 10 Feb 2015) | 3 lines

Find/Replace : added 'skies' checkbox to the Sector filters.  This can be
used to prevent matches from affecting sky ceilings.

------------------------------------------------------------------------
r1653 | ajapted | 2015-02-10 14:52:20 +1100 (Tue, 10 Feb 2015) | 3 lines

Find/Replace : prevent matching the empty rail texture ('-') against a &quot;*&quot;
wildcard pattern -- especially pertinent when doing a Replace All operation.

------------------------------------------------------------------------
r1652 | ajapted | 2015-02-10 13:22:11 +1100 (Tue, 10 Feb 2015) | 2 lines

Find/Replace : fixed the filter toggle button being out-of-sync.

------------------------------------------------------------------------
r1651 | ajapted | 2015-02-10 13:15:58 +1100 (Tue, 10 Feb 2015) | 3 lines

Find/Replace : only clear everything when the type changes (i.e. keep the
existing match text, filters, etc... while edit mode stays the same).

------------------------------------------------------------------------
r1650 | ajapted | 2015-02-10 13:00:58 +1100 (Tue, 10 Feb 2015) | 2 lines

Find/Replace : code to reset the filters section.

------------------------------------------------------------------------
r1649 | ajapted | 2015-02-09 22:22:33 +1100 (Mon, 09 Feb 2015) | 2 lines

Find/Replace : implemented replacement for LineDef textures.

------------------------------------------------------------------------
r1648 | ajapted | 2015-02-09 22:11:55 +1100 (Mon, 09 Feb 2015) | 8 lines

Find/Replace : decided to remove handling of negative matches ('!' prefix)
for textures and flats -- primarily because the semantics of find is quite
different for semantics of replace (with find, user wants to see all sectors
where BOTH flats match the negative pattern, but with replace user wants to
visit sectors where EITHER flat match the negative pattern).

Hence opting for K.I.S.S.

------------------------------------------------------------------------
r1647 | ajapted | 2015-02-09 21:48:58 +1100 (Mon, 09 Feb 2015) | 4 lines

Invert selection command : do not clear the selection when 'error_mode' is
active -- firstly because it all we get is the same as Select All command,
and using CTRL-I (twice) to keep the error selection can be useful.

------------------------------------------------------------------------
r1646 | ajapted | 2015-02-09 21:32:37 +1100 (Mon, 09 Feb 2015) | 2 lines

Find/Replace : implemented replacement for sector flats.

------------------------------------------------------------------------
r1645 | ajapted | 2015-02-09 21:30:23 +1100 (Mon, 09 Feb 2015) | 3 lines

UI : made TexFromWidget() and FlatFromWidget() be static functions since
they do not use or require any fields or methods of their class.

------------------------------------------------------------------------
r1644 | ajapted | 2015-02-09 20:54:06 +1100 (Mon, 09 Feb 2015) | 4 lines

Find/Replace : Allow user to dismiss the Find/Replace panel without losing
the current selection (it was being cleared because it now uses the error
mode).

------------------------------------------------------------------------
r1643 | ajapted | 2015-02-09 20:18:48 +1100 (Mon, 09 Feb 2015) | 3 lines

Find/Replace : implemented Match_LineDef(), logic for matching textures
on the sidedefs.

------------------------------------------------------------------------
r1642 | ajapted | 2015-02-09 19:35:46 +1100 (Mon, 09 Feb 2015) | 4 lines

Find/Replace : allow '/' and '|' as separators for textures (consistent
with numeric searches), and when adding a texture from the browser add a
comma separator if current match ends with '*'.

------------------------------------------------------------------------
r1641 | ajapted | 2015-02-09 19:19:22 +1100 (Mon, 09 Feb 2015) | 6 lines

Find/Replace : implemented Pattern_Match() method for matching texture names,
supporting a list of names (simple patterns) separated by commas.

Use this to implement Match_Sector() logic, and support initial '!' character
in the pattern to negate the results.

------------------------------------------------------------------------
r1640 | ajapted | 2015-02-09 18:25:34 +1100 (Mon, 09 Feb 2015) | 6 lines

Factored out code to match texture names (etc) --&gt; Texture_MatchPattern(),
now in the objects.cc/h file.

Also fixed bug in browser where patterns like '4$' would not match some
flats or textures, like 'CEIL3_4', due to spaces (padding) on the end.

------------------------------------------------------------------------
r1639 | ajapted | 2015-02-09 17:09:22 +1100 (Mon, 09 Feb 2015) | 2 lines

TODO update.

------------------------------------------------------------------------
r1638 | ajapted | 2015-02-09 17:02:57 +1100 (Mon, 09 Feb 2015) | 4 lines

Vertex Reshaping : finished logic for arbitrary arc angles, updating the
key bindings for O/C/D/Q to specify the angle directly.  Document new 'Q'
binding (270 degrees) in the README.

------------------------------------------------------------------------
r1637 | ajapted | 2015-02-09 16:43:05 +1100 (Mon, 09 Feb 2015) | 3 lines

Vertex Reshaping : worked to support arbitrary arc sizes (angles), and to
keep the start and end vertices of the arc in the same location....

------------------------------------------------------------------------
r1636 | ajapted | 2015-02-09 15:55:17 +1100 (Mon, 09 Feb 2015) | 2 lines

sys_macro.h : #define M_SQRT2 if not already defined.

------------------------------------------------------------------------
r1635 | ajapted | 2015-02-09 15:19:40 +1100 (Mon, 09 Feb 2015) | 2 lines

Fixed not reloading textures (etc) when opening a new wad file.

------------------------------------------------------------------------
r1634 | ajapted | 2015-02-09 14:37:11 +1100 (Mon, 09 Feb 2015) | 2 lines

TODO.txt : update and tidy up.

------------------------------------------------------------------------
r1633 | ajapted | 2015-02-09 14:33:55 +1100 (Mon, 09 Feb 2015) | 5 lines

When loading a wad specified on the command line, and it contains settings
for the iwad, port and/or resources in an EUREKA_LUMP, then allow command
line arguments to override those values (and _add_ new resources).

------------------------------------------------------------------------
r1632 | ajapted | 2015-02-09 13:01:55 +1100 (Mon, 09 Feb 2015) | 4 lines

Makefile.xming : link with -static-libgcc and -static-libstdc++ so that
the Windows executable actually works on Windows (and not complain about
a missing DLL).

------------------------------------------------------------------------
r1631 | ajapted | 2015-01-24 16:29:41 +1100 (Sat, 24 Jan 2015) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r1630 | ajapted | 2015-01-24 16:28:30 +1100 (Sat, 24 Jan 2015) | 3 lines

Config : added 'show_full_one_sided' config variable, enables showing
the rail / upper textures for one-sided lines in the LineDef panel.

------------------------------------------------------------------------
r1629 | ajapted | 2015-01-24 15:45:39 +1100 (Sat, 24 Jan 2015) | 3 lines

Linedef panel : for one-sided lines, don't show upper and rail texture
(since editing them generally does nothing).

------------------------------------------------------------------------
r1628 | ajapted | 2015-01-24 15:15:15 +1100 (Sat, 24 Jan 2015) | 3 lines

Canvas : tweak to error mode, when active don't highlight the tagged sector(s)
of the currently highlighted linedef.

------------------------------------------------------------------------
r1627 | ajapted | 2015-01-24 15:11:43 +1100 (Sat, 24 Jan 2015) | 3 lines

Canvas : in the error mode, draw most linedefs as LIGHTGREY so the selected
objects stand out more.

------------------------------------------------------------------------
r1626 | ajapted | 2015-01-24 14:57:17 +1100 (Sat, 24 Jan 2015) | 2 lines

Linedef checker : implemented detection of unknown line types.

------------------------------------------------------------------------
r1625 | ajapted | 2015-01-24 14:18:05 +1100 (Sat, 24 Jan 2015) | 3 lines

Sector checker : detect unknown sector types.  They are shown in red since
in vanilla DOOM they will cause a fatal error.

------------------------------------------------------------------------
r1624 | printz | 2015-01-19 18:43:48 +1100 (Mon, 19 Jan 2015) | 1 line

osx: updated Xcode project
------------------------------------------------------------------------
r1623 | ajapted | 2015-01-18 22:40:46 +1100 (Sun, 18 Jan 2015) | 6 lines

Game definitions :
1. fixed category of linetype #68 (should be a raising floor)

2. changed category letter of raising floors to 'g', so they appear near
   the lowering floors in the Browser.

------------------------------------------------------------------------
r1622 | ajapted | 2015-01-17 22:10:09 +1100 (Sat, 17 Jan 2015) | 3 lines

Find/Replace : make 'Select All' button use the error mode, i.e. show all
matches in bright red and everything else in a rather dim gray.

------------------------------------------------------------------------
r1621 | ajapted | 2015-01-17 21:30:21 +1100 (Sat, 17 Jan 2015) | 2 lines

tweak the --help text

------------------------------------------------------------------------
r1620 | ajapted | 2015-01-17 21:29:41 +1100 (Sat, 17 Jan 2015) | 2 lines

Man page : bit more fleshing out + lots of polishing.

------------------------------------------------------------------------
r1619 | ajapted | 2015-01-17 17:30:54 +1100 (Sat, 17 Jan 2015) | 2 lines

Man page : fixed long options to have two dashes, plus some tweaks.

------------------------------------------------------------------------
r1618 | ajapted | 2015-01-17 17:26:21 +1100 (Sat, 17 Jan 2015) | 2 lines

Man page : finished describing the remaining options.

------------------------------------------------------------------------
r1617 | ajapted | 2015-01-17 16:14:03 +1100 (Sat, 17 Jan 2015) | 3 lines

Browser : tidied up some code with 'sort_method_e' typedef (instead of
using 0/1/2 with special meanings).

------------------------------------------------------------------------
r1616 | ajapted | 2015-01-17 15:56:21 +1100 (Sat, 17 Jan 2015) | 4 lines

Menus : the 'Default Properties' command did not belong in FILE menu, so
moved it into the VIEW menu (the EDIT menu might make more sense, but is
rather full right now).

------------------------------------------------------------------------
r1615 | ajapted | 2015-01-16 22:19:49 +1100 (Fri, 16 Jan 2015) | 4 lines

DOOM defs : moved 'SKY1/2/3' textures from NATURAL --&gt; OTHER category,
since they looked out of place there (they have little utility when used
on walls, so &quot;Other&quot; category seems the most appropiate).

------------------------------------------------------------------------
r1614 | ajapted | 2015-01-16 22:16:27 +1100 (Fri, 16 Jan 2015) | 4 lines

Game defs : moved the MBF dog thing --&gt; Boom definition (ports/boom.ugh),
which at least prevents it appearing in &quot;vanilla&quot; mode.  Also changed its
category from Player --&gt; Other.

------------------------------------------------------------------------
r1613 | ajapted | 2015-01-16 22:13:53 +1100 (Fri, 16 Jan 2015) | 2 lines

Renamed 'Manage Wads' command --&gt; 'Manage Project'

------------------------------------------------------------------------
r1612 | ajapted | 2015-01-16 21:35:14 +1100 (Fri, 16 Jan 2015) | 3 lines

Recolor the co-op player starts to match DOOM, i.e. type 2 start is gray,
type 3 start is brown, type 4 start is red.

------------------------------------------------------------------------
r1611 | ajapted | 2015-01-16 20:50:00 +1100 (Fri, 16 Jan 2015) | 2 lines

Code : minor rename, Img class --&gt; Img_c

------------------------------------------------------------------------
r1610 | ajapted | 2015-01-16 20:40:03 +1100 (Fri, 16 Jan 2015) | 4 lines

Img class : removed the Img_priv class, just have the fields in the
private area of 'Img' class (renamed since they clashed with access
methods).  Also reformatted code to use tabs, plus various tidying.

------------------------------------------------------------------------
r1609 | ajapted | 2015-01-16 20:14:12 +1100 (Fri, 16 Jan 2015) | 3 lines

Img class : implemented color_remap() method, like spectrify() but remaps a
source color range into a target color range.

------------------------------------------------------------------------
r1608 | ajapted | 2015-01-16 19:59:08 +1100 (Fri, 16 Jan 2015) | 6 lines

Browser : the BR_CycleCategory command now skips the 'RECENT' category.

Rationale is that another key toggles between RECENT category and the ALL
category, so when the user uses this function they are probably not after
the special RECENT category.

------------------------------------------------------------------------
r1607 | ajapted | 2015-01-16 17:17:54 +1100 (Fri, 16 Jan 2015) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r1606 | ajapted | 2015-01-16 15:47:39 +1100 (Fri, 16 Jan 2015) | 2 lines

Man page : describe '$PREFIX/share/eureka' in FILES section.

------------------------------------------------------------------------
r1605 | ajapted | 2015-01-16 15:27:59 +1100 (Fri, 16 Jan 2015) | 2 lines

Man page : added &quot;FILES&quot;, &quot;ENVIRONMENT&quot; and &quot;SEE ALSO&quot; sections

------------------------------------------------------------------------
r1604 | ajapted | 2015-01-16 15:15:54 +1100 (Fri, 16 Jan 2015) | 2 lines

Removed &quot;ups&quot; from the directories created in the $home_dir.

------------------------------------------------------------------------
r1603 | ajapted | 2015-01-16 14:22:20 +1100 (Fri, 16 Jan 2015) | 2 lines

Man page : documented the main options, --file, --warp, --iwad, etc....

------------------------------------------------------------------------
r1602 | ajapted | 2015-01-16 12:48:03 +1100 (Fri, 16 Jan 2015) | 3 lines

Manual page : created a DESCRIPTION section, listing some of Eureka's
features, and reworked other parts at top of file (SYNOPSIS, etc).

------------------------------------------------------------------------
r1601 | ajapted | 2015-01-16 12:45:54 +1100 (Fri, 16 Jan 2015) | 2 lines

Added 'misc/eureka.6' -- a skeletal manual page, courtesy Fabian Greffrath.

------------------------------------------------------------------------
r1600 | ajapted | 2015-01-16 12:26:12 +1100 (Fri, 16 Jan 2015) | 3 lines

For --help text, change order of command-line options to show the most
important ones first (like --file and --iwad).

------------------------------------------------------------------------
r1599 | ajapted | 2015-01-16 11:38:10 +1100 (Fri, 16 Jan 2015) | 3 lines

For the --help text, show long options with two dashes ('--') since I will
use double dashes in the manpage.

------------------------------------------------------------------------
r1598 | ajapted | 2015-01-16 11:26:56 +1100 (Fri, 16 Jan 2015) | 2 lines

Updated AUTHORS.txt

------------------------------------------------------------------------
r1597 | ajapted | 2015-01-16 10:59:37 +1100 (Fri, 16 Jan 2015) | 2 lines

Code : fixed previous commit (SYS_ASSERT in the wrong place)

------------------------------------------------------------------------
r1596 | ajapted | 2015-01-16 10:50:33 +1100 (Fri, 16 Jan 2015) | 4 lines

Code : added some SYS_ASSERT() checks to erase() method of RecentFiles_c.
Perhaps this will silence the bogus warnings about out-of-bounds access
which older GNU compilers generate.

------------------------------------------------------------------------
r1595 | ajapted | 2015-01-16 10:43:54 +1100 (Fri, 16 Jan 2015) | 2 lines

Code : added __attribute((noreturn)) to the FatalError() prototype.

------------------------------------------------------------------------
r1594 | ajapted | 2015-01-16 00:03:40 +1100 (Fri, 16 Jan 2015) | 4 lines

Browser : reduced size of sprites in Thing browser --&gt; 64x72 (from 80x80)
which works better horizontally (three columns at minimum size) and can
generally see more things, albeit a few more things are cut off now.

------------------------------------------------------------------------
r1593 | ajapted | 2015-01-15 23:57:33 +1100 (Thu, 15 Jan 2015) | 2 lines

Browser : tweaked name of &quot;Other&quot; category.

------------------------------------------------------------------------
r1592 | ajapted | 2015-01-15 23:56:49 +1100 (Thu, 15 Jan 2015) | 4 lines

Browser : replaced the &quot;Sort&quot; choice widget with a &quot;Alpha&quot; checkbox, and
moved the &quot;Match&quot; widget up.  This makes the Things (etc) browsers more
consistent looking with Flats and Textures, and a bit easier to use.

------------------------------------------------------------------------
r1591 | ajapted | 2015-01-15 23:44:44 +1100 (Thu, 15 Jan 2015) | 2 lines

Browser : made the minimum width a bit narrower (10 units).

------------------------------------------------------------------------
r1590 | ajapted | 2015-01-15 23:28:43 +1100 (Thu, 15 Jan 2015) | 4 lines

In main window's title, disabled the program name &quot;Eureka&quot; tacked on
the end -- just seems like visual noise, especially with a [Read-Only]
in the title.

------------------------------------------------------------------------
r1589 | ajapted | 2015-01-15 23:06:42 +1100 (Thu, 15 Jan 2015) | 2 lines

Bindings : added '|' (SHIFT + '\') as the BR_CycleCategory function.

------------------------------------------------------------------------
r1588 | ajapted | 2015-01-15 22:50:15 +1100 (Thu, 15 Jan 2015) | 2 lines

Game defs : tweaked name of &quot;Health &amp; Ammo&quot; category.

------------------------------------------------------------------------
r1587 | ajapted | 2015-01-15 22:23:38 +1100 (Thu, 15 Jan 2015) | 4 lines

Bindings : make 'T' (shift + t) open the browser to things, and 'X'
(shift + x) open the browser to textures -- for consistency with the
shortcuts in the BROWSER menu.

------------------------------------------------------------------------
r1586 | ajapted | 2015-01-15 22:12:10 +1100 (Thu, 15 Jan 2015) | 3 lines

Menus : in Browser menu, moved 'Things' to first position, matching the
order in the MODE choice on info-bar and the Find/Replace dialog.

------------------------------------------------------------------------
r1585 | ajapted | 2015-01-15 21:54:33 +1100 (Thu, 15 Jan 2015) | 2 lines

Browser : tweaked title names and positioning.

------------------------------------------------------------------------
r1584 | ajapted | 2015-01-15 21:30:55 +1100 (Thu, 15 Jan 2015) | 2 lines

Version bump.

------------------------------------------------------------------------
r1583 | ajapted | 2015-01-15 21:18:32 +1100 (Thu, 15 Jan 2015) | 3 lines

3D View : changed the low_detail/high_detail flag into a preference setting
(instead of being toggleable with the F5 key).

------------------------------------------------------------------------
r1582 | ajapted | 2015-01-15 20:42:32 +1100 (Thu, 15 Jan 2015) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r1581 | ajapted | 2015-01-15 20:41:12 +1100 (Thu, 15 Jan 2015) | 4 lines

3D View : tweaked the info bar, move gamma to just after gravity, and made
the Tex/Lit/Obj indicators be highlighted when NOT in effect (so under
normal circumstances they remain dim).

------------------------------------------------------------------------
r1580 | ajapted | 2015-01-15 20:34:56 +1100 (Thu, 15 Jan 2015) | 2 lines

3D View : finished the info-bar implementation.

------------------------------------------------------------------------
r1579 | ajapted | 2015-01-15 19:54:14 +1100 (Thu, 15 Jan 2015) | 3 lines

3D View : began work on an Information bar at top of render, showing the
camera position, angle and various state.

------------------------------------------------------------------------
r1578 | ajapted | 2015-01-15 19:15:15 +1100 (Thu, 15 Jan 2015) | 3 lines

Canvas : when drawing the &quot;split line&quot;, show how and where the line will
be split, with two new lines in orange and a small disc at new vertex.

------------------------------------------------------------------------
r1577 | ajapted | 2015-01-15 18:29:03 +1100 (Thu, 15 Jan 2015) | 4 lines

Canvas : experimented with drawing a solid circle where the closest snap
position to the mouse is (when SNAP is enabled), with a line going to
the current mouse position....  Seems too weird to be useful.

------------------------------------------------------------------------
r1576 | ajapted | 2015-01-15 17:55:03 +1100 (Thu, 15 Jan 2015) | 5 lines

Command system : registering commands is now done by passing a list of
structures (instead of calling a function for each command).  This will
allow extra fields in the future, e.g. description of the command and
what parameters it takes.

------------------------------------------------------------------------
r1575 | ajapted | 2015-01-15 16:52:49 +1100 (Thu, 15 Jan 2015) | 2 lines

The 'CopyAndPaste' command broke recently -- fixed it.

------------------------------------------------------------------------
r1574 | ajapted | 2015-01-15 12:22:50 +1100 (Thu, 15 Jan 2015) | 2 lines

Simplified some code using the bit-vector class.

------------------------------------------------------------------------
r1573 | ajapted | 2015-01-15 12:22:03 +1100 (Thu, 15 Jan 2015) | 2 lines

Selection class : no need to check/grow the bit-vector, as it grows itself now.

------------------------------------------------------------------------
r1572 | ajapted | 2015-01-15 12:14:52 +1100 (Thu, 15 Jan 2015) | 2 lines

Bitvec class : improved way vector is grown in set() method.

------------------------------------------------------------------------
r1571 | ajapted | 2015-01-15 11:58:20 +1100 (Thu, 15 Jan 2015) | 7 lines

Bitvec class : added raw_get(), raw_set(), etc... as inline methods which
do no range checking, and the normal get(), set(), etc... methods now
check the position and will automatically resize the vector when needed.

Also made resize() allow shrinking the vector when reduced by a large
amount.

------------------------------------------------------------------------
r1570 | ajapted | 2015-01-15 11:33:58 +1100 (Thu, 15 Jan 2015) | 2 lines

Bitvec class : removed unused 'merge()' method.

------------------------------------------------------------------------
r1569 | ajapted | 2015-01-14 23:25:36 +1100 (Wed, 14 Jan 2015) | 7 lines

Menus :
1. added shortcuts to numerous menu items that lacked them
   (especially the Browser menu)

2. moved 'Prune unused' to below Delete, and removed its shortcut
   since the 'P' shortcut is already used by Paste.

------------------------------------------------------------------------
r1568 | ajapted | 2015-01-14 22:39:16 +1100 (Wed, 14 Jan 2015) | 3 lines

Find/Replace : implemented linedef filtering based on sidedness, and fixed
some issues with the tag filtering logic.

------------------------------------------------------------------------
r1567 | ajapted | 2015-01-14 22:18:41 +1100 (Wed, 14 Jan 2015) | 4 lines

Find/Replace :
1. got the skill and mode filters for Things working
2. got the tag-number filter for Line/Sector searches working

------------------------------------------------------------------------
r1566 | ajapted | 2015-01-14 21:30:02 +1100 (Wed, 14 Jan 2015) | 4 lines

Find/Replace : got the UI_TripleCheckButton working quite well, for both the
skill flags and the mode flags, and implemented logic to compute the mask
and compare value from those widgets.

------------------------------------------------------------------------
r1565 | ajapted | 2015-01-14 20:37:40 +1100 (Wed, 14 Jan 2015) | 3 lines

Find/Replace : created a UI_TripleCheckButton() which is used to represent
the search state for a boolean flag (YES, NO, DontCare).

------------------------------------------------------------------------
r1564 | ajapted | 2015-01-14 19:21:04 +1100 (Wed, 14 Jan 2015) | 2 lines

CHANGELOG : yet another reorganisation...

------------------------------------------------------------------------
r1563 | ajapted | 2015-01-14 19:17:05 +1100 (Wed, 14 Jan 2015) | 3 lines

Find/Replace : added code to show/hide the filter widgets based on the
current mode (Things, LineDefs, etc).  Also improved widget positions.

------------------------------------------------------------------------
r1562 | ajapted | 2015-01-14 18:50:42 +1100 (Wed, 14 Jan 2015) | 3 lines

Find/Replace : began work on Filters -- this commit merely creates all the
widgets we will need.

------------------------------------------------------------------------
r1561 | ajapted | 2015-01-14 16:53:11 +1100 (Wed, 14 Jan 2015) | 2 lines

Find/Replace : finished 'Choose' button and browser interaction logic.

------------------------------------------------------------------------
r1560 | ajapted | 2015-01-14 15:29:34 +1100 (Wed, 14 Jan 2015) | 2 lines

Find/Replace : worked on 'Choose' button and interaction with the Browser...

------------------------------------------------------------------------
r1559 | ajapted | 2015-01-14 15:01:19 +1100 (Wed, 14 Jan 2015) | 2 lines

Find/Replace : when '*' is used, show &quot;(everything)&quot; as the description.

------------------------------------------------------------------------
r1558 | ajapted | 2015-01-14 14:51:58 +1100 (Wed, 14 Jan 2015) | 3 lines

Find/Replace : when 'Replace All', select all the objects which were modified
and goto this selection at the end -- lets the user see what was affected.

------------------------------------------------------------------------
r1557 | ajapted | 2015-01-14 14:47:43 +1100 (Wed, 14 Jan 2015) | 2 lines

Find/Replace : support for finding and replacing Line-Types and Sector-Types.

------------------------------------------------------------------------
r1556 | ajapted | 2015-01-14 14:46:43 +1100 (Wed, 14 Jan 2015) | 2 lines

Objid : the clear() method now only changes the 'num', leaves 'type' alone.

------------------------------------------------------------------------
r1555 | ajapted | 2015-01-13 21:59:34 +1100 (Tue, 13 Jan 2015) | 2 lines

README.txt : document the '\' key (toggle RECENT category).

------------------------------------------------------------------------
r1554 | ajapted | 2015-01-13 21:51:24 +1100 (Tue, 13 Jan 2015) | 5 lines

Find/Replace :
1. renamed 'Apply' button --&gt; 'Replace'
2. only activate 'Replace' button when something has been found
3. implemented Replace_Thing() method

------------------------------------------------------------------------
r1553 | ajapted | 2015-01-13 21:30:53 +1100 (Tue, 13 Jan 2015) | 3 lines

Texture checker : assume textures beginning with '#' are special, do not
treat them as unknown textures.

------------------------------------------------------------------------
r1552 | ajapted | 2015-01-13 21:15:14 +1100 (Tue, 13 Jan 2015) | 3 lines

Vertex Reshaping : added bindings for them, and document them in the README
and CHANGELOG.

------------------------------------------------------------------------
r1551 | ajapted | 2015-01-13 21:13:20 +1100 (Tue, 13 Jan 2015) | 3 lines

Vertex Reshaping : register its command, and properly check the parameter
to call the correct function (e.g. &quot;line&quot; vs &quot;circle&quot; vs &quot;arc180&quot;).

------------------------------------------------------------------------
r1550 | ajapted | 2015-01-13 20:48:05 +1100 (Tue, 13 Jan 2015) | 3 lines

Vertices : support for shaping vertices into a half-circle (180 degrees)
or a quarter circle (90 degrees).

------------------------------------------------------------------------
r1549 | ajapted | 2015-01-13 18:54:52 +1100 (Tue, 13 Jan 2015) | 3 lines

Vertices : implemented the EvalCircle() function -- the circle reshaping code
is working now.

------------------------------------------------------------------------
r1548 | ajapted | 2015-01-13 18:27:27 +1100 (Tue, 13 Jan 2015) | 2 lines

Vertices : partial work on command to reshape vertices into a pure circle.

------------------------------------------------------------------------
r1547 | ajapted | 2015-01-13 17:44:12 +1100 (Tue, 13 Jan 2015) | 2 lines

Vertices : got the Reshape_Line() code working.

------------------------------------------------------------------------
r1546 | ajapted | 2015-01-13 17:07:24 +1100 (Tue, 13 Jan 2015) | 3 lines

Vertices : further work on straight line reshaper, collect all vertices and
sort them along the line, and then determine the end-points we need.

------------------------------------------------------------------------
r1545 | ajapted | 2015-01-13 16:30:52 +1100 (Tue, 13 Jan 2015) | 3 lines

Vertices : worked on code to move all selected vertices onto a straight line
(some experimental stuff...)

------------------------------------------------------------------------
r1544 | ajapted | 2015-01-13 16:29:12 +1100 (Tue, 13 Jan 2015) | 2 lines

Basis : ensure BA_Begin() has been called for BA_New() and BA_Delete() functions.

------------------------------------------------------------------------
r1543 | ajapted | 2015-01-13 15:19:59 +1100 (Tue, 13 Jan 2015) | 3 lines

Key bindings : increased maximum parameters of a binding from 4 --&gt; 16, and
increased the maximum length of a parameter from 16 --&gt; 32.

------------------------------------------------------------------------
r1542 | ajapted | 2015-01-13 14:56:52 +1100 (Tue, 13 Jan 2015) | 2 lines

Code : moved prototypes for Status_xxx() and Beep() functions --&gt; main.h

------------------------------------------------------------------------
r1541 | ajapted | 2015-01-13 12:22:42 +1100 (Tue, 13 Jan 2015) | 4 lines

Find/Replace : implemented rep_value_callback(), ensuring the 'Apply' and
'Replace All' buttons are only active when both the rep_value is valid and
the find_match is valid.

------------------------------------------------------------------------
r1540 | ajapted | 2015-01-13 11:58:40 +1100 (Tue, 13 Jan 2015) | 2 lines

Find/Replace : support '*' wildcard in number_group_c

------------------------------------------------------------------------
r1539 | ajapted | 2015-01-12 23:17:13 +1100 (Mon, 12 Jan 2015) | 2 lines

Code tweak : consistent capitalization for top-of-file descriptions.

------------------------------------------------------------------------
r1538 | ajapted | 2015-01-12 23:04:23 +1100 (Mon, 12 Jan 2015) | 3 lines

Code : removed commented-out code for CMD_FindObjectByType() -- the new
Find/Replace panel implements equivalent functionality.

------------------------------------------------------------------------
r1537 | ajapted | 2015-01-12 23:01:48 +1100 (Mon, 12 Jan 2015) | 9 lines

Objid rework:
1. moved obj_type_e definition --&gt; objid.h
2. removed 'OBJ_NONE' as a member of obj_type_e enumeration
3. renamed 'OBJ_NO_NONE' constant --&gt; 'NIL_OBJ'
4. in Objid class, replaced '()' operator with 'valid()' method
5. removed the barely used is_obj() macro
6. renamed 'edit.highlighted' --&gt; 'edit.highlight'

------------------------------------------------------------------------
r1536 | ajapted | 2015-01-12 21:00:51 +1100 (Mon, 12 Jan 2015) | 2 lines

Find/Replace : tweaked size of 'what' choice widget.

------------------------------------------------------------------------
r1535 | ajapted | 2015-01-12 20:58:23 +1100 (Mon, 12 Jan 2015) | 7 lines

Find/Replace :
1. remove the toggle button for the Replace section, was rather unnecessary,
   and now there is more room for the Filters section.

2. made the 'what' choice (Things, Line Textures, etc) be colored, using
   colors that match the mode colors in infobar widget.

------------------------------------------------------------------------
r1534 | ajapted | 2015-01-12 19:50:23 +1100 (Mon, 12 Jan 2015) | 4 lines

Find/Replace : better handling of 'Select All' button, e.g. beep with
&quot;nothing found&quot; message if nothing was found, and if some stuff _was_
found then use GoToSelection() to move/zoom in to it.

------------------------------------------------------------------------
r1533 | ajapted | 2015-01-12 19:38:54 +1100 (Mon, 12 Jan 2015) | 4 lines

Find/Replace :
1. Got the 'number_group_c' class working, can find things with it now.
2. Make sure selection is cleared after nothing is found

------------------------------------------------------------------------
r1532 | ajapted | 2015-01-12 18:55:59 +1100 (Mon, 12 Jan 2015) | 3 lines

Find/Replace : created a 'number_group_c' class for storing a small group
of numbers or number ranges.  Also implemented its ParseString() method.

------------------------------------------------------------------------
r1531 | ajapted | 2015-01-12 18:19:44 +1100 (Mon, 12 Jan 2015) | 4 lines

Removed the 'selectn.cc/h' code files -- merged the code into levels.cc/h

Also moved some code from objects.cc/h --&gt; levels.cc/h (notification stuff)

------------------------------------------------------------------------
r1530 | ajapted | 2015-01-12 18:09:13 +1100 (Mon, 12 Jan 2015) | 2 lines

Find/Replace : bit more work, got basic Thing matching working.

------------------------------------------------------------------------
r1529 | ajapted | 2015-01-12 16:53:31 +1100 (Mon, 12 Jan 2015) | 2 lines

Find/Replace : properly set the description for a thing type (etc).

------------------------------------------------------------------------
r1528 | ajapted | 2015-01-12 16:46:27 +1100 (Mon, 12 Jan 2015) | 3 lines

Find/Replace : implemented find_match callback, e.g. validate that the
string is numeric (for Things or for line/sector types).

------------------------------------------------------------------------
r1527 | ajapted | 2015-01-12 15:57:04 +1100 (Mon, 12 Jan 2015) | 2 lines

Added Editor_ChangeMode_Raw() function.

------------------------------------------------------------------------
r1526 | ajapted | 2015-01-12 15:18:32 +1100 (Mon, 12 Jan 2015) | 4 lines

Find/Replace : worked on outer logic for finding the first/next object, and
for selecting everything or doing a replace on all matches.  The inner logic
(MatchObject or ApplyReplace methods) are not started yet....

------------------------------------------------------------------------
r1525 | ajapted | 2015-01-12 15:10:04 +1100 (Mon, 12 Jan 2015) | 2 lines

minor rename

------------------------------------------------------------------------
r1524 | ajapted | 2015-01-12 14:57:11 +1100 (Mon, 12 Jan 2015) | 2 lines

Coding : removed unused macros (IsSelected, SelectObject, etc) from selectn.h

------------------------------------------------------------------------
r1523 | ajapted | 2015-01-12 14:24:54 +1100 (Mon, 12 Jan 2015) | 3 lines

Find/Replace : bit more work, added Clear() method, added several more
callback functions (skeletal atm), call BrowsedItem() from UI_MainWin.

------------------------------------------------------------------------
r1522 | ajapted | 2015-01-12 12:13:05 +1100 (Mon, 12 Jan 2015) | 4 lines

Preferences : enabled the 'Maximize on start-up' option, except for MacOS X
platform.  This is instead of restoring the last window position and maximized
state, which is non-trivial (especially on Linux), but better than nothing.

------------------------------------------------------------------------
r1521 | ajapted | 2015-01-12 11:56:19 +1100 (Mon, 12 Jan 2015) | 2 lines

Added 'Toggle 3D View' command to the VIEW menu.

------------------------------------------------------------------------
r1520 | ajapted | 2015-01-12 11:45:49 +1100 (Mon, 12 Jan 2015) | 2 lines

Default probs : layout tweak.

------------------------------------------------------------------------
r1519 | ajapted | 2015-01-12 11:42:16 +1100 (Mon, 12 Jan 2015) | 3 lines

Default props : added labels above the textures, and spaced the three groups
out some more.

------------------------------------------------------------------------
r1518 | ajapted | 2015-01-12 11:13:05 +1100 (Mon, 12 Jan 2015) | 3 lines

Preferences : when the 'browser_small_tex' value is changed, re-populate
the browser (to show the resized textures).

------------------------------------------------------------------------
r1517 | ajapted | 2015-01-11 23:16:17 +1100 (Sun, 11 Jan 2015) | 2 lines

TODO.txt updated (lots of WIP stuff...)

------------------------------------------------------------------------
r1516 | ajapted | 2015-01-11 22:56:55 +1100 (Sun, 11 Jan 2015) | 3 lines

Implemented new 'browser_small_tex' option to show smaller textures in
the texture browser.  Includes addition to the Preferences dialog.

------------------------------------------------------------------------
r1515 | ajapted | 2015-01-11 21:35:26 +1100 (Sun, 11 Jan 2015) | 2 lines

Find/Replace : implemented the toggle buttons showing/hiding their group.

------------------------------------------------------------------------
r1514 | ajapted | 2015-01-11 21:02:47 +1100 (Sun, 11 Jan 2015) | 3 lines

Find/Replace : fixed dismissing the panel by pressing the key for the
current mode, e.g. 'v' for vertices.

------------------------------------------------------------------------
r1513 | ajapted | 2015-01-11 20:51:35 +1100 (Sun, 11 Jan 2015) | 4 lines

Find/Replace : worked on layout some more, grouping the three sub-panels into
their own group (leaving a think BG_COLOR border between each panel).  Also
tidied up the code (the output from fluid).

------------------------------------------------------------------------
r1512 | ajapted | 2015-01-11 20:21:21 +1100 (Sun, 11 Jan 2015) | 3 lines

Find/Replace : created main UI for this (done in Fluid, code reformatted
and pasted here).  Nothing works yet....

------------------------------------------------------------------------
r1511 | ajapted | 2015-01-11 17:13:10 +1100 (Sun, 11 Jan 2015) | 2 lines

Find/Replace : added 'Go to next' to View menu (not implemented yet....)

------------------------------------------------------------------------
r1510 | ajapted | 2015-01-11 17:03:54 +1100 (Sun, 11 Jan 2015) | 2 lines

Find/Replace : add widget to main window, and added menu item for it.

------------------------------------------------------------------------
r1509 | ajapted | 2015-01-11 17:02:31 +1100 (Sun, 11 Jan 2015) | 2 lines

Makefiles : added 'ui_replace.o' into the build.

------------------------------------------------------------------------
r1508 | ajapted | 2015-01-11 15:53:41 +1100 (Sun, 11 Jan 2015) | 3 lines

Added new files 'ui_replace.cc/h' -- will contain the Find and Replace panel
(only contains minimal code at the moment).

------------------------------------------------------------------------
r1507 | ajapted | 2015-01-11 15:45:16 +1100 (Sun, 11 Jan 2015) | 2 lines

Default props : fixed using the Browser to set stuff (textures etc).

------------------------------------------------------------------------
r1506 | ajapted | 2015-01-11 15:28:07 +1100 (Sun, 11 Jan 2015) | 2 lines

Default props : hide it when press CTRL-D and already shown.

------------------------------------------------------------------------
r1505 | ajapted | 2015-01-11 15:15:27 +1100 (Sun, 11 Jan 2015) | 2 lines

Default props : added command in File/ menu to show it, and various fixes.

------------------------------------------------------------------------
r1504 | ajapted | 2015-01-11 14:52:55 +1100 (Sun, 11 Jan 2015) | 2 lines

Default props : removed toggle button and related code.

------------------------------------------------------------------------
r1503 | ajapted | 2015-01-11 14:45:51 +1100 (Sun, 11 Jan 2015) | 2 lines

Default props : added &quot;Lower&quot; (etc) names to the wall texture pics.

------------------------------------------------------------------------
r1502 | ajapted | 2015-01-11 14:07:15 +1100 (Sun, 11 Jan 2015) | 3 lines

Finished separating UI_DefaultProps code, splitting the implementation into
header file + code file definitions.

------------------------------------------------------------------------
r1501 | ajapted | 2015-01-11 13:57:04 +1100 (Sun, 11 Jan 2015) | 2 lines

(forgot 'Makefile' in previous commit)

------------------------------------------------------------------------
r1500 | ajapted | 2015-01-11 13:45:05 +1100 (Sun, 11 Jan 2015) | 3 lines

More work to separate UI_DefaultProps code -- mainly deleting the relevant
parts from ui_vertex.* and ui_default.* -- but also updated the Makefiles.

------------------------------------------------------------------------
r1499 | ajapted | 2015-01-11 13:35:17 +1100 (Sun, 11 Jan 2015) | 3 lines

Began work to separate code for the 'Default Properties' panel into its own
code files --&gt; ui_default.cc/h.   This commit merely copies the new files.

------------------------------------------------------------------------
r1498 | ajapted | 2015-01-11 13:31:07 +1100 (Sun, 11 Jan 2015) | 3 lines

Always show a two-sided line in LineDef panel when multiple lines are selected
(and are a mix of one-sided and two-sided lines).

------------------------------------------------------------------------
r1497 | ajapted | 2015-01-09 14:30:00 +1100 (Fri, 09 Jan 2015) | 2 lines

Wad code : re-sort the levels[] array after adding a new level.

------------------------------------------------------------------------
r1496 | ajapted | 2015-01-07 13:32:52 +1100 (Wed, 07 Jan 2015) | 3 lines

Keys : convert FL_Button+n values &lt;--&gt; &quot;MOUSE##&quot; string, and FL_WheelUp/Dn
values &lt;--&gt; &quot;WHEEL_UP/DN&quot; strings.

------------------------------------------------------------------------
r1495 | ajapted | 2015-01-06 16:01:31 +1100 (Tue, 06 Jan 2015) | 2 lines

TODO.txt : moved the 'NO:' stuff to a separate NOT-TO-DO section.

------------------------------------------------------------------------
r1494 | ajapted | 2015-01-06 15:55:59 +1100 (Tue, 06 Jan 2015) | 3 lines

Finished support for RECENT browser category, with new binding for '\' key
which toggles between the ALL and RECENT categories.

------------------------------------------------------------------------
r1493 | ajapted | 2015-01-06 13:57:11 +1100 (Tue, 06 Jan 2015) | 4 lines

More work on new &quot;RECENT&quot; category for Texture (etc) browsers.
Implemented ability to save/restore them from the .dat cache file,
and fixed a few issues.

------------------------------------------------------------------------
r1492 | ajapted | 2015-01-06 13:55:15 +1100 (Tue, 06 Jan 2015) | 3 lines

Menu : removed short-cut from 'File/Delete Map' command, as it likely will
be used rarely and it's not something you want to hit accidentally.

------------------------------------------------------------------------
r1491 | ajapted | 2015-01-06 11:05:17 +1100 (Tue, 06 Jan 2015) | 2 lines

Partial work on a &quot;RECENT&quot; category for the Texture, Flat and Thing browsers.

------------------------------------------------------------------------
r1490 | ajapted | 2015-01-05 19:31:27 +1100 (Mon, 05 Jan 2015) | 2 lines

Updated some copyright messages (e.g. About box) for 2015.

------------------------------------------------------------------------
r1489 | ajapted | 2015-01-05 19:30:50 +1100 (Mon, 05 Jan 2015) | 2 lines

Version bump.

------------------------------------------------------------------------
r1488 | ajapted | 2015-01-05 19:14:57 +1100 (Mon, 05 Jan 2015) | 2 lines

Render : fixed clipping of mid-masked textures (e.g. the cage in E1M9)

------------------------------------------------------------------------
r1487 | ajapted | 2015-01-05 11:55:34 +1100 (Mon, 05 Jan 2015) | 2 lines

Moved the BA_LevelChecksum() code from e_loadsave --&gt; e_basis

------------------------------------------------------------------------
r1486 | ajapted | 2015-01-05 11:54:31 +1100 (Mon, 05 Jan 2015) | 3 lines

Wad code : sort the levels alphabetically in the levels[] vector (mainly for
the next-map and prev-map commands).

------------------------------------------------------------------------
r1485 | ajapted | 2015-01-05 11:10:08 +1100 (Mon, 05 Jan 2015) | 2 lines

Implemented the 'File / Rename Map' command (no shortcut key).

------------------------------------------------------------------------
r1484 | ajapted | 2015-01-05 10:21:10 +1100 (Mon, 05 Jan 2015) | 2 lines

Wad code : implemented 'RenameLump()' method.

------------------------------------------------------------------------
r1483 | ajapted | 2015-01-05 10:07:04 +1100 (Mon, 05 Jan 2015) | 2 lines

Implemented new 'File / Delete Map' command (bound to CTRL-d key).

------------------------------------------------------------------------
r1482 | ajapted | 2015-01-04 20:50:46 +1100 (Sun, 04 Jan 2015) | 5 lines

Reworked the way &quot;New WAD File&quot; button in the 'New Map' command works, it is
now a radio button with another choice &quot;Current WAD File&quot;, and when chosen
then we immediately try to save (export) the new map -- which feels more
like what the user would expect.

------------------------------------------------------------------------
r1481 | ajapted | 2015-01-04 20:10:14 +1100 (Sun, 04 Jan 2015) | 2 lines

TODO update.

------------------------------------------------------------------------
r1480 | ajapted | 2015-01-04 20:06:35 +1100 (Sun, 04 Jan 2015) | 3 lines

Fixed the occasional false positives with the sector mismatch test
(caused by poor logic in OppositeLineDef and OppositeSector functions).

------------------------------------------------------------------------
r1479 | ajapted | 2015-01-04 20:04:46 +1100 (Sun, 04 Jan 2015) | 3 lines

Fixed zooming after doing a command, like 'j' JumpToObject, which moves the
map origin to focus on some selected object(s).

------------------------------------------------------------------------
r1478 | ajapted | 2015-01-04 16:48:05 +1100 (Sun, 04 Jan 2015) | 2 lines

Makefile.xming : updated to use 'mingw-w64' cross compiler and zlib 1.2.8

------------------------------------------------------------------------
r1477 | ajapted | 2015-01-04 16:34:56 +1100 (Sun, 04 Jan 2015) | 2 lines

Removed 'slurp' directory from obj_linux/ and obj_win32/

------------------------------------------------------------------------
r1476 | ajapted | 2015-01-04 16:32:14 +1100 (Sun, 04 Jan 2015) | 2 lines

Makefiles : added 'STRIP_FLAGS' variable (for &quot;stripped&quot; target).

------------------------------------------------------------------------
r1475 | ajapted | 2015-01-04 16:01:35 +1100 (Sun, 04 Jan 2015) | 4 lines

For 'New Map' dialog, added a &quot;New File&quot; check button which means the wad
will be saved into a new file (disables the map selection, since that is
done by the export map dialog).

------------------------------------------------------------------------
r1474 | ajapted | 2015-01-04 11:55:08 +1100 (Sun, 04 Jan 2015) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r1473 | ajapted | 2015-01-04 11:54:26 +1100 (Sun, 04 Jan 2015) | 2 lines

Support two numeric values after -warp, compatible with vanilla DOOM.

------------------------------------------------------------------------
r1472 | ajapted | 2015-01-04 11:30:20 +1100 (Sun, 04 Jan 2015) | 3 lines

Linedef panel : swapped 'Tag' and 'Length' widgets(so Tag is now on left
(like the Sector panel).

------------------------------------------------------------------------
r1471 | ajapted | 2015-01-04 11:25:27 +1100 (Sun, 04 Jan 2015) | 2 lines

Code : silence some compiler warnings about integer conversions.

------------------------------------------------------------------------
r1470 | printz | 2015-01-03 09:01:20 +1100 (Sat, 03 Jan 2015) | 3 lines

osx:
* Fixed type warnings on the app delegate because I didn't set it to conform to the NSApplicationDelegate protocol
* Added other .a files to the dependency list, because I was getting linker errors.
------------------------------------------------------------------------
r1469 | printz | 2014-11-15 10:06:48 +1100 (Sat, 15 Nov 2014) | 2 lines

* Updated Xcode project to work
* Removed a personal file
------------------------------------------------------------------------
r1468 | ajapted | 2014-10-25 22:34:34 +1100 (Sat, 25 Oct 2014) | 4 lines

Support 'coop_dm_flags' feature in game definitions, and when not enabled
then show a vanilla DOOM compatible &quot;dm&quot; thing flag (instead of the normal
three sp/coop/dm flags).

------------------------------------------------------------------------
r1467 | ajapted | 2014-10-25 22:00:21 +1100 (Sat, 25 Oct 2014) | 2 lines

Fixed makefile &quot;install&quot; targets for r1459 (moved &quot;bindings.cfg&quot; to top level)

------------------------------------------------------------------------
r1466 | ajapted | 2014-10-25 21:54:50 +1100 (Sat, 25 Oct 2014) | 3 lines

UI_Window : added UpdateGameInfo() method, and use it for THING panel to
show or hide the &quot;friend&quot; checkbox depending on game_info.friend_flag

------------------------------------------------------------------------
r1465 | ajapted | 2014-10-25 21:53:26 +1100 (Sat, 25 Oct 2014) | 2 lines

Added 'friend_flag' field to game_info_t and parse it from definition files.

------------------------------------------------------------------------
r1464 | ajapted | 2014-10-25 21:52:16 +1100 (Sat, 25 Oct 2014) | 2 lines

Ports / BOOM : added &quot;feature friend_flag 1&quot;

------------------------------------------------------------------------
r1463 | ajapted | 2014-10-25 21:27:26 +1100 (Sat, 25 Oct 2014) | 3 lines

Use simple char[] for 'sky_flat' member of game_info, so we can memset() the
whole structure to zero in M_InitDefinitions().

------------------------------------------------------------------------
r1462 | ajapted | 2014-10-25 20:11:57 +1100 (Sat, 25 Oct 2014) | 4 lines

(part of VM removal) : removed 'misc/core_defs.up' script file, which was
never used and barely had anything in it.  Updated 'make install' targets
in the Makefiles too.

------------------------------------------------------------------------
r1461 | ajapted | 2014-10-25 20:07:13 +1100 (Sat, 25 Oct 2014) | 3 lines

Removed all the VM code (vm.h + vm_*.cc) -- this was never used and was a
long way from becoming usable.  Lua would be a better choice anyway.

------------------------------------------------------------------------
r1460 | ajapted | 2014-10-25 19:52:30 +1100 (Sat, 25 Oct 2014) | 2 lines

Preferences : added '192' to list of possible default grid sizes.

------------------------------------------------------------------------
r1459 | ajapted | 2014-09-12 20:29:11 +1000 (Fri, 12 Sep 2014) | 3 lines

Moved 'bindings.cfg' to top level in repository, so that running Eureka after a
compilation (without installing it) works.

------------------------------------------------------------------------
r1458 | ajapted | 2014-09-12 20:22:51 +1000 (Fri, 12 Sep 2014) | 2 lines

silence a compiler warning.

------------------------------------------------------------------------
r1457 | ajapted | 2014-08-15 15:28:58 +1000 (Fri, 15 Aug 2014) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r1456 | ajapted | 2014-08-15 13:45:35 +1000 (Fri, 15 Aug 2014) | 5 lines

3D View : fixed texturing issue, textures could be vertically off by a
pixel (due to the way casting float --&gt; int will round towards zero).

This closes ticket #3.  Bug reported by 'umbrakun'.

------------------------------------------------------------------------
r1455 | ajapted | 2014-08-06 16:14:06 +1000 (Wed, 06 Aug 2014) | 2 lines

README.txt : added contact details at the end.

------------------------------------------------------------------------
r1454 | ajapted | 2014-08-06 15:49:34 +1000 (Wed, 06 Aug 2014) | 2 lines

TODO update.

------------------------------------------------------------------------
r1453 | ajapted | 2014-06-25 22:05:45 +1000 (Wed, 25 Jun 2014) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r1452 | ajapted | 2014-06-25 22:04:01 +1000 (Wed, 25 Jun 2014) | 8 lines

glBSP library : improved method of creating a dummy node, we now
create a real subsector and a real seg for the back side of the
partition line (though the seg is a carbon copy of an existing one).

This method should be more robust, since the created structures are
all real (instead of re-using an index number).  Tested in various
software rendered ports without any problem.

------------------------------------------------------------------------
r1451 | ajapted | 2014-06-25 21:32:11 +1000 (Wed, 25 Jun 2014) | 3 lines

Removed misc/slurp -- (a) it does not belong here, and (b) I do not
plan to finish or release it.

------------------------------------------------------------------------
r1450 | ajapted | 2014-06-25 21:15:11 +1000 (Wed, 25 Jun 2014) | 2 lines

Comment the NSIS makefile and 'nsi' file as OLD / OBSOLETE.

------------------------------------------------------------------------
r1449 | ajapted | 2014-06-25 19:53:59 +1000 (Wed, 25 Jun 2014) | 3 lines

Ports / BOOM : added &quot;feature gen_types 1&quot; -- this will (in the future)
enable support for generalized linedefs and sectors.

------------------------------------------------------------------------
r1448 | ajapted | 2014-06-25 19:51:55 +1000 (Wed, 25 Jun 2014) | 6 lines

Game definition parser : support &quot;feature&quot; keyword which is used to
activate (or de-activate) certain game- or port-related features.

So far three feature names are _parsed_, but there is no actual
support for those features yet.

------------------------------------------------------------------------
r1447 | printz | 2014-06-25 17:27:19 +1000 (Wed, 25 Jun 2014) | 3 lines

Xcode project:
* Updated library references
* Made it so all source files (at least from the C++ group) will have real tabs instead of groups of spaces
------------------------------------------------------------------------
r1446 | ajapted | 2014-06-19 22:31:53 +1000 (Thu, 19 Jun 2014) | 2 lines

glBSP library : more dramatic warning when creating a dummy node.

------------------------------------------------------------------------
r1445 | ajapted | 2014-06-19 22:14:18 +1000 (Thu, 19 Jun 2014) | 6 lines

glBSP library : implemented a hack for the case when no nodes are
generated (i.e. when the whole level is a single convex sector).

This hack involves creating a dummy node with the real subsector
on one side, and a dummy one on the other.

------------------------------------------------------------------------
r1444 | ajapted | 2014-06-19 20:38:08 +1000 (Thu, 19 Jun 2014) | 2 lines

TODO.txt : moved more stuff --&gt; doc/MiscNotes.txt

------------------------------------------------------------------------
r1443 | ajapted | 2014-06-19 19:20:55 +1000 (Thu, 19 Jun 2014) | 3 lines

TODO.txt : updated various entries, and moved some of the notes to a
new file --&gt; docs/MiscNotes.txt

------------------------------------------------------------------------
r1442 | ajapted | 2014-06-19 19:05:47 +1000 (Thu, 19 Jun 2014) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r1441 | ajapted | 2014-06-19 19:01:17 +1000 (Thu, 19 Jun 2014) | 2 lines

About box : show version number _in_ the text (not just window title).

------------------------------------------------------------------------
r1440 | ajapted | 2014-06-19 18:47:45 +1000 (Thu, 19 Jun 2014) | 2 lines

When saving the map, save any header data too (for FraggleScript etc).

------------------------------------------------------------------------
r1439 | ajapted | 2014-06-19 18:27:28 +1000 (Thu, 19 Jun 2014) | 3 lines

When loading a map, load any data in the header lump, especially the
FraggleScript and level-info data used by DOOM Legacy.

------------------------------------------------------------------------
r1438 | ajapted | 2014-06-19 17:45:39 +1000 (Thu, 19 Jun 2014) | 2 lines

Makefile.xming (WIN32) : update to FLTK 1.3.2 and zlib 1.2.6

------------------------------------------------------------------------
r1437 | ajapted | 2014-06-19 13:07:06 +1000 (Thu, 19 Jun 2014) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r1436 | ajapted | 2014-06-19 13:05:54 +1000 (Thu, 19 Jun 2014) | 8 lines

Support loading a pwad which is READ-ONLY.

This will cause the 'Save' action to ask whether to export to a file,
and the 'Build Nodes' action will show a fail message.  The window
title will also show the read-only state of the current file.

This closes bug ticket #2.

------------------------------------------------------------------------
r1435 | ajapted | 2014-05-18 16:59:56 +1000 (Sun, 18 May 2014) | 2 lines

File menu : tweaked position of Build Nodes entry.

------------------------------------------------------------------------
r1434 | ajapted | 2014-05-18 16:54:44 +1000 (Sun, 18 May 2014) | 4 lines

Fixed bug when saving a map and using the &quot;ExMx&quot; buttons -- there was
an erroneous newline added to the lump name, preventing the game from
accessing the map.  Thanks to ettingrinder for the bug report.

------------------------------------------------------------------------
r1433 | ajapted | 2014-01-26 00:16:36 +1100 (Sun, 26 Jan 2014) | 3 lines

Fixed bug not loading 'ASHWALL' texture for DOOM 1, which occurred
because we erroneously skipped the first entry of TEXTURE2 lump.

------------------------------------------------------------------------
r1432 | ajapted | 2014-01-26 00:14:51 +1100 (Sun, 26 Jan 2014) | 2 lines

Began fresh CHANGES.txt document (after 1.00 release)

------------------------------------------------------------------------
r1431 | ajapted | 2014-01-26 00:13:52 +1100 (Sun, 26 Jan 2014) | 2 lines

Moved version 1.00 CHANGELOG --&gt; changelogs/100.txt

------------------------------------------------------------------------
r1430 | ajapted | 2014-01-09 10:26:25 +1100 (Thu, 09 Jan 2014) | 2 lines

Post-release version bump.

------------------------------------------------------------------------
r1429 | ajapted | 2014-01-05 22:31:54 +1100 (Sun, 05 Jan 2014) | 2 lines

Updated some copyright years (e.g. in About box) for 2014.

------------------------------------------------------------------------
r1428 | ajapted | 2014-01-05 21:26:00 +1100 (Sun, 05 Jan 2014) | 2 lines

Re-instated the '192' grid size (reverted revision 628).

------------------------------------------------------------------------
r1427 | ajapted | 2013-12-27 10:22:24 +1100 (Fri, 27 Dec 2013) | 2 lines

Updated GPL.txt -- the GNU General Public License (version 2).

------------------------------------------------------------------------
r1426 | ajapted | 2013-10-27 14:21:34 +1100 (Sun, 27 Oct 2013) | 2 lines

Makefile : renamed INSTALL_PREFIX --&gt; PREFIX

------------------------------------------------------------------------
r1425 | ajapted | 2013-10-27 13:49:10 +1100 (Sun, 27 Oct 2013) | 2 lines

Use I_ROUND() macro instead of round() standard library call.

------------------------------------------------------------------------
r1424 | ajapted | 2013-09-09 20:02:55 +1000 (Mon, 09 Sep 2013) | 2 lines

Workaround a compiler warning.

------------------------------------------------------------------------
r1423 | ajapted | 2013-08-25 15:26:16 +1000 (Sun, 25 Aug 2013) | 2 lines

History.txt : resync for the 1.00 release.

------------------------------------------------------------------------
r1422 | ajapted | 2013-08-25 15:20:46 +1000 (Sun, 25 Aug 2013) | 2 lines

Pack-source script: handle the 'ups' folder (as per 'mods' etc).

------------------------------------------------------------------------
r1421 | ajapted | 2013-08-25 14:58:40 +1000 (Sun, 25 Aug 2013) | 2 lines

README.txt : more updates to the keys list.

------------------------------------------------------------------------
r1420 | ajapted | 2013-08-25 14:48:04 +1000 (Sun, 25 Aug 2013) | 2 lines

README.txt : updated key list for ';' and 3D view offset commands.

------------------------------------------------------------------------
r1419 | ajapted | 2013-08-25 14:36:09 +1000 (Sun, 25 Aug 2013) | 2 lines

README.txt : simplified the INTRODUCTION section.

------------------------------------------------------------------------
r1418 | printz | 2013-08-25 09:18:26 +1000 (Sun, 25 Aug 2013) | 7 lines

osx:
* Added a new generic OSX call module, for interfacing OSX system calls with the main application C++ code
* Prepared Xcode project for release
* Corrected copyright in my modules to actually refer to the author(s) of Eureka in whole, not to the author of the module.
* Removed dead code from AppDelegate.mm
* Updated OSX icon
* Fixed main.cc to use system-proof application data directories.

------------------------------------------------------------------------
r1417 | ajapted | 2013-08-23 21:52:21 +1000 (Fri, 23 Aug 2013) | 2 lines

INSTALL.txt tweak.

------------------------------------------------------------------------
r1416 | ajapted | 2013-08-23 21:44:10 +1000 (Fri, 23 Aug 2013) | 2 lines

CHANGELOG tweak for 1.00 release.

------------------------------------------------------------------------
r1415 | ajapted | 2013-08-23 21:34:00 +1000 (Fri, 23 Aug 2013) | 2 lines

TODO update.

------------------------------------------------------------------------
r1414 | ajapted | 2013-08-23 15:33:43 +1000 (Fri, 23 Aug 2013) | 2 lines

NSIS install script : updated to use the Modern UI (MUI2.nsh).

------------------------------------------------------------------------
r1413 | ajapted | 2013-08-23 15:30:07 +1000 (Fri, 23 Aug 2013) | 3 lines

Makefile.xming : updated 'nsis_build' target to add &quot;ups&quot; folder and to
copy the &quot;about_logo.png&quot; and &quot;core_defs.up&quot; files.

------------------------------------------------------------------------
r1412 | ajapted | 2013-08-23 15:05:08 +1000 (Fri, 23 Aug 2013) | 2 lines

Makefile.xming : properly include the Win32 resource stuff in the build.

------------------------------------------------------------------------
r1411 | ajapted | 2013-08-23 14:51:50 +1000 (Fri, 23 Aug 2013) | 2 lines

Updated WIN32 &quot;rc&quot; file to include the ICON resource.

------------------------------------------------------------------------
r1410 | ajapted | 2013-08-23 14:51:17 +1000 (Fri, 23 Aug 2013) | 3 lines

Fixed WIN32 icon file (eureka.ico) -- I accidentally committed the XCF
version before.

------------------------------------------------------------------------
r1409 | ajapted | 2013-08-23 14:42:56 +1000 (Fri, 23 Aug 2013) | 2 lines

Makefile.xming : added 'fltk_png.a' library to the build.

------------------------------------------------------------------------
r1408 | ajapted | 2013-08-23 14:39:37 +1000 (Fri, 23 Aug 2013) | 2 lines

Fixed bug in WIN32-specific code.

------------------------------------------------------------------------
r1407 | ajapted | 2013-08-23 14:37:11 +1000 (Fri, 23 Aug 2013) | 2 lines

Quieten some compiler warnings.

------------------------------------------------------------------------
r1406 | ajapted | 2013-08-23 14:24:38 +1000 (Fri, 23 Aug 2013) | 2 lines

Created a 128x128 win32 icon and a 32x32 linux xpm from Jason's logo.

------------------------------------------------------------------------
r1405 | ajapted | 2013-08-22 22:32:34 +1000 (Thu, 22 Aug 2013) | 2 lines

TODO updated.

------------------------------------------------------------------------
r1404 | ajapted | 2013-08-22 21:48:25 +1000 (Thu, 22 Aug 2013) | 2 lines

Version bump to 1.00, heading towards a release...

------------------------------------------------------------------------
r1403 | ajapted | 2013-08-22 21:42:42 +1000 (Thu, 22 Aug 2013) | 2 lines

CHANGELOG: more tweakage.

------------------------------------------------------------------------
r1402 | ajapted | 2013-08-22 21:35:06 +1000 (Thu, 22 Aug 2013) | 6 lines

3D View:
1. implemented logic to determine coordinates for a highlighted wall
   and then create the lines to draw.

2. removed some old, non-working highlight code.

------------------------------------------------------------------------
r1401 | ajapted | 2013-08-22 16:30:35 +1000 (Thu, 22 Aug 2013) | 2 lines

3D View: more work on logic to highlight walls....

------------------------------------------------------------------------
r1400 | ajapted | 2013-08-22 15:37:20 +1000 (Thu, 22 Aug 2013) | 3 lines

3D View: use current highlight info for offset adjustment and alignment
commands (rather than perform a redundant query).

------------------------------------------------------------------------
r1399 | ajapted | 2013-08-22 14:40:03 +1000 (Thu, 22 Aug 2013) | 3 lines

3D View: added logic to keep track of a &quot;highlighted&quot; wotsit, and to only
redraw the view when it changes.

------------------------------------------------------------------------
r1398 | ajapted | 2013-08-22 14:12:53 +1000 (Thu, 22 Aug 2013) | 4 lines

3D View:
1. began work on ability to highlight sidedef under the mouse
2. moved some code around

------------------------------------------------------------------------
r1397 | ajapted | 2013-08-21 22:50:28 +1000 (Wed, 21 Aug 2013) | 2 lines

CHANGELOG : update and tweakage.

------------------------------------------------------------------------
r1396 | ajapted | 2013-08-21 22:49:36 +1000 (Wed, 21 Aug 2013) | 2 lines

Texture alignment: added 'X', 'Y', 'Z' key bindings.

------------------------------------------------------------------------
r1395 | ajapted | 2013-08-21 22:29:00 +1000 (Wed, 21 Aug 2013) | 5 lines

Texture alignment:
1. support for 'r' flag : align with wall &quot;to the right&quot;
2. PartialTexCmp() now compares 6 letters, not 4
3. tweaked scoring function for adjoiners

------------------------------------------------------------------------
r1394 | ajapted | 2013-08-21 19:02:58 +1000 (Wed, 21 Aug 2013) | 3 lines

Texture alignment: dead code removal: (1) old DEU alignment stuff, and
(2) my linedef-mode alignment logic.

------------------------------------------------------------------------
r1393 | ajapted | 2013-08-21 18:58:45 +1000 (Wed, 21 Aug 2013) | 3 lines

Texture alignment: implemented PickAdjoinerPart(), tweaked some code,
and removed some dead code.

------------------------------------------------------------------------
r1392 | ajapted | 2013-08-20 22:17:31 +1000 (Tue, 20 Aug 2013) | 4 lines

Texture alignment: still banging away on this, e.g. pass the particular
part (upper or lower) which the user clicked on to LineDefs_Align(),
and wrote some logic for picking which adjoiner part of align with.

------------------------------------------------------------------------
r1391 | ajapted | 2013-08-20 15:20:57 +1000 (Tue, 20 Aug 2013) | 3 lines

Texture alignment: fleshed out the logic for Y alignment, though it is
not 100% finished yet....

------------------------------------------------------------------------
r1390 | ajapted | 2013-08-17 16:22:13 +1000 (Sat, 17 Aug 2013) | 5 lines

3D_Align: more work on texture alignment:
1. the chosen adjoiner is always on the LEFT to the chosen sidedef
2. implemented DoAlignX()
3. started work on DoAlignY(), but it needs proper calculation

------------------------------------------------------------------------
r1389 | ajapted | 2013-08-17 15:51:07 +1000 (Sat, 17 Aug 2013) | 3 lines

3D_Align: for 'c' clear flag, properly handle different combinations of
the 'x' and 'y' flags.

------------------------------------------------------------------------
r1388 | ajapted | 2013-08-17 14:55:19 +1000 (Sat, 17 Aug 2013) | 2 lines

Texture alignment: implemented the 'c' (clear offsets) flag.

------------------------------------------------------------------------
r1387 | ajapted | 2013-08-17 14:37:07 +1000 (Sat, 17 Aug 2013) | 8 lines

Texture aligning: began work on new method which is done in 3D Mode.

This commit disables the 'LIN_Align' binding command, replacing it
with '3D_Align' binding command (which does nothing yet).  Updated
the default bindings too, with 'x', 'y', 'z' and 'c' keys.
The 'c' key will clear the offsets, and 'z' aligns both X and Y
(I would preferred 'a' do both, but it is used for WASD movement).

------------------------------------------------------------------------
r1386 | ajapted | 2013-08-17 14:31:30 +1000 (Sat, 17 Aug 2013) | 2 lines

Disabled the Adjoiner test code....

------------------------------------------------------------------------
r1385 | ajapted | 2013-08-02 22:46:35 +1000 (Fri, 02 Aug 2013) | 2 lines

minor update.

------------------------------------------------------------------------
r1384 | ajapted | 2013-08-02 21:23:52 +1000 (Fri, 02 Aug 2013) | 3 lines

Texture alignment: try to pick the next sidedef a bit more intelligently,
however I don't think this approach is really cutting the mustard....

------------------------------------------------------------------------
r1383 | ajapted | 2013-08-02 19:54:42 +1000 (Fri, 02 Aug 2013) | 4 lines

Texture alignment:
1. adjoiner scoring function: preference for same sided-ness of lines
2. added testing code -- highlight the best adjoiner of a line

------------------------------------------------------------------------
r1382 | ajapted | 2013-08-02 19:32:03 +1000 (Fri, 02 Aug 2013) | 4 lines

Texture alignment: implemented scoring logic for adjoiners, firstly
making sure that the sidedefs are actually next to each other, and
secondly giving a score based on texture matching (etc).

------------------------------------------------------------------------
r1381 | ajapted | 2013-08-02 17:22:04 +1000 (Fri, 02 Aug 2013) | 3 lines

Texture alignment: updated remaining code for 'side_on_a_line_t' typedef
and access functions.

------------------------------------------------------------------------
r1380 | ajapted | 2013-08-02 14:42:51 +1000 (Fri, 02 Aug 2013) | 4 lines

Texture alignment: introduced a 'side_on_a_line_t' typedef to simplify
passing around the LINE+SIDE references.  Partial work on the logic to
determine the adjoiner for a side.

------------------------------------------------------------------------
r1379 | ajapted | 2013-08-02 14:18:53 +1000 (Fri, 02 Aug 2013) | 2 lines

Basis : added LineDef::WhatSideDef() method.

------------------------------------------------------------------------
r1378 | ajapted | 2013-08-02 13:42:17 +1000 (Fri, 02 Aug 2013) | 3 lines

Texture alignment: a bit more work, e.g. logic for handling the unpeg
linedef flags, and added PartialTexCmp() function.

------------------------------------------------------------------------
r1377 | ajapted | 2013-08-02 12:33:09 +1000 (Fri, 02 Aug 2013) | 4 lines

LineDef panel: reverted layout of sidedef textures to match previous
versions (i.e. LOWER / RAIL / UPPER) -- although single-sided lines
still use the LOWER spot for its texture.

------------------------------------------------------------------------
r1376 | ajapted | 2013-08-02 12:26:58 +1000 (Fri, 02 Aug 2013) | 5 lines

Texture alignment: fleshed out more of the code, e.g. the logic for
collecting which sidedefs to align, and logic to pick which sidedef
to align next (ensuring we do an adjoiner _before_ that sidedef, if
possible).

------------------------------------------------------------------------
r1375 | ajapted | 2013-08-01 22:54:29 +1000 (Thu, 01 Aug 2013) | 2 lines

History.txt : added a preface about the different repositories.

------------------------------------------------------------------------
r1374 | ajapted | 2013-08-01 21:25:14 +1000 (Thu, 01 Aug 2013) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r1373 | ajapted | 2013-08-01 21:12:07 +1000 (Thu, 01 Aug 2013) | 2 lines

TODO updated.

------------------------------------------------------------------------
r1372 | ajapted | 2013-08-01 21:10:45 +1000 (Thu, 01 Aug 2013) | 3 lines

Renderer: got the query() method working, and use it to determine which
linedef / sidedef to adjust the offsets on.

------------------------------------------------------------------------
r1371 | ajapted | 2013-08-01 17:16:49 +1000 (Thu, 01 Aug 2013) | 2 lines

Renderer: use SIDE_LEFT / SIDE_RIGHT rather than 0/1.

------------------------------------------------------------------------
r1370 | ajapted | 2013-08-01 17:11:04 +1000 (Thu, 01 Aug 2013) | 2 lines

Renderer: more work on query() method....

------------------------------------------------------------------------
r1369 | ajapted | 2013-08-01 16:49:41 +1000 (Thu, 01 Aug 2013) | 4 lines

Renderer: began work on a query() method which will determine what the
mouse pointer is pointing at.  It will perform a limited rendering to
determine which wall / floor under the pointer.

------------------------------------------------------------------------
r1368 | ajapted | 2013-08-01 16:47:17 +1000 (Thu, 01 Aug 2013) | 2 lines

Texture alignment: comment defining flags to LIN_Align().

------------------------------------------------------------------------
r1367 | ajapted | 2013-08-01 15:33:29 +1000 (Thu, 01 Aug 2013) | 2 lines

Preferences: tweaked layout in each panel for better consistency.

------------------------------------------------------------------------
r1366 | ajapted | 2013-08-01 13:55:28 +1000 (Thu, 01 Aug 2013) | 2 lines

Improved normal grid drawing, darken colors when lines get close together.

------------------------------------------------------------------------
r1365 | ajapted | 2013-07-31 22:31:53 +1000 (Wed, 31 Jul 2013) | 4 lines

Began work on texture alignment commands.  This commit merely replaces
the two LIN_AlignX/Y functions into a single one 'LIN_Align', with
updated key bindings file.

------------------------------------------------------------------------
r1364 | ajapted | 2013-07-31 22:22:00 +1000 (Wed, 31 Jul 2013) | 2 lines

Version bump to 0.99

------------------------------------------------------------------------
r1363 | ajapted | 2013-07-31 21:07:37 +1000 (Wed, 31 Jul 2013) | 2 lines

Preferences: fixed the 'render_lock_gravity' option.

------------------------------------------------------------------------
r1362 | ajapted | 2013-07-31 21:01:38 +1000 (Wed, 31 Jul 2013) | 2 lines

Render3D_Wheel: added 'dx' parameter, use it to move left/right.

------------------------------------------------------------------------
r1361 | ajapted | 2013-07-31 20:40:43 +1000 (Wed, 31 Jul 2013) | 2 lines

Removed obj_no_t typedef -- just use 'int' instead.

------------------------------------------------------------------------
r1360 | ajapted | 2013-07-31 20:12:29 +1000 (Wed, 31 Jul 2013) | 6 lines

Improved highlight behavior of vertices when grid-snap is enabled.

The previous method merely expanded the search range to find a vertex
to highlight (get_cur_vertex) -- this made it too easy to accidently
drag the wrong vertex.

------------------------------------------------------------------------
r1359 | ajapted | 2013-07-31 20:07:54 +1000 (Wed, 31 Jul 2013) | 2 lines

Objid class: added a copy constructor.

------------------------------------------------------------------------
r1358 | ajapted | 2013-07-31 20:05:16 +1000 (Wed, 31 Jul 2013) | 2 lines

Added Vertex_FindExact() utility function.

------------------------------------------------------------------------
r1357 | ajapted | 2013-07-31 16:03:40 +1000 (Wed, 31 Jul 2013) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r1356 | ajapted | 2013-07-31 16:01:16 +1000 (Wed, 31 Jul 2013) | 3 lines

Implemented 'render_lock_gravity' config option, when enabled and gravity
is ON then you cannot move up or down in the 3D view.

------------------------------------------------------------------------
r1355 | ajapted | 2013-07-31 14:34:17 +1000 (Wed, 31 Jul 2013) | 5 lines

LineDef panel: the 'Length' widget is now an input box, and implemented
ability to enter a new length value and change all selected linedefs.

Doing this with all linedefs selected is a great way to wreck a map!

------------------------------------------------------------------------
r1354 | ajapted | 2013-07-31 14:22:11 +1000 (Wed, 31 Jul 2013) | 2 lines

Check / linedefs: layout tweak.

------------------------------------------------------------------------
r1353 | ajapted | 2013-07-31 13:38:09 +1000 (Wed, 31 Jul 2013) | 2 lines

Dead code removal : frob_things_flags().

------------------------------------------------------------------------
r1352 | ajapted | 2013-07-31 13:36:16 +1000 (Wed, 31 Jul 2013) | 2 lines

Dead code removal : frob_linedefs_flags() etc...

------------------------------------------------------------------------
r1351 | ajapted | 2013-07-31 13:13:01 +1000 (Wed, 31 Jul 2013) | 3 lines

In vertex mode, display length of last three linedefs (typically ones
which the user just added).

------------------------------------------------------------------------
r1350 | ajapted | 2013-07-30 22:23:42 +1000 (Tue, 30 Jul 2013) | 2 lines

TODO update.

------------------------------------------------------------------------
r1349 | ajapted | 2013-07-30 22:21:24 +1000 (Tue, 30 Jul 2013) | 3 lines

Better drawing of things (in THINGS mode) -- fill in their body with a
darker version of their color.

------------------------------------------------------------------------
r1348 | ajapted | 2013-07-30 21:59:08 +1000 (Tue, 30 Jul 2013) | 2 lines

Implemented mouse scaling using new 'edit.action' mechanism.

------------------------------------------------------------------------
r1347 | ajapted | 2013-07-30 16:58:21 +1000 (Tue, 30 Jul 2013) | 2 lines

Use the edit.action mechanism for dragging and the selection box.

------------------------------------------------------------------------
r1346 | ajapted | 2013-07-30 14:45:22 +1000 (Tue, 30 Jul 2013) | 3 lines

Implemented ClosestLine_CastAtAngle() utility function which finds the
closest linedef to a point casting at an arbitrary angle.

------------------------------------------------------------------------
r1345 | ajapted | 2013-07-30 14:34:26 +1000 (Tue, 30 Jul 2013) | 2 lines

Print a log message after unpacking sidedefs.

------------------------------------------------------------------------
r1344 | ajapted | 2013-07-30 14:33:53 +1000 (Tue, 30 Jul 2013) | 2 lines

LoadLevel: reset editor state _before_ loading the user state.

------------------------------------------------------------------------
r1343 | ajapted | 2013-07-29 22:38:52 +1000 (Mon, 29 Jul 2013) | 2 lines

TODO update.

------------------------------------------------------------------------
r1342 | ajapted | 2013-07-29 22:38:00 +1000 (Mon, 29 Jul 2013) | 4 lines

Adjust offsets: properly compute 'dx_factor' and 'dy_factor' values
based on the distance of the linedef to the camera.  This makes it
look like you are really dragging the texture around the wall.

------------------------------------------------------------------------
r1341 | ajapted | 2013-07-29 21:54:34 +1000 (Mon, 29 Jul 2013) | 2 lines

Adjust offsets: the SHIFT key makes the adjustment finer (slower).

------------------------------------------------------------------------
r1340 | ajapted | 2013-07-29 21:47:59 +1000 (Mon, 29 Jul 2013) | 4 lines

Removed unnecessary MarkChanges() and 'edit.RedrawMap = 1' statements.

Also fixed recent bug of texture changes not redrawing the 3D view.

------------------------------------------------------------------------
r1339 | ajapted | 2013-07-29 21:35:40 +1000 (Mon, 29 Jul 2013) | 2 lines

Dead code removal.

------------------------------------------------------------------------
r1338 | ajapted | 2013-07-29 21:29:02 +1000 (Mon, 29 Jul 2013) | 2 lines

Added GoToErrors() convenience function.

------------------------------------------------------------------------
r1337 | ajapted | 2013-07-29 21:18:08 +1000 (Mon, 29 Jul 2013) | 2 lines

Simplified handling of 'MadeChanges' global var.

------------------------------------------------------------------------
r1336 | ajapted | 2013-07-29 15:58:13 +1000 (Mon, 29 Jul 2013) | 2 lines

Disabled '!' prefix in the window title -- was not useful after all.

------------------------------------------------------------------------
r1335 | ajapted | 2013-07-29 12:28:46 +1000 (Mon, 29 Jul 2013) | 4 lines

Implemented SideDefs_NormalizeMiddles(), which is used after level load
and ensures that one-sided linedefs do not have an &quot;Upper&quot; or &quot;Rail&quot;
texture (as shown by the LineDef panel).

------------------------------------------------------------------------
r1334 | ajapted | 2013-07-28 20:05:32 +1000 (Sun, 28 Jul 2013) | 2 lines

TODO update.

------------------------------------------------------------------------
r1333 | ajapted | 2013-07-28 20:01:41 +1000 (Sun, 28 Jul 2013) | 4 lines

After loading a map, reset various editor state, especially clearing the
selection and highlight (prevent a possible crash), and update the map
totals (# of linedefs, etc) for the side panel.

------------------------------------------------------------------------
r1332 | ajapted | 2013-07-28 19:44:00 +1000 (Sun, 28 Jul 2013) | 2 lines

CHANGELOG: added the new sidedef layout.

------------------------------------------------------------------------
r1331 | ajapted | 2013-07-28 19:43:25 +1000 (Sun, 28 Jul 2013) | 4 lines

Adjust offsets: force mouse deltas to be either vertical or horizontal,
which makes it easier to make large horizontal adjustments without it
going up or down, and vice versa.

------------------------------------------------------------------------
r1330 | ajapted | 2013-07-28 19:27:02 +1000 (Sun, 28 Jul 2013) | 11 lines

LideDef panel: changed layout of textures in each SideDef section.
The default order is now LOWER / UPPER / RAIL.

Also, single-sided linedefs show the texture in the &quot;LOWER&quot; position,
since there is no longer a spot for a &quot;middle&quot; texture.

The main benefit of this is when multiple linedefs are selected which
is a mix of one-sided and two-sided lines, the user can safely change
the &quot;LOWER&quot; (or LOWER + UPPER) on all the linedefs without ending up
with unwanted railing textures.

------------------------------------------------------------------------
r1329 | ajapted | 2013-07-28 19:17:59 +1000 (Sun, 28 Jul 2013) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r1328 | ajapted | 2013-07-28 19:00:52 +1000 (Sun, 28 Jul 2013) | 3 lines

Automatically unpack sidedefs when loading a map, since the previous
confirmation dialog was probably more of a nuisance than a help.

------------------------------------------------------------------------
r1327 | ajapted | 2013-07-28 18:45:49 +1000 (Sun, 28 Jul 2013) | 3 lines

Basis: added BA_Abort() function which discards the current group of
operations and (optionally) undoes the changes since BA_Begin().

------------------------------------------------------------------------
r1326 | ajapted | 2013-07-28 18:10:50 +1000 (Sun, 28 Jul 2013) | 3 lines

3D View: changing the aspect ratio preference setting did not update the
rendered view (unless user changed window size) -- fixed.

------------------------------------------------------------------------
r1325 | ajapted | 2013-07-28 15:43:51 +1000 (Sun, 28 Jul 2013) | 3 lines

Checks: updated missing texture detection to count &quot;&quot; (empty string) as a
missing texture.

------------------------------------------------------------------------
r1324 | ajapted | 2013-07-28 15:27:49 +1000 (Sun, 28 Jul 2013) | 2 lines

Dead code removal : UI_SideDef::SetTexture() method.

------------------------------------------------------------------------
r1323 | ajapted | 2013-07-28 14:12:49 +1000 (Sun, 28 Jul 2013) | 3 lines

Preferences: implemented setting for Aspect ratio in 3D view, supporting
a &quot;CUSTOM&quot; choice allowing the user to enter arbitrary values.

------------------------------------------------------------------------
r1322 | ajapted | 2013-07-28 13:58:19 +1000 (Sun, 28 Jul 2013) | 3 lines

3D View: added 'render_aspect_ratio' config variable, and use it when
rendering a scene.  No preference setting yet....

------------------------------------------------------------------------
r1321 | ajapted | 2013-07-28 13:56:49 +1000 (Sun, 28 Jul 2013) | 2 lines

Fixed recent bug of highlighting map stuff when 3D view is active.

------------------------------------------------------------------------
r1320 | ajapted | 2013-07-27 21:06:44 +1000 (Sat, 27 Jul 2013) | 3 lines

Render3D: moved code around, namely UpdateScreen() method of 'view' and
draw(), BlitLores() and BlitHires() methods in UI_Render3D class.

------------------------------------------------------------------------
r1319 | ajapted | 2013-07-27 17:41:55 +1000 (Sat, 27 Jul 2013) | 2 lines

Adjusting offsets: apply the offsets when mouse button is released.

------------------------------------------------------------------------
r1318 | ajapted | 2013-07-27 17:29:21 +1000 (Sat, 27 Jul 2013) | 6 lines

More work on adjusting X/Y offsets via the mouse.  Implemented the logic
to save/change/restore the current offsets in the renderer (the real
change only occurs when the user releases the button -- NYI).

It does NOT pick the linedef/sidedef properly yet....

------------------------------------------------------------------------
r1317 | ajapted | 2013-07-26 22:23:11 +1000 (Fri, 26 Jul 2013) | 4 lines

1. added Editor_ClearAction() and Editor_SetAction() functions
2. re-implemented RMB map scrolling using the action system
3. began implementation of sidedef adjustment via MMB

------------------------------------------------------------------------
r1316 | ajapted | 2013-07-26 11:08:17 +1000 (Fri, 26 Jul 2013) | 2 lines

TODO update.

------------------------------------------------------------------------
r1315 | ajapted | 2013-07-26 11:07:54 +1000 (Fri, 26 Jul 2013) | 2 lines

CHANGELOG : yet another rejig.

------------------------------------------------------------------------
r1314 | ajapted | 2013-07-26 11:01:26 +1000 (Fri, 26 Jul 2013) | 4 lines

Preferences: disabled the &quot;maximize on startup&quot; option.  It is planned to
replace it in a future release with code to remember the window position
and maximized state.

------------------------------------------------------------------------
r1313 | ajapted | 2013-07-25 20:44:14 +1000 (Thu, 25 Jul 2013) | 3 lines

Menu: rewrote code to populate the &quot;Recent Files&quot; sub-menu, using same
basic method as for &quot;Given Files&quot; (recreating the Fl_Menu_Item array).

------------------------------------------------------------------------
r1312 | ajapted | 2013-07-25 20:30:26 +1000 (Thu, 25 Jul 2013) | 6 lines

Menu: worked on reimplementing the way the &quot;Given Files&quot; and &quot;Recent Files&quot;
sub-menus are populated, since previous way did not work under MacOS X.

Instead of fiddling with the menu bar _after_ creating it, we fiddle with
arrays of raw Fl_Menu_Items _before_ creating it.

------------------------------------------------------------------------
r1311 | ajapted | 2013-07-25 18:52:38 +1000 (Thu, 25 Jul 2013) | 12 lines

1. removed unused 'move_speed', 'extra_zoom' fields from Editor_State_t

2. added 'edit.action' field and a set of ACT_XXXXX enumerated values
   which will bring some sanity to the handling of temporal actions
   like dragging objects, drawing a sel box, scrolling the map, etc...

3. handle the META-fier command using the 'edit.action' mechanism

4. fixed bug with META-fying logic where an unrecogized META-fied key
   would be sent on to other widgets, even coming back to be handled
   as a normal key instead of being ignored.

------------------------------------------------------------------------
r1310 | ajapted | 2013-07-25 13:53:12 +1000 (Thu, 25 Jul 2013) | 2 lines

M_ParseEurekaLump: use DLG_Confirm() instead of fl_choice.

------------------------------------------------------------------------
r1309 | ajapted | 2013-07-25 13:52:17 +1000 (Thu, 25 Jul 2013) | 3 lines

Don't quit the program when the user cancels loading a wad during parsing
of the EUREKA lump.

------------------------------------------------------------------------
r1308 | ajapted | 2013-07-25 13:37:56 +1000 (Thu, 25 Jul 2013) | 5 lines

Preferences / Keys: renamed last button to &quot;Reset Defaults&quot; and _always_
show the confirmation dialog, since it erases ALL the user's changes.

Code-wise: use DLG_Confirm() instead of fl_choice() there.

------------------------------------------------------------------------
r1307 | ajapted | 2013-07-25 13:18:51 +1000 (Thu, 25 Jul 2013) | 6 lines

Fixed &quot;venetian blind&quot; issue when drawing large dots for the grid.

The real problem is with FLTK and how it clips non-filled rectangles.
To workaround the FLTK bug, use filled rectangles instead -- it might
even be faster.

------------------------------------------------------------------------
r1306 | ajapted | 2013-07-25 13:08:23 +1000 (Thu, 25 Jul 2013) | 2 lines

Edit / Move objects: implemented 'Z' delta for sectors.

------------------------------------------------------------------------
r1305 | ajapted | 2013-07-24 23:05:57 +1000 (Wed, 24 Jul 2013) | 2 lines

Tweaked the single-line title + copyright message.

------------------------------------------------------------------------
r1304 | ajapted | 2013-07-24 22:35:40 +1000 (Wed, 24 Jul 2013) | 3 lines

Dead code removal : MakeDoorFromSector and MakeLiftFromSector.
(that functionality may return one day, in the form of a script).

------------------------------------------------------------------------
r1303 | ajapted | 2013-07-24 22:31:04 +1000 (Wed, 24 Jul 2013) | 2 lines

Dead code removal : bv_vertices_of_xxx and linedefs_of_sector(s).

------------------------------------------------------------------------
r1302 | ajapted | 2013-07-24 22:27:18 +1000 (Wed, 24 Jul 2013) | 2 lines

Dead code removal : Superimposed_ld class.

------------------------------------------------------------------------
r1301 | printz | 2013-07-24 19:22:04 +1000 (Wed, 24 Jul 2013) | 4 lines

osx:
* Updated Xcode project to Makefile's new specifications
* Updated the info plist to the current version
* Updated the icns file to the new logo. File is a bit too large now,
  especially after I used a free tool called &quot;Retina Icon Binder&quot;.
  Thus the total package size is even bigger than the previous OSX Eureka
  release, even if now I merely linked FLTK statically.
  Might be the redundant lower-scale icons adding to the size.
  I need a better ICNS tool that can safely delete the smaller icons.

------------------------------------------------------------------------
r1300 | ajapted | 2013-07-23 19:32:51 +1000 (Tue, 23 Jul 2013) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r1299 | ajapted | 2013-07-23 19:22:14 +1000 (Tue, 23 Jul 2013) | 2 lines

M_WriteEurekaLump : it handles the BeginWrite/EndWrite itself now.

------------------------------------------------------------------------
r1298 | ajapted | 2013-07-23 19:21:18 +1000 (Tue, 23 Jul 2013) | 3 lines

Wad code: fixed potential issue with 'insert_point' handling which was
probably responsible for the rare level-lumps-in-wrong-order problem.

------------------------------------------------------------------------
r1297 | ajapted | 2013-07-23 16:20:47 +1000 (Tue, 23 Jul 2013) | 3 lines

File / Test map: if changes have been made, ask user if they want to
save the map and build the nodes.

------------------------------------------------------------------------
r1296 | ajapted | 2013-07-23 16:09:50 +1000 (Tue, 23 Jul 2013) | 2 lines

Tweaks.

------------------------------------------------------------------------
r1295 | ajapted | 2013-07-23 16:06:33 +1000 (Tue, 23 Jul 2013) | 2 lines

FatalError: replace single newlines with spaces for DLG_ShowError().

------------------------------------------------------------------------
r1294 | ajapted | 2013-07-23 14:59:54 +1000 (Tue, 23 Jul 2013) | 5 lines

Dialogs: added keyboard shortcuts (via '&amp;') for all buttons except Cancel.

We don't do Cancel since &quot;Create&quot; button (from File / New Map) would
conflict, plus the ESCAPE key already serves that function.

------------------------------------------------------------------------
r1293 | ajapted | 2013-07-23 14:44:30 +1000 (Tue, 23 Jul 2013) | 3 lines

Wad code: no need to LogPrintf() updates to the master directory or when
reading/writing a directory from a wad -- they are now debug messages.

------------------------------------------------------------------------
r1292 | ajapted | 2013-07-23 14:43:03 +1000 (Tue, 23 Jul 2013) | 3 lines

File / Build nodes: better handle the case when there is no current pwad,
but the user has made changes (e.g. an edited IWAD map, or a fresh map).

------------------------------------------------------------------------
r1291 | ajapted | 2013-07-23 14:35:28 +1000 (Tue, 23 Jul 2013) | 3 lines

Dialogs: use UI_Escapable_Window so that dialogs can be dismissed with
the ESCAPE key.

------------------------------------------------------------------------
r1290 | ajapted | 2013-07-23 14:31:56 +1000 (Tue, 23 Jul 2013) | 4 lines

File / Build nodes: when the map has unsaved changes, we now ask the user
whether they want to save the map and then build the nodes.  (Previously
it was just a notification dialog.)

------------------------------------------------------------------------
r1289 | ajapted | 2013-07-23 14:28:15 +1000 (Tue, 23 Jul 2013) | 10 lines

Fixed bug causing a FatalError() when editing a pwad, creating a new map
which is fresh (does not replace any existing map), and then attempting
to build the nodes.  Since the new map was not saved, Eureka was unable
to re-load the map from the node-enhanced wad.

Hence creating a new map (CTRL-N) always sets the &quot;Made Changes&quot; flag.

This commit also makes CMD_SaveMap() and CMD_ExportMap() return a bool
indicating success or failure.

------------------------------------------------------------------------
r1288 | ajapted | 2013-07-23 14:01:08 +1000 (Tue, 23 Jul 2013) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r1287 | ajapted | 2013-07-23 13:55:44 +1000 (Tue, 23 Jul 2013) | 3 lines

Show an '!' symbol in the window title when a new map would replace an
existing map in the current wad.

------------------------------------------------------------------------
r1286 | ajapted | 2013-07-23 13:41:28 +1000 (Tue, 23 Jul 2013) | 3 lines

File / Save: if a new map would replace (overwrite) an existing map,
give the user a third option: &quot;Export&quot; the map.

------------------------------------------------------------------------
r1285 | ajapted | 2013-07-22 22:20:54 +1000 (Mon, 22 Jul 2013) | 3 lines

Improved look of Preferences and Log-viewer windows when not using the
&quot;Bright&quot; color scheme -- the background at the bottom was too dark.

------------------------------------------------------------------------
r1284 | ajapted | 2013-07-22 21:38:47 +1000 (Mon, 22 Jul 2013) | 3 lines

Dialogs: copy the fl_ask (etc) behavior and make the window's position
dependent on where the mouse pointer is.

------------------------------------------------------------------------
r1283 | ajapted | 2013-07-22 21:15:40 +1000 (Mon, 22 Jul 2013) | 5 lines

Dialogs:
1. support the 'icon_type' to make different colored icons
2. ensure the left-most button gets the focus
3. fixed navigation problem (LEFT and RIGHT cursor keys)

------------------------------------------------------------------------
r1282 | ajapted | 2013-07-22 20:54:20 +1000 (Mon, 22 Jul 2013) | 4 lines

Dialogs: worked to parse and create the buttons for DLG_Confirm(), and
properly handle the var-args for DLG_Notify() and DLG_Confirm(), plus
a few other tweaks.

------------------------------------------------------------------------
r1281 | ajapted | 2013-07-22 20:19:31 +1000 (Mon, 22 Jul 2013) | 5 lines

1. Thing checker now detects if too many DM starts are present

2. moved the DOOM_PLAYER_HEIGHT and DOOM_MIN/MAX_DEATHMATCH_STARTS to
   be fields of the game_info_t structure.

------------------------------------------------------------------------
r1280 | ajapted | 2013-07-22 20:05:23 +1000 (Mon, 22 Jul 2013) | 3 lines

Removed unused confirm_t type, and the OPT_CONFIRM stuff in the config
loading and saving code.

------------------------------------------------------------------------
r1279 | ajapted | 2013-07-22 20:01:49 +1000 (Mon, 22 Jul 2013) | 2 lines

Tidied up main.h

------------------------------------------------------------------------
r1278 | ajapted | 2013-07-22 16:40:24 +1000 (Mon, 22 Jul 2013) | 2 lines

Removed code file: m_dialog.cc

------------------------------------------------------------------------
r1277 | ajapted | 2013-07-22 16:36:37 +1000 (Mon, 22 Jul 2013) | 5 lines

Dialogs: renamed Confirm() --&gt; DLG_Confirm(), and changed the parameters
to take button names and use var-arg message.

Note that the new DLG_Confirm() is not implemented yet.

------------------------------------------------------------------------
r1276 | ajapted | 2013-07-22 16:12:32 +1000 (Mon, 22 Jul 2013) | 2 lines

Removed header files: m_dialog.h and ui_dialog.h

------------------------------------------------------------------------
r1275 | ajapted | 2013-07-22 16:05:23 +1000 (Mon, 22 Jul 2013) | 3 lines

Began work on better dialog boxes.  This commit mainly renames 'Notify'
function to 'DLG_Notify' and simplifies its parameters.

------------------------------------------------------------------------
r1274 | ajapted | 2013-07-22 15:17:27 +1000 (Mon, 22 Jul 2013) | 2 lines

Dead code removal : NotImplemented() and Confirm2() functions.

------------------------------------------------------------------------
r1273 | ajapted | 2013-07-21 16:02:13 +1000 (Sun, 21 Jul 2013) | 2 lines

TODO update.

------------------------------------------------------------------------
r1272 | ajapted | 2013-07-21 16:01:15 +1000 (Sun, 21 Jul 2013) | 2 lines

Improved scroll-bar colors.

------------------------------------------------------------------------
r1271 | ajapted | 2013-07-21 14:42:44 +1000 (Sun, 21 Jul 2013) | 2 lines

Check / textures: allow &quot;-&quot; on uppers when between two sky ceilings.

------------------------------------------------------------------------
r1270 | ajapted | 2013-07-21 14:29:51 +1000 (Sun, 21 Jul 2013) | 2 lines

CHANGELOG: minor rejig.

------------------------------------------------------------------------
r1269 | ajapted | 2013-07-21 14:23:17 +1000 (Sun, 21 Jul 2013) | 2 lines

Check / textures: wrote logic to detect and fix missing textures.

------------------------------------------------------------------------
r1268 | ajapted | 2013-07-21 14:00:38 +1000 (Sun, 21 Jul 2013) | 3 lines

Check / things: fixed &quot;Remove&quot; button for things in void to not close
the thing check dialog.

------------------------------------------------------------------------
r1267 | ajapted | 2013-07-21 13:59:29 +1000 (Sun, 21 Jul 2013) | 3 lines

Check / textures: implemented &quot;Fix&quot; buttons for unknown textures and
unknown flats.

------------------------------------------------------------------------
r1266 | ajapted | 2013-07-21 13:43:59 +1000 (Sun, 21 Jul 2013) | 2 lines

HERETIC: changed default floor to FLOOR00 (was FLOOR01).

------------------------------------------------------------------------
r1265 | ajapted | 2013-07-21 13:07:42 +1000 (Sun, 21 Jul 2013) | 2 lines

Ports / BOOM: added 'v' flag to point push/pull things.

------------------------------------------------------------------------
r1264 | ajapted | 2013-07-21 13:05:32 +1000 (Sun, 21 Jul 2013) | 3 lines

Check / things: improved VOID testing to ignore things with the 'v' flag
(such as Heretic's sound emitters).

------------------------------------------------------------------------
r1263 | ajapted | 2013-07-21 13:04:31 +1000 (Sun, 21 Jul 2013) | 3 lines

Game defs: implemented new 'v' thing flag for things which may exist
in the VOID, and use this flag for Heretic's sound emitters.

------------------------------------------------------------------------
r1262 | ajapted | 2013-07-21 12:39:40 +1000 (Sun, 21 Jul 2013) | 5 lines

Check / things:
1. implemented 'Remove' button for unknown things
2. more accurate testing for &quot;in the void&quot; things
3. added 'Remove' button for things in the void

------------------------------------------------------------------------
r1261 | ajapted | 2013-07-21 12:20:05 +1000 (Sun, 21 Jul 2013) | 2 lines

foo

------------------------------------------------------------------------
r1260 | ajapted | 2013-07-21 12:13:33 +1000 (Sun, 21 Jul 2013) | 6 lines

Check / things:
1. implemented &quot;Log&quot; button for unknown things, which dumps all the
   unknown id numbers to the log file (and opens the log viewer)

2. moved the unknown thing results to the top.

------------------------------------------------------------------------
r1259 | ajapted | 2013-07-20 23:22:20 +1000 (Sat, 20 Jul 2013) | 4 lines

Check / textures: implemented a &quot;Log&quot; button for unknown flats and textures,
which prints the names (and usage count) into the log file, then opens up
the log viewer.

------------------------------------------------------------------------
r1258 | ajapted | 2013-07-20 22:59:48 +1000 (Sat, 20 Jul 2013) | 3 lines

Log viewer: have a function to open it, which now jumps to the end
(i.e. ensures the last line is visible).

------------------------------------------------------------------------
r1257 | ajapted | 2013-07-20 22:25:26 +1000 (Sat, 20 Jul 2013) | 3 lines

Check / textures: implemented detecting unknown flats and textures,
and ability to show the sectors / lines (in the ERROR mode).

------------------------------------------------------------------------
r1256 | ajapted | 2013-07-20 22:01:19 +1000 (Sat, 20 Jul 2013) | 2 lines

Added W_TextureExists() and W_FlatExists() functions.

------------------------------------------------------------------------
r1255 | ajapted | 2013-07-20 21:49:28 +1000 (Sat, 20 Jul 2013) | 2 lines

Checks: began work on Texture checking functions....

------------------------------------------------------------------------
r1254 | ajapted | 2013-07-20 21:47:14 +1000 (Sat, 20 Jul 2013) | 3 lines

Check / things: made unknown things a serious error, since vanilla DOOM
will produce a fatal error for them.

------------------------------------------------------------------------
r1253 | ajapted | 2013-07-20 17:51:25 +1000 (Sat, 20 Jul 2013) | 2 lines

TODO: updated.

------------------------------------------------------------------------
r1252 | ajapted | 2013-07-20 17:38:10 +1000 (Sat, 20 Jul 2013) | 6 lines

Clear the ERROR mode when necessary, such as when changing the edit mode
or trying to select a new object, or certain operations that leave a
certain object selected.

For the Quantize command, we now _set_ the ERROR mode.

------------------------------------------------------------------------
r1251 | ajapted | 2013-07-20 14:33:28 +1000 (Sat, 20 Jul 2013) | 3 lines

Preferences: reserve an area in 'Other' tab for &quot;3D Preview Options&quot;.
Nothing is there yet....

------------------------------------------------------------------------
r1250 | ajapted | 2013-07-20 14:24:50 +1000 (Sat, 20 Jul 2013) | 4 lines

Fixed assertion when the 'FlipMap' command was used and the current level
name cannot be found in the current wad (e.g. the IWAD was changed from
DOOM 2 --&gt; DOOM 1).

------------------------------------------------------------------------
r1249 | ajapted | 2013-07-20 14:17:15 +1000 (Sat, 20 Jul 2013) | 2 lines

DOOM 1: categorized the DOOM1-specific textures.

------------------------------------------------------------------------
r1248 | ajapted | 2013-07-20 14:06:27 +1000 (Sat, 20 Jul 2013) | 2 lines

DOOM: moved the DOOM2-only textures out of common/doom_tex.ugh

------------------------------------------------------------------------
r1247 | ajapted | 2013-07-20 13:41:59 +1000 (Sat, 20 Jul 2013) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r1246 | ajapted | 2013-07-20 13:31:55 +1000 (Sat, 20 Jul 2013) | 4 lines

Map view: better drawing of selected sectors, draw knobbly lines where
the knobs point inside the sectors, and skip lines that exist between
two selected sectors.

------------------------------------------------------------------------
r1245 | ajapted | 2013-07-20 11:36:26 +1000 (Sat, 20 Jul 2013) | 5 lines

Map view:
1. smaller surrounding box for highlighted things
2. improved arrow drawing for large highlighted things
3. improved arrow drawing for highlighted linedefs

------------------------------------------------------------------------
r1244 | ajapted | 2013-07-19 20:36:21 +1000 (Fri, 19 Jul 2013) | 2 lines

HERETIC: apply same fix for exit-level linetypes.

------------------------------------------------------------------------
r1243 | ajapted | 2013-07-19 20:28:36 +1000 (Fri, 19 Jul 2013) | 3 lines

DOOM: updated exit specials to use &quot;s1&quot; instead of &quot;S1&quot;, to prevent
those lines showing up in the &quot;linedefs missing a needed tag&quot; check.

------------------------------------------------------------------------
r1242 | ajapted | 2013-07-19 20:24:54 +1000 (Fri, 19 Jul 2013) | 4 lines

Check / tags: added new test for linedefs missing a needed tag.
Needs some game definition changes to work properly, especially the
exit level types to use &quot;s1&quot; instead of &quot;S1&quot;.

------------------------------------------------------------------------
r1241 | ajapted | 2013-07-19 20:00:25 +1000 (Fri, 19 Jul 2013) | 3 lines

Check / tags: finished GUI parts of detecting unmatched tagged stuff.
Also moved the Lowest/Highest values to occupy a single line.

------------------------------------------------------------------------
r1240 | ajapted | 2013-07-19 19:15:11 +1000 (Fri, 19 Jul 2013) | 3 lines

Check / tags: worked on detecting sectors with no tagged linedef and
vice versa.  This commit has the detection logic.

------------------------------------------------------------------------
r1239 | ajapted | 2013-07-19 15:59:19 +1000 (Fri, 19 Jul 2013) | 2 lines

Check / tags: fixed the &quot;all_mode&quot; handling.

------------------------------------------------------------------------
r1238 | ajapted | 2013-07-19 15:56:48 +1000 (Fri, 19 Jul 2013) | 2 lines

Checks.txt : a few more tag-testing ideas...

------------------------------------------------------------------------
r1237 | ajapted | 2013-07-19 15:52:49 +1000 (Fri, 19 Jul 2013) | 3 lines

Check / things: implemented ThingStuckInWall() -- finishing the support
for stuck thing detection.

------------------------------------------------------------------------
r1236 | ajapted | 2013-07-19 15:51:55 +1000 (Fri, 19 Jul 2013) | 2 lines

Renamed LineCrossesBox() --&gt; LineTouchesBox(), and removed some unused code.

------------------------------------------------------------------------
r1235 | ajapted | 2013-07-19 14:29:09 +1000 (Fri, 19 Jul 2013) | 5 lines

Check / things: for monsters, allow a small (8 unit) leeway to overlap a
solid thing before considering it as stuck.  That's because the monster
movement code allows a monster to move a certain distance from its
starting position.

------------------------------------------------------------------------
r1234 | ajapted | 2013-07-19 13:53:02 +1000 (Fri, 19 Jul 2013) | 2 lines

Check / things: implemented detecting actors stuck in solid things.

------------------------------------------------------------------------
r1233 | ajapted | 2013-07-19 13:09:33 +1000 (Fri, 19 Jul 2013) | 3 lines

Check / things: began work on detecting players and monsters stuck in
walls or other things.

------------------------------------------------------------------------
r1232 | ajapted | 2013-07-19 11:56:33 +1000 (Fri, 19 Jul 2013) | 3 lines

Checks: removed the previous checking code -- it was not used as-is,
but some of that code or algorithms were used in the new functions.

------------------------------------------------------------------------
r1231 | ajapted | 2013-07-19 11:53:40 +1000 (Fri, 19 Jul 2013) | 2 lines

Checks: just moved code around.

------------------------------------------------------------------------
r1230 | ajapted | 2013-07-19 11:37:36 +1000 (Fri, 19 Jul 2013) | 2 lines

Port definitions: updated with 'n' (non-blocking) thing flag.

------------------------------------------------------------------------
r1229 | ajapted | 2013-07-19 11:35:31 +1000 (Fri, 19 Jul 2013) | 2 lines

HACX: updated thing defs with new 'n' (non-blocking) flag.

------------------------------------------------------------------------
r1228 | ajapted | 2013-07-19 11:31:05 +1000 (Fri, 19 Jul 2013) | 3 lines

HERETIC: updated things, added missing 'l' (lit) and 'c' (ceiling) flags
as well as the new 'n' (non-blocking) flag.

------------------------------------------------------------------------
r1227 | ajapted | 2013-07-18 22:47:55 +1000 (Thu, 18 Jul 2013) | 3 lines

Game defs: updated DOOM 1 and 2 definitions to add the 'n' non-solid flag
to all the things which need it.

------------------------------------------------------------------------
r1226 | ajapted | 2013-07-18 22:45:42 +1000 (Thu, 18 Jul 2013) | 3 lines

Game defs: support a new thing flag 'n' : Non-Solid.  This will be used
later for detecting things stuck in walls or other things.

------------------------------------------------------------------------
r1225 | ajapted | 2013-07-18 22:19:24 +1000 (Thu, 18 Jul 2013) | 2 lines

TODO and CHANGELOG update.

------------------------------------------------------------------------
r1224 | ajapted | 2013-07-18 22:15:06 +1000 (Thu, 18 Jul 2013) | 3 lines

Log viewer: finished the ability to &quot;Save&quot; the full logs to a file.
The grunt-work is done by new LogSaveTo(FILE *) function.

------------------------------------------------------------------------
r1223 | ajapted | 2013-07-18 21:51:41 +1000 (Thu, 18 Jul 2013) | 5 lines

Log viewer:
1. implemented copying the selected lines to the clipboard
2. made CTRL-C be a shortcut for the &quot;Copy&quot; button
3. renamed the &quot;OK&quot; button to &quot;Close&quot;

------------------------------------------------------------------------
r1222 | ajapted | 2013-07-18 21:01:04 +1000 (Thu, 18 Jul 2013) | 3 lines

Opposite finder: when building the binary trees, skip purely horizontal
lines in the Y tree, similarly purely vertical lines in the X tree.

------------------------------------------------------------------------
r1221 | ajapted | 2013-07-18 20:45:30 +1000 (Thu, 18 Jul 2013) | 3 lines

Log viewer: added logic to activate the &quot;Copy&quot; button when the user has
selected two or more lines -- otherwise it stays deactivated.

------------------------------------------------------------------------
r1220 | ajapted | 2013-07-18 19:57:30 +1000 (Thu, 18 Jul 2013) | 6 lines

Log viewer:
1. partial work to implement &quot;Save&quot; button
2. use a Fl_Multi_Browser, so user can select areas to copy/save
3. added a &quot;Copy&quot; button to bottom area (not yet functional)
4. in bottom area, place resizable gap between &quot;OK&quot; and other buttons

------------------------------------------------------------------------
r1219 | ajapted | 2013-07-18 19:08:16 +1000 (Thu, 18 Jul 2013) | 2 lines

Log viewer: implemented the &quot;OK&quot; button (to close) and &quot;Clear&quot; button.

------------------------------------------------------------------------
r1218 | ajapted | 2013-07-18 18:55:33 +1000 (Thu, 18 Jul 2013) | 3 lines

Log viewer: began work improving it, with a button area at the bottom
which will contain three buttons: &quot;Save&quot;, &quot;Clear&quot; and &quot;OK&quot;.

------------------------------------------------------------------------
r1217 | ajapted | 2013-07-18 17:21:19 +1000 (Thu, 18 Jul 2013) | 3 lines

Opposite finder: fixed some bugs, and actually use it to speed up the
sector mismatch test.  The new logic is roughly 4-5 times faster.

------------------------------------------------------------------------
r1216 | ajapted | 2013-07-18 16:36:24 +1000 (Thu, 18 Jul 2013) | 2 lines

Opposite finder: implemented the binary-tree testing logic.

------------------------------------------------------------------------
r1215 | ajapted | 2013-07-18 16:20:35 +1000 (Thu, 18 Jul 2013) | 3 lines

Opposite finder: in fastopp nodes, store linedefs as integers rather than
pointers.

------------------------------------------------------------------------
r1214 | ajapted | 2013-07-18 16:16:09 +1000 (Thu, 18 Jul 2013) | 3 lines

Opposite finder: moved state into a 'opp_test_state_t' structure, and
also moved the code to handle a single linedef there.

------------------------------------------------------------------------
r1213 | ajapted | 2013-07-18 15:58:10 +1000 (Thu, 18 Jul 2013) | 7 lines

Began work on a faster version of OppositeLineDef() and OppositeSector(),
mainly for the sector mismatch test.

So far: written the logic for creating a quadtree-like structure and
storing linedefs in it.  Unlike a quadtree, this is one-dimensional and
there are two of them (for X and Y dimensions).

------------------------------------------------------------------------
r1212 | ajapted | 2013-07-18 15:20:36 +1000 (Thu, 18 Jul 2013) | 3 lines

Checks / linedefs: added test for linedefs with wrong 2S (TwoSided) flag,
as well as actions to show and fix them.

------------------------------------------------------------------------
r1211 | ajapted | 2013-07-18 15:10:49 +1000 (Thu, 18 Jul 2013) | 3 lines

Checks / linedefs: implemented test for one-sided lines without blocking
flag, and actions to show and fix them.

------------------------------------------------------------------------
r1210 | ajapted | 2013-07-18 13:46:32 +1000 (Thu, 18 Jul 2013) | 3 lines

Checks: use UI_Check_base as the base for remaining dialog classes,
namely UI_Check_Sectors, UI_Check_Things and UI_Check_Tags.

------------------------------------------------------------------------
r1209 | ajapted | 2013-07-16 22:30:09 +1000 (Tue, 16 Jul 2013) | 2 lines

TODO update.

------------------------------------------------------------------------
r1208 | ajapted | 2013-07-16 22:29:18 +1000 (Tue, 16 Jul 2013) | 3 lines

Checks: converted UI_Check_Vertices and UI_Check_LineDefs classes to
use the new base class.

------------------------------------------------------------------------
r1207 | ajapted | 2013-07-16 22:19:21 +1000 (Tue, 16 Jul 2013) | 3 lines

Checks: created a base class for all the dialogs : UI_Check_base.
Nothing uses it yet....

------------------------------------------------------------------------
r1206 | ajapted | 2013-07-16 21:16:28 +1000 (Tue, 16 Jul 2013) | 7 lines

Use UI_Escapable_Window for most other dialogs with a &quot;Cancel&quot; button.

Not used for UI_NodeDialog since it has special behavior (first ESC
press cancels the build but keeps the window open).

Not used with UI_Check_XXX yet, pending a superclass for them.

------------------------------------------------------------------------
r1205 | ajapted | 2013-07-16 21:02:26 +1000 (Tue, 16 Jul 2013) | 3 lines

About dialog: subclass from UI_Escapable_Window, simplifying the code
e.g. no longer need our own handle() method.

------------------------------------------------------------------------
r1204 | ajapted | 2013-07-16 21:01:08 +1000 (Tue, 16 Jul 2013) | 2 lines

Added UI_Escapable_Window class -- a subclass of Fl_Double_Window.

------------------------------------------------------------------------
r1203 | ajapted | 2013-07-16 20:38:33 +1000 (Tue, 16 Jul 2013) | 2 lines

Code: re-whitespaced ui_about.cc/h to be consistent.

------------------------------------------------------------------------
r1202 | ajapted | 2013-07-16 20:11:27 +1000 (Tue, 16 Jul 2013) | 2 lines

misc/Checks.txt : more twiddling...

------------------------------------------------------------------------
r1201 | ajapted | 2013-07-16 20:10:56 +1000 (Tue, 16 Jul 2013) | 2 lines

Made some Beep() error messages more consistent.

------------------------------------------------------------------------
r1200 | ajapted | 2013-07-16 19:52:43 +1000 (Tue, 16 Jul 2013) | 2 lines

Checks: moved code around, namely TAG stuff --&gt; e_checks2.cc

------------------------------------------------------------------------
r1199 | ajapted | 2013-07-16 19:49:37 +1000 (Tue, 16 Jul 2013) | 10 lines

Checks:
1. rearranged 'Check' menu, added 'Major stuff' item which does all
   the checks but ignores minor problems.

2. made the 'Check / ALL' menu item perform the Texture and Tags
   tests too (not just the Vert/Lin/Sec/Thing tests).

3. Code-wise, pass 'min_severity' to each CHECK_xxx function,
   instead of 'all_mode' boolean.

------------------------------------------------------------------------
r1198 | ajapted | 2013-07-16 19:06:16 +1000 (Tue, 16 Jul 2013) | 2 lines

Check / linedefs: implemented test for criss-crossing linedefs.

------------------------------------------------------------------------
r1197 | ajapted | 2013-07-16 18:08:59 +1000 (Tue, 16 Jul 2013) | 2 lines

Check / linedefs: moved code around, added linedef_minx_CMP_pred.

------------------------------------------------------------------------
r1196 | ajapted | 2013-07-16 17:10:27 +1000 (Tue, 16 Jul 2013) | 6 lines

Checks: for tests which have a &quot;Show&quot; button and a map-modifying button,
place the &quot;Show&quot; button on the left and other button on the right.

That's because the first button is navigated to by FLTK, and hence it
should ideally be a non-destructive action.

------------------------------------------------------------------------
r1195 | ajapted | 2013-07-16 17:06:58 +1000 (Tue, 16 Jul 2013) | 2 lines

Check / linedefs: added 'Remove' feature for overlapping linedefs.

------------------------------------------------------------------------
r1194 | ajapted | 2013-07-16 16:46:27 +1000 (Tue, 16 Jul 2013) | 2 lines

Checks: layout tweak.

------------------------------------------------------------------------
r1193 | ajapted | 2013-07-16 16:43:27 +1000 (Tue, 16 Jul 2013) | 2 lines

Check / linedefs: detection logic for directly overlapping linedefs.

------------------------------------------------------------------------
r1192 | ajapted | 2013-07-16 14:53:14 +1000 (Tue, 16 Jul 2013) | 2 lines

Check / linedefs: added test for linedefs without a right side.

------------------------------------------------------------------------
r1191 | ajapted | 2013-07-16 14:43:41 +1000 (Tue, 16 Jul 2013) | 3 lines

Check / linedefs: implemented zero-length linedef test, with a button to
show them (in vertex mode) and a button to remove them.

------------------------------------------------------------------------
r1190 | ajapted | 2013-07-16 13:58:52 +1000 (Tue, 16 Jul 2013) | 2 lines

New code file 'e_checks2.cc' -- it will contain linedef checking code.

------------------------------------------------------------------------
r1189 | ajapted | 2013-07-16 13:38:22 +1000 (Tue, 16 Jul 2013) | 4 lines

Check / sectors: re-implemented the mismatched sectors test, based on
the existing DEU code.  However it is quite slow, O(n^2) with number
of linedefs.

------------------------------------------------------------------------
r1188 | ajapted | 2013-07-16 13:04:51 +1000 (Tue, 16 Jul 2013) | 2 lines

Removed the now redundant GetOppositeSector() code.

------------------------------------------------------------------------
r1187 | ajapted | 2013-07-16 13:03:32 +1000 (Tue, 16 Jul 2013) | 2 lines

Added OppositeSector() function which uses OppositeLineDef().

------------------------------------------------------------------------
r1186 | ajapted | 2013-07-16 12:45:28 +1000 (Tue, 16 Jul 2013) | 2 lines

Check / things: tweaked player start messages.

------------------------------------------------------------------------
r1185 | ajapted | 2013-07-16 12:38:32 +1000 (Tue, 16 Jul 2013) | 2 lines

misc/Checks.txt updated.

------------------------------------------------------------------------
r1184 | ajapted | 2013-07-16 12:38:07 +1000 (Tue, 16 Jul 2013) | 5 lines

Check / sectors: implemented detection of unclosed sectors (mismatches
at vertices), with buttons to show the sectors and show the vertices.

Renamed XXX_Highlight --&gt; XXX_Show, and removed a bit of dead code.

------------------------------------------------------------------------
r1183 | ajapted | 2013-07-16 10:59:25 +1000 (Tue, 16 Jul 2013) | 4 lines

Key bindings:
1. renamed binding command: AwaitMeta --&gt; MetaKey
2. allow ';' to toggle the await_meta state on and off

------------------------------------------------------------------------
r1182 | ajapted | 2013-07-15 21:50:17 +1000 (Mon, 15 Jul 2013) | 3 lines

When loading a level, check for shared sidedefs and if exist ask user
whether to unpack them or not.

------------------------------------------------------------------------
r1181 | ajapted | 2013-07-15 21:40:06 +1000 (Mon, 15 Jul 2013) | 2 lines

Check / sectors: finished the sidedef unpacking algorithm.

------------------------------------------------------------------------
r1180 | ajapted | 2013-07-15 21:19:04 +1000 (Mon, 15 Jul 2013) | 2 lines

Check / sectors: worked on algorithm to unpack sidedefs...

------------------------------------------------------------------------
r1179 | ajapted | 2013-07-15 20:49:59 +1000 (Mon, 15 Jul 2013) | 3 lines

Check / sectors: implemented detection of shared sidedefs, and ability
to show them in the error mode.  To-Do: ability to unpack them.

------------------------------------------------------------------------
r1178 | ajapted | 2013-07-15 20:08:11 +1000 (Mon, 15 Jul 2013) | 4 lines

Check / sectors: added test for ceiling &lt; floor height, with two action
buttons: &quot;Fix&quot; will set ceiling same as floor, and &quot;Show&quot; to highlight
them in the error_mode.

------------------------------------------------------------------------
r1177 | ajapted | 2013-07-15 19:56:46 +1000 (Mon, 15 Jul 2013) | 2 lines

Check / sectors: count unused sidedefs, and ability to remove them.

------------------------------------------------------------------------
r1176 | ajapted | 2013-07-15 19:41:24 +1000 (Mon, 15 Jul 2013) | 3 lines

Checks: began work on SECTOR checks...  So far only have unused count
(with button to remove those unused sectors).

------------------------------------------------------------------------
r1175 | ajapted | 2013-07-15 19:40:15 +1000 (Mon, 15 Jul 2013) | 2 lines

tweaked Prune message.

------------------------------------------------------------------------
r1174 | ajapted | 2013-07-15 19:26:55 +1000 (Mon, 15 Jul 2013) | 2 lines

Checks.txt : updated for current plans.

------------------------------------------------------------------------
r1173 | ajapted | 2013-07-15 19:11:54 +1000 (Mon, 15 Jul 2013) | 3 lines

Checks: when highlighting error objects, ensure we change the editor mode
when necessary.

------------------------------------------------------------------------
r1172 | ajapted | 2013-07-15 19:01:23 +1000 (Mon, 15 Jul 2013) | 2 lines

Checks: tweakage.

------------------------------------------------------------------------
r1171 | ajapted | 2013-07-15 18:53:32 +1000 (Mon, 15 Jul 2013) | 2 lines

Checks / things: added detection of things in void-space.

------------------------------------------------------------------------
r1170 | ajapted | 2013-07-15 18:41:25 +1000 (Mon, 15 Jul 2013) | 2 lines

Dead code removal : CheckStartingPos()

------------------------------------------------------------------------
r1169 | ajapted | 2013-07-15 18:40:20 +1000 (Mon, 15 Jul 2013) | 2 lines

Checks / things: added checks for missing player starts.

------------------------------------------------------------------------
r1168 | ajapted | 2013-07-15 16:59:05 +1000 (Mon, 15 Jul 2013) | 3 lines

Checks: when highlighting error objects, use GoToSelection() to ensure
the user will see them.

------------------------------------------------------------------------
r1167 | ajapted | 2013-07-15 16:56:07 +1000 (Mon, 15 Jul 2013) | 3 lines

Checks: began work on THING checking.  So far: can count the number of
unknown things, and highlight them in the error mode.

------------------------------------------------------------------------
r1166 | ajapted | 2013-07-15 16:31:55 +1000 (Mon, 15 Jul 2013) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r1165 | ajapted | 2013-07-15 16:22:19 +1000 (Mon, 15 Jul 2013) | 2 lines

Prefs: layout tweaks.

------------------------------------------------------------------------
r1164 | ajapted | 2013-07-15 16:19:22 +1000 (Mon, 15 Jul 2013) | 2 lines

Preferences: implemented a 'Default editing mode' setting.

------------------------------------------------------------------------
r1163 | ajapted | 2013-07-15 14:22:11 +1000 (Mon, 15 Jul 2013) | 2 lines

UI_Sector and UI_LineDef: use Tags_ApplyNewValue() in tag_callback.

------------------------------------------------------------------------
r1162 | ajapted | 2013-07-15 14:19:28 +1000 (Mon, 15 Jul 2013) | 6 lines

Implemented new 'ApplyTag' key-binding command.  With the &quot;fresh&quot; param
it sets the tags on selected objects to a fresh tag (max + 1), and with
the &quot;last&quot; parameter it sets the tag to the last one (maximum).

Current bindings are META-F and META-L.

------------------------------------------------------------------------
r1161 | ajapted | 2013-07-15 14:08:52 +1000 (Mon, 15 Jul 2013) | 2 lines

Main loop: disable error_mode whenever selection becomes empty.

------------------------------------------------------------------------
r1160 | ajapted | 2013-07-15 13:35:16 +1000 (Mon, 15 Jul 2013) | 3 lines

Checks / tags: added feature to assign a fresh tag value to the current
selected linedefs or sectors.

------------------------------------------------------------------------
r1159 | ajapted | 2013-07-15 13:18:26 +1000 (Mon, 15 Jul 2013) | 3 lines

Checks: implemented &quot;TAG&quot; dialog, which for now just shows the lowest and
highest used tag numbers.

------------------------------------------------------------------------
r1158 | ajapted | 2013-07-15 13:02:04 +1000 (Mon, 15 Jul 2013) | 2 lines

TODO update.

------------------------------------------------------------------------
r1157 | ajapted | 2013-07-15 12:27:08 +1000 (Mon, 15 Jul 2013) | 3 lines

Save message : added &quot;NO NODES&quot; so the user knows that nodes have not
been built.

------------------------------------------------------------------------
r1156 | ajapted | 2013-07-15 11:58:03 +1000 (Mon, 15 Jul 2013) | 2 lines

Minor rename: edit.obj_type --&gt; edit.mode

------------------------------------------------------------------------
r1155 | ajapted | 2013-07-14 22:57:21 +1000 (Sun, 14 Jul 2013) | 3 lines

Check / vertices: implemented ability to merge overlapping vertices, or
highlight them in the error selection [that part is not complete].

------------------------------------------------------------------------
r1154 | ajapted | 2013-07-14 22:19:41 +1000 (Sun, 14 Jul 2013) | 4 lines

Checks / vertices:
1. fixed some bugs in Reset() method [one was quite nasty]
2. implemented Vertex_RemoveUnused() function

------------------------------------------------------------------------
r1153 | ajapted | 2013-07-14 22:05:20 +1000 (Sun, 14 Jul 2013) | 3 lines

Checks / vertices: implemented Vertex_FindOverlaps() and FindUnused(),
fixed AddLine() to copy the label, and tweaked a few things.

------------------------------------------------------------------------
r1152 | ajapted | 2013-07-14 21:29:21 +1000 (Sun, 14 Jul 2013) | 3 lines

Checks / vertices: worked on performing proper tests, and improved the
size and layout of the dialog window.

------------------------------------------------------------------------
r1151 | ajapted | 2013-07-14 20:32:35 +1000 (Sun, 14 Jul 2013) | 11 lines

Check:
1. use an enumeration for the result of CHECK_xxx functions

2. support CHECK_xxx functions returning a value to indicate skipping
   the rest of the checks in CHECK_All()

3. ability to Reset() the UI dialog, so checks can be re-performed on
   an existing dialog window

4. fixed not passing 'this' to the callback functions.

------------------------------------------------------------------------
r1150 | ajapted | 2013-07-14 19:57:20 +1000 (Sun, 14 Jul 2013) | 6 lines

Checks:
1. the CHECK_xxx functions now return a &quot;severity&quot; value (an int)
2. keep track of 'worst_severity' in the UI_CheckXXX classes
3. fixed logic in CHECK_All() -- it needs to keep going when one of the
   CHECK_xxx() functions returns a non-zero severity

------------------------------------------------------------------------
r1149 | ajapted | 2013-07-14 19:40:29 +1000 (Sun, 14 Jul 2013) | 3 lines

Checks: implemented an 'AddLine' method for the Vertex dialog, which
supports upto three buttons for actions to take.

------------------------------------------------------------------------
r1148 | ajapted | 2013-07-14 19:03:33 +1000 (Sun, 14 Jul 2013) | 2 lines

Check Menu: fixed shortcuts.

------------------------------------------------------------------------
r1147 | ajapted | 2013-07-14 18:57:38 +1000 (Sun, 14 Jul 2013) | 4 lines

Checks:
1. added a bare-bones UI_CheckVertices dialog class
2. removed some obsolete code

------------------------------------------------------------------------
r1146 | ajapted | 2013-07-14 18:55:03 +1000 (Sun, 14 Jul 2013) | 3 lines

Preferences: fixed potential problem with UI_EditKey and the close button
of the window manager.

------------------------------------------------------------------------
r1145 | ajapted | 2013-07-14 18:20:19 +1000 (Sun, 14 Jul 2013) | 6 lines

Began work on map-checking functions.  Firstly have a 'Check' menu with
various choices (like &quot;Vertices&quot;, &quot;Sectors&quot;, etc).  These are routed
through a new 'CheckMap' binding command whose first parameter is the
area to check.  Some special keywords are &quot;current&quot; for the current
enditing mode, and &quot;all&quot; to check all the major stuff.

------------------------------------------------------------------------
r1144 | ajapted | 2013-07-14 18:10:59 +1000 (Sun, 14 Jul 2013) | 2 lines

TODO update.

------------------------------------------------------------------------
r1143 | ajapted | 2013-07-14 15:20:28 +1000 (Sun, 14 Jul 2013) | 3 lines

VM: disabled the testing stuff in main.cc -- all the scripting stuff is
very much on the back-burner now....

------------------------------------------------------------------------
r1142 | ajapted | 2013-07-14 15:15:08 +1000 (Sun, 14 Jul 2013) | 4 lines

The ';' key waits for the next key, and makes it META (as if it had
been pressed with the META modifier key).  This could be handy on
computers with limited keyboards -- especially laptops.

------------------------------------------------------------------------
r1141 | ajapted | 2013-07-14 14:42:43 +1000 (Sun, 14 Jul 2013) | 2 lines

Prefs: tweak.

------------------------------------------------------------------------
r1140 | ajapted | 2013-07-14 14:36:15 +1000 (Sun, 14 Jul 2013) | 4 lines

Config file:
1. handle empty strings, write and parse as '' (two single quotes)
2. moved the glbsp_xxx entries down

------------------------------------------------------------------------
r1139 | ajapted | 2013-07-14 14:23:06 +1000 (Sun, 14 Jul 2013) | 2 lines

Game defs: removed obsolete 'default_port' command.

------------------------------------------------------------------------
r1138 | ajapted | 2013-07-14 14:11:07 +1000 (Sun, 14 Jul 2013) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r1137 | ajapted | 2013-07-14 14:07:40 +1000 (Sun, 14 Jul 2013) | 6 lines

Preferences: added 'Default Port' setting to the Editing tab.

This affects general startup too, as previously the default port was a
game definition setting.  Hence added DeterminePort() whose main job
is to ensure the default_port value is valid [and reset it if not].

------------------------------------------------------------------------
r1136 | ajapted | 2013-07-14 14:03:11 +1000 (Sun, 14 Jul 2013) | 2 lines

Game (UGH) parser: disabled the 'default_port' command.

------------------------------------------------------------------------
r1135 | ajapted | 2013-07-14 13:24:22 +1000 (Sun, 14 Jul 2013) | 3 lines

the X11 UI_Window::Maximize() implementation now does a short delay, to
allow the X message to get to the X server and back.

------------------------------------------------------------------------
r1134 | ajapted | 2013-07-14 13:11:41 +1000 (Sun, 14 Jul 2013) | 2 lines

Utils: added TimeDelay() function.

------------------------------------------------------------------------
r1133 | ajapted | 2013-07-14 13:03:49 +1000 (Sun, 14 Jul 2013) | 3 lines

Made patch image loading fail more gracefully: a bad offset now prints a
warning to the log file instead of inducing a fatal error.

------------------------------------------------------------------------
r1132 | ajapted | 2013-07-11 19:08:38 +1000 (Thu, 11 Jul 2013) | 2 lines

Version bump.

------------------------------------------------------------------------
r1131 | ajapted | 2013-07-11 18:58:15 +1000 (Thu, 11 Jul 2013) | 3 lines

Key bindings: shifted 'N' and 'P' keys now have the FlipMap function,
and moved the GivenFile functions to META-N and META-P.

------------------------------------------------------------------------
r1130 | ajapted | 2013-07-11 18:55:30 +1000 (Thu, 11 Jul 2013) | 4 lines

Implemented new binding command 'FlipMap' which loads another map in the
current wad.  The first param must be &quot;next&quot;, &quot;prev&quot;, &quot;first&quot; or &quot;last&quot;.
Very useful for browsing through a pwad with multiple maps.

------------------------------------------------------------------------
r1129 | ajapted | 2013-07-11 18:43:32 +1000 (Thu, 11 Jul 2013) | 3 lines

Wad code: added FindLevel_Raw() method which returns a level index
instead of a _lump_ index.

------------------------------------------------------------------------
r1128 | ajapted | 2013-07-05 21:34:57 +1000 (Fri, 05 Jul 2013) | 2 lines

TODO update.

------------------------------------------------------------------------
r1127 | ajapted | 2013-07-05 20:28:47 +1000 (Fri, 05 Jul 2013) | 2 lines

Removed obsolete GRID_XXX color defines.

------------------------------------------------------------------------
r1126 | ajapted | 2013-07-05 20:13:27 +1000 (Fri, 05 Jul 2013) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r1125 | ajapted | 2013-07-05 20:11:11 +1000 (Fri, 05 Jul 2013) | 2 lines

Grid: implemented preference colors for the Normal grid.

------------------------------------------------------------------------
r1124 | ajapted | 2013-07-05 19:03:30 +1000 (Fri, 05 Jul 2013) | 4 lines

Grid:
1. added preference settings for the Dotty grid colors
2. slightly better rendering of the Dotty grid

------------------------------------------------------------------------
r1123 | ajapted | 2013-07-05 16:33:33 +1000 (Fri, 05 Jul 2013) | 5 lines

Grid:
1. implemented option to limit grid toggle to a single kind
2. added option to hide grid in FREE mode, show it in SNAP mode
3. nomenclature: old grid is called &quot;dotty&quot;, new grid &quot;normal&quot;

------------------------------------------------------------------------
r1122 | ajapted | 2013-07-05 16:28:36 +1000 (Fri, 05 Jul 2013) | 2 lines

UI_Canvas: split DrawGrid() into two separate methods.

------------------------------------------------------------------------
r1121 | ajapted | 2013-07-04 20:19:47 +1000 (Thu, 04 Jul 2013) | 2 lines

Preferences: a few more tweaks

------------------------------------------------------------------------
r1120 | ajapted | 2013-07-04 18:24:04 +1000 (Thu, 04 Jul 2013) | 4 lines

Preferences:
1. added a 'Mouse' tab, nothing in it yet
2. renamed 'glBSP' tab --&gt; 'Other', ready for some other stuff

------------------------------------------------------------------------
r1119 | ajapted | 2013-07-04 16:54:11 +1000 (Thu, 04 Jul 2013) | 4 lines

Fixed recent bug with mousewheel zooming -- Editor_RawWheel() was not
returning 1 and hence FLTK was sending the mousewheel event to the
scrollbars which used it to scroll.

------------------------------------------------------------------------
r1118 | ajapted | 2013-07-04 16:28:06 +1000 (Thu, 04 Jul 2013) | 2 lines

CHANGELOG rejigged.

------------------------------------------------------------------------
r1117 | ajapted | 2013-07-04 14:45:46 +1000 (Thu, 04 Jul 2013) | 2 lines

Implemented new preference setting : maximize the window on start.

------------------------------------------------------------------------
r1116 | ajapted | 2013-07-04 14:36:43 +1000 (Thu, 04 Jul 2013) | 5 lines

UI_Window: added Maximize() method, using OS-native code since FLTK does
not provide the required functionality.  Only implemented for Win32 and
Linux/X11 : the OSX implemented is commented out since it requires some
Objective-C logic.

------------------------------------------------------------------------
r1115 | ajapted | 2013-07-01 15:49:13 +1000 (Mon, 01 Jul 2013) | 2 lines

event handling tweaks.

------------------------------------------------------------------------
r1114 | ajapted | 2013-07-01 13:11:44 +1000 (Mon, 01 Jul 2013) | 6 lines

Moved the mouse button and movement logic out of UI_Canvas class and
into Editor_RawButton() and Editor_RawMouse() functions.

This fixes the hack in UI_Render3D class [calling the handle method of
UI_Canvas, even though the widget was hidden].

------------------------------------------------------------------------
r1113 | ajapted | 2013-07-01 12:55:11 +1000 (Mon, 01 Jul 2013) | 2 lines

Minor refactoring of event handling in UI_Canvas class.

------------------------------------------------------------------------
r1112 | ajapted | 2013-07-01 11:59:37 +1000 (Mon, 01 Jul 2013) | 2 lines

Keys: added 'FL_Wheel' : pseudo key value for the mouse wheel.

------------------------------------------------------------------------
r1111 | ajapted | 2013-07-01 11:41:14 +1000 (Mon, 01 Jul 2013) | 2 lines

Moved handling of mouse wheel events to Editor_RawWheel() function.

------------------------------------------------------------------------
r1110 | ajapted | 2013-07-01 11:23:40 +1000 (Mon, 01 Jul 2013) | 2 lines

Key bindings: support 4 parameters to a binding (limit was 2 before).

------------------------------------------------------------------------
r1109 | ajapted | 2013-07-01 11:12:24 +1000 (Mon, 01 Jul 2013) | 2 lines

handle the FL_KEYUP event in Editor_RawKey().

------------------------------------------------------------------------
r1108 | ajapted | 2013-06-30 17:16:34 +1000 (Sun, 30 Jun 2013) | 3 lines

Moved the raw keyboard event handling out of UI_Canvas class, instead
have a global function: Editor_RawKey().

------------------------------------------------------------------------
r1107 | ajapted | 2013-06-30 16:47:14 +1000 (Sun, 30 Jun 2013) | 2 lines

VM: tweak

------------------------------------------------------------------------
r1106 | ajapted | 2013-06-30 16:39:56 +1000 (Sun, 30 Jun 2013) | 2 lines

Renamed directory: up_scripts --&gt; ups

------------------------------------------------------------------------
r1105 | ajapted | 2013-06-30 16:38:40 +1000 (Sun, 30 Jun 2013) | 3 lines

Updated installation makefiles (etc) to create 'ups' folder and to
install the 'core_defs.lua' file.

------------------------------------------------------------------------
r1104 | ajapted | 2013-06-30 16:31:54 +1000 (Sun, 30 Jun 2013) | 3 lines

VM: added file 'core_defs.up' -- will define all the builtins and any
other needed stuff.

------------------------------------------------------------------------
r1103 | ajapted | 2013-06-30 15:44:13 +1000 (Sun, 30 Jun 2013) | 2 lines

Added top-level directory: 'up_scripts'

------------------------------------------------------------------------
r1102 | ajapted | 2013-06-30 13:41:42 +1000 (Sun, 30 Jun 2013) | 2 lines

TODO update (did some things, added some things).

------------------------------------------------------------------------
r1101 | ajapted | 2013-06-30 13:40:29 +1000 (Sun, 30 Jun 2013) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r1100 | ajapted | 2013-06-30 13:39:18 +1000 (Sun, 30 Jun 2013) | 5 lines

Config: added 'render_missing_bright' and 'render_unknown_bright' vars,
and handle them in the rendering code.

Note: not present in the Preferences dialog (yet).

------------------------------------------------------------------------
r1099 | ajapted | 2013-06-30 13:29:42 +1000 (Sun, 30 Jun 2013) | 2 lines

3D preview: implemented missing textures (an '!' on an orange background).

------------------------------------------------------------------------
r1098 | ajapted | 2013-06-30 13:23:41 +1000 (Sun, 30 Jun 2013) | 3 lines

3D preview: show missing textures as fullbright, so they stand out in
dark rooms.

------------------------------------------------------------------------
r1097 | ajapted | 2013-06-30 12:58:35 +1000 (Sun, 30 Jun 2013) | 2 lines

3d preview: tweaked untextured color choice.

------------------------------------------------------------------------
r1096 | ajapted | 2013-06-30 12:57:38 +1000 (Sun, 30 Jun 2013) | 2 lines

Game defs / DOOM (etc) : updated color definitions.

------------------------------------------------------------------------
r1095 | ajapted | 2013-06-30 12:56:46 +1000 (Sun, 30 Jun 2013) | 3 lines

Auto-load recent map: don't do it when -iwad or -warp has been used on
the command line.

------------------------------------------------------------------------
r1094 | ajapted | 2013-06-30 12:31:47 +1000 (Sun, 30 Jun 2013) | 2 lines

Game defs / HERETIC: updated with color definitions ('wall', 'missing' etc).

------------------------------------------------------------------------
r1093 | ajapted | 2013-06-30 12:25:19 +1000 (Sun, 30 Jun 2013) | 3 lines

3D preview: use the game-specified wall and floor colors, rather than
the hard-coded values which were DOOM specific.

------------------------------------------------------------------------
r1092 | ajapted | 2013-06-30 12:23:01 +1000 (Sun, 30 Jun 2013) | 2 lines

Game def parser: support 'wall' and 'floor' color definitions.

------------------------------------------------------------------------
r1091 | ajapted | 2013-06-30 12:00:25 +1000 (Sun, 30 Jun 2013) | 4 lines

Game def parser: implemented new 'color' command which takes a keyword
and one or two numbers (palette indices).  The following keywords are
currently supported: 'sky', 'missing', 'unknown_tex', 'unknown_flat'.

------------------------------------------------------------------------
r1090 | ajapted | 2013-06-29 22:19:26 +1000 (Sat, 29 Jun 2013) | 3 lines

1. moved g_sky_color and g_sky_flat into a new 'game_info' structure
2. moved is_sky() function from levels.cc --&gt; m_game.cc

------------------------------------------------------------------------
r1089 | ajapted | 2013-06-29 22:10:44 +1000 (Sat, 29 Jun 2013) | 3 lines

GAME DEFS: added common/doom_colors.ugh : color defs for games using
the DOOM palette.

------------------------------------------------------------------------
r1088 | ajapted | 2013-06-29 22:03:59 +1000 (Sat, 29 Jun 2013) | 3 lines

3D Preview: implemented displaying a dummy texture for unknown flats or
textures (a different one for flats vs textures).

------------------------------------------------------------------------
r1087 | ajapted | 2013-06-29 21:28:57 +1000 (Sat, 29 Jun 2013) | 3 lines

Img code: added functions to create dummy textures for the 3D renderer,
one for missing (HOM) textures and one for unknown textures.

------------------------------------------------------------------------
r1086 | ajapted | 2013-06-29 21:14:25 +1000 (Sat, 29 Jun 2013) | 2 lines

Img class: turned 'scale_img()' into a method, plus various tidying.

------------------------------------------------------------------------
r1085 | ajapted | 2013-06-29 20:38:51 +1000 (Sat, 29 Jun 2013) | 2 lines

Fixed thing images in the browser to have a black background.

------------------------------------------------------------------------
r1084 | ajapted | 2013-06-29 20:28:42 +1000 (Sat, 29 Jun 2013) | 3 lines

LineDef panel: don't show an upper texture as missing if sky ceilings
exist on both sides.

------------------------------------------------------------------------
r1083 | ajapted | 2013-06-29 20:18:27 +1000 (Sat, 29 Jun 2013) | 3 lines

LineDef panel: implemented showing missing textures, for uppers and lowers
this involves checking for a floor / ceiling difference.

------------------------------------------------------------------------
r1082 | ajapted | 2013-06-29 20:02:08 +1000 (Sat, 29 Jun 2013) | 4 lines

UI_Pic : implemented ability to show &quot;unknown&quot; and &quot;missing&quot; textures,
the former as a large '?' on a cyan background, the latter as '!' on an
orange background.

------------------------------------------------------------------------
r1081 | ajapted | 2013-06-28 21:18:31 +1000 (Fri, 28 Jun 2013) | 3 lines

UI: in sidedef panels, show low-contrast &quot;Lower&quot;, &quot;Mid&quot; and &quot;Upper&quot; for
unset textures.  Similarly for pics in sector and thing panels.

------------------------------------------------------------------------
r1080 | ajapted | 2013-06-28 19:51:32 +1000 (Fri, 28 Jun 2013) | 2 lines

TODO update.

------------------------------------------------------------------------
r1079 | ajapted | 2013-06-28 19:35:54 +1000 (Fri, 28 Jun 2013) | 4 lines

Scroll-bars: improved logic for adjusting the scroll bars after the
canvas position has moved, having grid.MoveTo() and grid.Scroll()
methods instead of directly modifying grid.orig_x/_y

------------------------------------------------------------------------
r1078 | ajapted | 2013-06-28 12:11:35 +1000 (Fri, 28 Jun 2013) | 4 lines

Scroll-bars: implemented callbacks, i.e. dragging the knobs actually
scrolls the map (and in turn, moves the knobs).  Hence the scroll-bar
feature is mostly complete now.

------------------------------------------------------------------------
r1077 | ajapted | 2013-06-28 11:46:10 +1000 (Fri, 28 Jun 2013) | 3 lines

Scroll-bars: implemented logic to compute the position/size of each bar
based on the map bounds and the current view position and zoom level.

------------------------------------------------------------------------
r1076 | ajapted | 2013-06-27 22:46:27 +1000 (Thu, 27 Jun 2013) | 1 line

CHANGELOG update
------------------------------------------------------------------------
r1075 | ajapted | 2013-06-27 22:45:07 +1000 (Thu, 27 Jun 2013) | 2 lines

Minor coding rename: MapBound_[lh][xy] --&gt; Map_bound_[xy][12]

------------------------------------------------------------------------
r1074 | ajapted | 2013-06-27 22:20:00 +1000 (Thu, 27 Jun 2013) | 3 lines

Scroll-bars: implemented ability to hide/show the bars based on the
user's preference setting.

------------------------------------------------------------------------
r1073 | ajapted | 2013-06-27 21:46:18 +1000 (Thu, 27 Jun 2013) | 3 lines

Config: added 'map_scroll_bars' variable which will be used to enable or
disable the scroll-bars for the map view.

------------------------------------------------------------------------
r1072 | ajapted | 2013-06-27 17:14:55 +1000 (Thu, 27 Jun 2013) | 2 lines

Updated AUTHORS.txt to match website (Jason's contribution).

------------------------------------------------------------------------
r1071 | ajapted | 2013-06-27 17:10:53 +1000 (Thu, 27 Jun 2013) | 3 lines

Reworked the About dialog to show the new logo, and have a fallback just
in case we cannot open the file, plus tweaked the text.

------------------------------------------------------------------------
r1070 | ajapted | 2013-06-27 17:09:11 +1000 (Thu, 27 Jun 2013) | 2 lines

Added 'about_logo.png' -- cropped and scaled from Jason's original.

------------------------------------------------------------------------
r1069 | ajapted | 2013-06-27 16:27:58 +1000 (Thu, 27 Jun 2013) | 2 lines

Checked in Jason R Johnston's logo image, and removed the old cruddy one.

------------------------------------------------------------------------
r1068 | ajapted | 2013-06-26 22:17:47 +1000 (Wed, 26 Jun 2013) | 3 lines

More work on having a proper widget for the 3D preview.  It seems to
be working now, albeit with some ugly hacks.

------------------------------------------------------------------------
r1067 | ajapted | 2013-06-26 19:35:35 +1000 (Wed, 26 Jun 2013) | 4 lines

Created a UI_Render3D class for the 3D preview.  The idea is to show
this widget (and hide the canvas/sbars) when 3D mode is active, and do
the reverse when not active -- but keyboard handling is now fubar....

------------------------------------------------------------------------
r1066 | ajapted | 2013-06-26 16:51:36 +1000 (Wed, 26 Jun 2013) | 4 lines

Moved the 'render3d' field out of UI_Canvas and into Editor_State_t,
since the canvas is no longer responsible for drawing the 3D preview
(the new UI_CanvasScroll wrapper is).

------------------------------------------------------------------------
r1065 | ajapted | 2013-06-26 16:27:21 +1000 (Wed, 26 Jun 2013) | 3 lines

Initial work on scrollbars for the map view.  This commit merely creates
a container for the canvas + scrollbars : UI_CanvasScroll.

------------------------------------------------------------------------
r1064 | ajapted | 2013-06-26 14:17:56 +1000 (Wed, 26 Jun 2013) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r1063 | ajapted | 2013-06-26 14:02:15 +1000 (Wed, 26 Jun 2013) | 6 lines

Improved handling of bad references when loading a level:

If a linedef has a bad vertex, it is removed.  Bad sector or sidedef
references are replaced with something valid.  Details are written to
the log file, and a dialog is shown to the user when these happen.

------------------------------------------------------------------------
r1062 | ajapted | 2013-06-25 22:45:26 +1000 (Tue, 25 Jun 2013) | 2 lines

Created a definition file for the XDoom source port (by Udo Monk).

------------------------------------------------------------------------
r1061 | ajapted | 2013-06-24 23:47:02 +1000 (Mon, 24 Jun 2013) | 3 lines

Fixed splitting void islands : it was adding a sector in _both_ sides,
but we only want one in a single side (the smallest).

------------------------------------------------------------------------
r1060 | ajapted | 2013-06-24 23:39:39 +1000 (Mon, 24 Jun 2013) | 4 lines

Lineloop class:
1. added a Dump() method to aid debugging
2. fixed silly bug in TotalLength() method

------------------------------------------------------------------------
r1059 | ajapted | 2013-06-24 22:26:42 +1000 (Mon, 24 Jun 2013) | 3 lines

Basis: fixed assertion checks in BA_ChangeTH() and BA_ChangeLD() to
handle the new HEXEN fields.

------------------------------------------------------------------------
r1058 | ajapted | 2013-06-24 15:59:01 +1000 (Mon, 24 Jun 2013) | 4 lines

Minor code tidying:
1. removed unused levelname2xxx() functions
2. removed unused yg_level_name variable

------------------------------------------------------------------------
r1057 | ajapted | 2013-06-23 14:24:06 +1000 (Sun, 23 Jun 2013) | 2 lines

CHANGELOG and TODO update.

------------------------------------------------------------------------
r1056 | ajapted | 2013-06-23 14:21:03 +1000 (Sun, 23 Jun 2013) | 2 lines

Support Eureka config (.ugh) files as resource files.

------------------------------------------------------------------------
r1055 | ajapted | 2013-06-23 13:38:00 +1000 (Sun, 23 Jun 2013) | 4 lines

Minor code refactoring:
1. use &quot;M_&quot; prefix on some m_game.cc functions
2. have a LoadResourceFile() function in main.cc

------------------------------------------------------------------------
r1054 | ajapted | 2013-06-23 12:07:40 +1000 (Sun, 23 Jun 2013) | 2 lines

Added 'Level_format' global variable.

------------------------------------------------------------------------
r1053 | ajapted | 2013-06-23 12:02:43 +1000 (Sun, 23 Jun 2013) | 4 lines

Hexen:
1. have proper F_ARG1..5 keywords for the argument fields
2. updated the CopyProperties command to copy the Hexen fields

------------------------------------------------------------------------
r1052 | ajapted | 2013-06-23 11:49:44 +1000 (Sun, 23 Jun 2013) | 3 lines

Basis: expanded Thing and LineDef structures with HEXEN fields.
(Note: not actually used anywhere yet).

------------------------------------------------------------------------
r1051 | ajapted | 2013-06-23 11:33:22 +1000 (Sun, 23 Jun 2013) | 2 lines

README: added the new 'N' / 'P' keys : next file / prev file.

------------------------------------------------------------------------
r1050 | ajapted | 2013-06-23 11:29:02 +1000 (Sun, 23 Jun 2013) | 3 lines

Implemented SEC_Light() binding command for adjusting sector lighting.
It takes a delta parameter as per the SEC_Floor() command.

------------------------------------------------------------------------
r1049 | ajapted | 2013-06-22 23:40:29 +1000 (Sat, 22 Jun 2013) | 2 lines

CHANGELOG and TODO update.

------------------------------------------------------------------------
r1048 | ajapted | 2013-06-22 23:37:51 +1000 (Sat, 22 Jun 2013) | 4 lines

Browser:
1. remember the &quot;off mode&quot; properly in user state
2. persist the browser width in the user state

------------------------------------------------------------------------
r1047 | ajapted | 2013-06-22 23:00:44 +1000 (Sat, 22 Jun 2013) | 4 lines

VM: partial work on ability to read/write the members of a set.
There are two new instructions, OP_SET_READ and OP_SET_WRITE, which
are generated but their execution is not implemented yet.

------------------------------------------------------------------------
r1046 | ajapted | 2013-06-22 16:31:55 +1000 (Sat, 22 Jun 2013) | 4 lines

VM:
1. fixed bug when pushing vector literals onto the stack
2. support assigning 'nil' values to any kind of variable

------------------------------------------------------------------------
r1045 | ajapted | 2013-06-22 16:04:02 +1000 (Sat, 22 Jun 2013) | 2 lines

VM: updated VIM syntax file for new types.

------------------------------------------------------------------------
r1044 | ajapted | 2013-06-22 15:58:44 +1000 (Sat, 22 Jun 2013) | 7 lines

VM: added the following new types: linedef, sidedef, sector, thing and
vertex, plus also set[xxx] where xxx is linedef (etc).  So far there
is nothing which can be done with any of these types.

Also support a &quot;nil&quot; keyword with its own ev_nil type.  It cannot be
used anywhere yet.

------------------------------------------------------------------------
r1043 | ajapted | 2013-06-22 15:22:46 +1000 (Sat, 22 Jun 2013) | 2 lines

VM: removed type_size[] array.

------------------------------------------------------------------------
r1042 | ajapted | 2013-06-22 13:40:38 +1000 (Sat, 22 Jun 2013) | 2 lines

Fixed remembering 3D mode (actually the lack of it) for a map.

------------------------------------------------------------------------
r1041 | ajapted | 2013-06-22 13:33:33 +1000 (Sat, 22 Jun 2013) | 2 lines

Removed some unused code : word_splitting()

------------------------------------------------------------------------
r1040 | ajapted | 2013-06-22 13:19:26 +1000 (Sat, 22 Jun 2013) | 2 lines

Moved code around: put Beep() function into m_keys.cc

------------------------------------------------------------------------
r1039 | ajapted | 2013-06-22 13:10:10 +1000 (Sat, 22 Jun 2013) | 3 lines

Fixed the key binding dialog: unable to remove a parameter (when the
binding already had a parameter).

------------------------------------------------------------------------
r1038 | ajapted | 2013-06-22 11:30:14 +1000 (Sat, 22 Jun 2013) | 8 lines

1. when registering binding commands, determine the context automatically
   from the name e.g. &quot;LIN_xxxx&quot; will be KCTX_Line.

2. support finding a binding command as a script function (in the VM),
   and execute that script function when the command is executed.  This
   is bare-bones at the moment, numerous things (error handling, passing
   parameters) are NOT done yet.

------------------------------------------------------------------------
r1037 | ajapted | 2013-06-21 22:36:31 +1000 (Fri, 21 Jun 2013) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r1036 | ajapted | 2013-06-18 19:36:30 +1000 (Tue, 18 Jun 2013) | 2 lines

VM: removed more field-related stuff.

------------------------------------------------------------------------
r1035 | ajapted | 2013-06-18 19:18:08 +1000 (Tue, 18 Jun 2013) | 4 lines

VM / compiler: tidied up code to parse global definitions.

Also removed code to parse &quot;fields&quot; (won't be needed here).

------------------------------------------------------------------------
r1034 | ajapted | 2013-06-18 18:51:19 +1000 (Tue, 18 Jun 2013) | 2 lines

VM: ensure local string variables get a valid default (the empty string).

------------------------------------------------------------------------
r1033 | ajapted | 2013-06-18 18:48:46 +1000 (Tue, 18 Jun 2013) | 2 lines

VM: ensure global variables of type 'string' get a valid default.

------------------------------------------------------------------------
r1032 | ajapted | 2013-06-18 18:37:01 +1000 (Tue, 18 Jun 2013) | 3 lines

VM: replaced 's_file' field of dfunction_t with a normal string ptr,
replaced usages of 's_name' field, and removed mpr.strings[] table.

------------------------------------------------------------------------
r1031 | ajapted | 2013-06-18 18:26:13 +1000 (Tue, 18 Jun 2013) | 4 lines

VM: changed OP_LITERAL instruction to store the kval_t value in the
following instruction slot.  This is a bit cleaner than the previous
way of storing the value inside the dstatement_t.

------------------------------------------------------------------------
r1030 | ajapted | 2013-06-18 15:55:03 +1000 (Tue, 18 Jun 2013) | 3 lines

VM: changed representation of _string in kval_t, esp. on the stack, to
use a pointer to object_ref_c instead of an offset into mpr.strings[].

------------------------------------------------------------------------
r1029 | ajapted | 2013-06-18 15:25:04 +1000 (Tue, 18 Jun 2013) | 2 lines

Makefiles: added vm_object.o to the build.

------------------------------------------------------------------------
r1028 | ajapted | 2013-06-18 15:24:24 +1000 (Tue, 18 Jun 2013) | 2 lines

VM / lex: removed lex_eval_t union -- for simpler code.

------------------------------------------------------------------------
r1027 | ajapted | 2013-06-18 15:21:23 +1000 (Tue, 18 Jun 2013) | 2 lines

VM / objects: added MakePermanent() method, will be needed for string literals.

------------------------------------------------------------------------
r1026 | ajapted | 2013-06-18 14:07:39 +1000 (Tue, 18 Jun 2013) | 3 lines

VM / objects: fleshed out remaining methods, e.g. NewSelection(), and
fixed various compiling issues.

------------------------------------------------------------------------
r1025 | ajapted | 2013-06-18 13:47:32 +1000 (Tue, 18 Jun 2013) | 2 lines

VM / objects: description of the memory model.

------------------------------------------------------------------------
r1024 | ajapted | 2013-06-18 13:33:42 +1000 (Tue, 18 Jun 2013) | 4 lines

VM: began work on some simple object management code for the VM.
The objects so far are (1) strings and (2) selections for each map
kind of map element.  Other objects may be added later.

------------------------------------------------------------------------
r1023 | ajapted | 2013-06-17 13:57:40 +1000 (Mon, 17 Jun 2013) | 2 lines

VM: added grammar description, using EBNF notation.

------------------------------------------------------------------------
r1022 | ajapted | 2013-06-17 13:49:17 +1000 (Mon, 17 Jun 2013) | 2 lines

VM: made all semicolons optional.

------------------------------------------------------------------------
r1021 | ajapted | 2013-06-16 23:46:45 +1000 (Sun, 16 Jun 2013) | 4 lines

VM:
1. removed redundant check on &quot;float&quot; in ParseType().
2. removed &quot;void&quot; as a usable type.

------------------------------------------------------------------------
r1020 | ajapted | 2013-06-16 20:41:07 +1000 (Sun, 16 Jun 2013) | 4 lines

VM:
1. renamed 'extern' keyword --&gt; 'builtin'
2. renamed 'va' function --&gt; 'format'

------------------------------------------------------------------------
r1019 | ajapted | 2013-06-16 20:27:58 +1000 (Sun, 16 Jun 2013) | 3 lines

Detect HEXEN format maps, and prevent trying to load them -- instead we
show an error message, which is better than crashing out.

------------------------------------------------------------------------
r1018 | ajapted | 2013-06-16 19:15:31 +1000 (Sun, 16 Jun 2013) | 3 lines

VM: fixed precedence of the '?:' ternary operator, which needs to be
higher than assignment.

------------------------------------------------------------------------
r1017 | ajapted | 2013-06-16 19:01:24 +1000 (Sun, 16 Jun 2013) | 2 lines

Minor rename: 'ResourceWads' --&gt; 'Resource_list'

------------------------------------------------------------------------
r1016 | ajapted | 2013-06-16 18:35:32 +1000 (Sun, 16 Jun 2013) | 2 lines

Preferences: added button for 'auto_load_recent' config var.

------------------------------------------------------------------------
r1015 | ajapted | 2013-06-16 18:22:33 +1000 (Sun, 16 Jun 2013) | 3 lines

Preferences: added a new 'Grid' tab, and moved the griddy stuff there,
though I expect to add more griddy stuff too (soon).

------------------------------------------------------------------------
r1014 | ajapted | 2013-06-16 16:26:32 +1000 (Sun, 16 Jun 2013) | 3 lines

Implemented opening the most recently saved pwad on startup -- but only
when Eureka is started without any pwad filenames.

------------------------------------------------------------------------
r1013 | ajapted | 2013-06-16 16:01:14 +1000 (Sun, 16 Jun 2013) | 2 lines

Moved code around in m_files.cc

------------------------------------------------------------------------
r1012 | ajapted | 2013-06-16 15:51:11 +1000 (Sun, 16 Jun 2013) | 2 lines

Support DOOMWADPATH for finding IWAD files.

------------------------------------------------------------------------
r1011 | ajapted | 2013-06-16 15:01:57 +1000 (Sun, 16 Jun 2013) | 2 lines

TODO update.

------------------------------------------------------------------------
r1010 | ajapted | 2013-06-16 14:59:16 +1000 (Sun, 16 Jun 2013) | 2 lines

Use Wad_file::Validate() instead of FileExists() where appropriate.

------------------------------------------------------------------------
r1009 | ajapted | 2013-06-16 14:43:26 +1000 (Sun, 16 Jun 2013) | 2 lines

Validate all given pwad files (make sure they exist, etc).

------------------------------------------------------------------------
r1008 | ajapted | 2013-06-16 14:40:42 +1000 (Sun, 16 Jun 2013) | 3 lines

Wad code: added Validate() static method to check if a wad exists and is
indeed a WAD file.

------------------------------------------------------------------------
r1007 | ajapted | 2013-06-16 13:58:10 +1000 (Sun, 16 Jun 2013) | 3 lines

Fixed CMD_OpenFileMap() to confirm with user when the current map has
been modified.

------------------------------------------------------------------------
r1006 | ajapted | 2013-06-16 13:54:32 +1000 (Sun, 16 Jun 2013) | 3 lines

Allow any number of given pwad files (in Pwad_list), only limit them when
creating the 'Given Files' menu.

------------------------------------------------------------------------
r1005 | ajapted | 2013-06-16 13:45:44 +1000 (Sun, 16 Jun 2013) | 9 lines

Implemented &quot;GivenFile&quot; command which supports loading the next / previous
file in the given files list, with default bindings on 'N' and 'P' keys.
This makes it easy to step through a large group of wads.

The command also supports &quot;first&quot; and &quot;last&quot; keywords, but these are not
bound to any keys by default.

Also moved binding of PRUNE command from 'P' --&gt; 'p' key.

------------------------------------------------------------------------
r1004 | ajapted | 2013-06-16 11:49:30 +1000 (Sun, 16 Jun 2013) | 2 lines

Tidied up the latest 'Recent Files' handling code.

------------------------------------------------------------------------
r1003 | ajapted | 2013-06-16 11:35:29 +1000 (Sun, 16 Jun 2013) | 2 lines

Dead code removal : CMD_OpenRecentMap() and UI_RecentFiles dialog.

------------------------------------------------------------------------
r1002 | ajapted | 2013-06-14 21:53:11 +1000 (Fri, 14 Jun 2013) | 3 lines

More work on new 'File/Recent Files' sub-menu, which is working now,
though the code needs some tidying up...

------------------------------------------------------------------------
r1001 | ajapted | 2013-06-14 21:02:25 +1000 (Fri, 14 Jun 2013) | 7 lines

Partial work changing 'File/Recent Files' into a sub-menu which is
populated at startup with the recent file list.  This commit has the
code to populate the sub-menu.

Also: disable (gray out) the 'Given Files' sub-menu when there is
not multiple specified filenames.

------------------------------------------------------------------------
r1000 | ajapted | 2013-06-14 19:38:26 +1000 (Fri, 14 Jun 2013) | 3 lines

Made -file option accept multiple filenames, adding them to Pwad_list
as per loose filenames.

------------------------------------------------------------------------
r999 | ajapted | 2013-06-14 18:45:37 +1000 (Fri, 14 Jun 2013) | 3 lines

Makefile.xming : removed -lshfolder from linkage [was only there to
test a binary under Windows 95].

------------------------------------------------------------------------
r998 | ajapted | 2013-06-14 16:52:30 +1000 (Fri, 14 Jun 2013) | 3 lines

Implemented a 'Given Files' sub-menu of the File menu, which is populated
when Eureka is run with a list of wad files.

------------------------------------------------------------------------
r997 | ajapted | 2013-06-14 15:23:58 +1000 (Fri, 14 Jun 2013) | 2 lines

VM: checked in a Vim syntax file for the scripting language.

------------------------------------------------------------------------
r996 | ajapted | 2013-06-14 15:23:01 +1000 (Fri, 14 Jun 2013) | 2 lines

Makefiles: added VM code files to the build.

------------------------------------------------------------------------
r995 | ajapted | 2013-06-10 23:52:39 +1000 (Mon, 10 Jun 2013) | 2 lines

VM: added missing code to resolve builtin functions.

------------------------------------------------------------------------
r994 | ajapted | 2013-06-10 23:40:45 +1000 (Mon, 10 Jun 2013) | 3 lines

VM: worked on implementing the API functions, e.g. VM_CompileFile() and
VM_Call(), and wrote some test code for loading / running a script.

------------------------------------------------------------------------
r993 | ajapted | 2013-06-10 22:00:38 +1000 (Mon, 10 Jun 2013) | 3 lines

VM: more work integrating this code, it compiles now, but is still far
away from being able to actually do anything....

------------------------------------------------------------------------
r992 | ajapted | 2013-06-10 19:21:52 +1000 (Mon, 10 Jun 2013) | 2 lines

VM: various work to integrate the VM code into its new environment...

------------------------------------------------------------------------
r991 | ajapted | 2013-06-10 18:10:20 +1000 (Mon, 10 Jun 2013) | 4 lines

Began work on a scripting system.  This commit contains code for a VM
which I have been developing for a while now.  It was originally based
on the QCC compiler and execution engine from Quake, by Id Software.

------------------------------------------------------------------------
r990 | ajapted | 2013-06-10 16:56:48 +1000 (Mon, 10 Jun 2013) | 5 lines

Removed the unfinished support for Radius Triggers (RTS), which is a
feature of the EDGE source port.  It would've required a lot more code
to finish the RTS mode, not only parsing and re-creating the RSCRIPT
lump, but also the ability to edit the scripts.

------------------------------------------------------------------------
r989 | ajapted | 2013-06-10 16:39:36 +1000 (Mon, 10 Jun 2013) | 1 line

Version bump

------------------------------------------------------------------------
r988 | ajapted | 2013-06-10 15:27:13 +1000 (Mon, 10 Jun 2013) | 3 lines

Changed PASTE behavior : place objects around their true centre, instead
of around the thing or vertex which is closest to the centre.

------------------------------------------------------------------------
r987 | ajapted | 2013-06-10 15:18:36 +1000 (Mon, 10 Jun 2013) | 4 lines

Added 'reselect_second_vertex' variable to control when adding a linedef
onto an existing vertex (or line) if the second vertex will be selected.

------------------------------------------------------------------------
r986 | ajapted | 2013-06-10 15:13:28 +1000 (Mon, 10 Jun 2013) | 2 lines

TODO update.

------------------------------------------------------------------------
r985 | printz | 2013-05-29 07:23:50 +1000 (Wed, 29 May 2013) | 1 line

osx: FLTK is now statically linked

------------------------------------------------------------------------
r984 | ajapted | 2013-05-07 22:30:00 +1000 (Tue, 07 May 2013) | 3 lines

Tweaked BA_ChecksumLevel() to produce checksums the same as before,
so that persistent data for previously edited maps gets found.

------------------------------------------------------------------------
r983 | ajapted | 2013-05-06 13:19:33 +1000 (Mon, 06 May 2013) | 3 lines

Fixed crash bug in BA_ChecksumLevel(), used when loading and saving a
map, occurring when a linedef was missing the right sidedef.

------------------------------------------------------------------------
r981 | ajapted | 2013-05-01 15:11:48 +1000 (Wed, 01 May 2013) | 2 lines

Preferences: leave_offsets_alone now defaults to TRUE.

------------------------------------------------------------------------
r968 | ajapted | 2013-04-28 21:07:50 +1000 (Sun, 28 Apr 2013) | 2 lines

TODO: minor update.

------------------------------------------------------------------------
r967 | ajapted | 2013-04-28 21:07:23 +1000 (Sun, 28 Apr 2013) | 2 lines

More grid-color tweakage.

------------------------------------------------------------------------
r943 | ajapted | 2013-03-16 21:57:03 +1100 (Sat, 16 Mar 2013) | 2 lines

Grid: color tweakage.

------------------------------------------------------------------------
r942 | ajapted | 2013-03-16 11:19:44 +1100 (Sat, 16 Mar 2013) | 2 lines

Grid: improved the simple grid to show flat boundaries.

------------------------------------------------------------------------
r941 | ajapted | 2013-03-16 09:25:33 +1100 (Sat, 16 Mar 2013) | 3 lines

Fixed the selection after a sector merge (the &quot;gone away&quot; sectors were
still in the selection, preventing a subsequent merge).

------------------------------------------------------------------------
r940 | ajapted | 2013-03-16 09:17:33 +1100 (Sat, 16 Mar 2013) | 2 lines

Version bump after 0.95 release.

------------------------------------------------------------------------
r939 | ajapted | 2013-03-16 09:16:08 +1100 (Sat, 16 Mar 2013) | 2 lines

CHANGES.txt : added fresh one (post v0.95 release).

------------------------------------------------------------------------
r938 | ajapted | 2013-03-03 11:20:04 +1100 (Sun, 03 Mar 2013) | 2 lines

TODO update.

------------------------------------------------------------------------
r937 | ajapted | 2013-03-01 11:09:50 +1100 (Fri, 01 Mar 2013) | 2 lines

TODO update.

------------------------------------------------------------------------
r936 | ajapted | 2013-02-25 10:20:28 +1100 (Mon, 25 Feb 2013) | 2 lines

Moved CHANGES.txt --&gt; changelog/095.txt  [after the 0.95 release]

------------------------------------------------------------------------
r935 | ajapted | 2013-02-25 10:17:39 +1100 (Mon, 25 Feb 2013) | 2 lines

bindings.cfg : added SHIFT + cursor keys for scrolling in bigger steps.

------------------------------------------------------------------------
r934 | ajapted | 2013-02-24 15:44:50 +1100 (Sun, 24 Feb 2013) | 2 lines

TODO : small addition.

------------------------------------------------------------------------
r933 | ajapted | 2013-02-24 15:36:11 +1100 (Sun, 24 Feb 2013) | 2 lines

Updated doc/History.txt with SVN changes since last release.

------------------------------------------------------------------------
r932 | ajapted | 2013-02-24 15:30:07 +1100 (Sun, 24 Feb 2013) | 2 lines

Pack-source script: copy the 'osx' directory too.

------------------------------------------------------------------------
r931 | ajapted | 2013-02-24 15:25:07 +1100 (Sun, 24 Feb 2013) | 2 lines

MacOSX: fixed bug in Determine_HomeDir() using 'path' twice.

------------------------------------------------------------------------
r930 | printz | 2013-02-23 21:26:12 +1100 (Sat, 23 Feb 2013) | 1 line

Bumped PLIST version

------------------------------------------------------------------------
r929 | printz | 2013-02-23 21:13:44 +1100 (Sat, 23 Feb 2013) | 1 line

Removed deleted file references in the xcode project

------------------------------------------------------------------------
r928 | ajapted | 2013-02-23 20:11:21 +1100 (Sat, 23 Feb 2013) | 2 lines

Win32 / installer: fixed NSIS script to require &quot;admin&quot; rights.

------------------------------------------------------------------------
r927 | ajapted | 2013-02-23 17:49:36 +1100 (Sat, 23 Feb 2013) | 2 lines

Pack-source script: updated for 'changelogs' folder.

------------------------------------------------------------------------
r926 | ajapted | 2013-02-23 17:48:30 +1100 (Sat, 23 Feb 2013) | 2 lines

Moved changelog documents from docs/ --&gt; changelogs/

------------------------------------------------------------------------
r925 | ajapted | 2013-02-23 17:46:31 +1100 (Sat, 23 Feb 2013) | 2 lines

New top-level folder 'changelogs' -- no prizes for guessing what will go in there!

------------------------------------------------------------------------
r924 | ajapted | 2013-02-23 17:39:06 +1100 (Sat, 23 Feb 2013) | 2 lines

README.txt : updated keys for 'd' and 'm' in Things mode.

------------------------------------------------------------------------
r923 | ajapted | 2013-02-23 16:38:12 +1100 (Sat, 23 Feb 2013) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r922 | ajapted | 2013-02-23 16:35:31 +1100 (Sat, 23 Feb 2013) | 3 lines

Config: added 'swap_sidedefs' preference setting which swaps the upper
and lower sidedefs in the Linedef panel (i.e. to Upper/Middle/Lower).

------------------------------------------------------------------------
r921 | ajapted | 2013-02-23 15:45:40 +1100 (Sat, 23 Feb 2013) | 2 lines

Debian: updated control info (mainly version #) for 0.95 release.

------------------------------------------------------------------------
r920 | ajapted | 2013-02-23 15:41:53 +1100 (Sat, 23 Feb 2013) | 2 lines

TODO.txt : another addition.

------------------------------------------------------------------------
r919 | ajapted | 2013-02-23 15:33:01 +1100 (Sat, 23 Feb 2013) | 2 lines

README.txt : minor changes to FEATURES section.

------------------------------------------------------------------------
r918 | ajapted | 2013-02-23 15:31:39 +1100 (Sat, 23 Feb 2013) | 2 lines

TODO updated.

------------------------------------------------------------------------
r917 | ajapted | 2013-02-22 19:27:32 +1100 (Fri, 22 Feb 2013) | 4 lines

1. made UI_ChooseMap window shorter
2. fixed weird order of &quot;ExMx&quot; level names in UI_ChooseMap
3. fixed unclickable bottom row of buttons in UI_OpenMap dialog

------------------------------------------------------------------------
r916 | ajapted | 2013-02-22 19:14:58 +1100 (Fri, 22 Feb 2013) | 2 lines

Fixed the mode widget on info bar not having any color at startup.

------------------------------------------------------------------------
r915 | ajapted | 2013-02-22 19:08:35 +1100 (Fri, 22 Feb 2013) | 2 lines

Tweaked background colors of some widgets for non-plastic themes.

------------------------------------------------------------------------
r914 | ajapted | 2013-02-22 17:26:14 +1100 (Fri, 22 Feb 2013) | 5 lines

Made map buttons in ChooseMap and OpenMap dialogs be ordered differently,
increasing across-ways instead of down in columns.  That's because I want
the map buttons to be placed in predictable places (e.g. the layout does
not change depending on number of maps present) -- for better usability.

------------------------------------------------------------------------
r913 | ajapted | 2013-02-22 16:58:48 +1100 (Fri, 22 Feb 2013) | 3 lines

Partial work to make ChooseMap and OpenMap dialogs consistent w.r.t the
map selection buttons -- same color, font size and positioning.

------------------------------------------------------------------------
r912 | ajapted | 2013-02-22 16:57:42 +1100 (Fri, 22 Feb 2013) | 2 lines

Queiten another warning.

------------------------------------------------------------------------
r911 | ajapted | 2013-02-22 16:29:09 +1100 (Fri, 22 Feb 2013) | 2 lines

Code: quieten a compiler warning.

------------------------------------------------------------------------
r910 | ajapted | 2013-02-22 15:49:54 +1100 (Fri, 22 Feb 2013) | 2 lines

Dead code removal : SliceLineDef() and MakeRectangularNook().

------------------------------------------------------------------------
r909 | ajapted | 2013-02-22 15:44:42 +1100 (Fri, 22 Feb 2013) | 2 lines

Makefiles: added -fno-strict-aliasing to compiler flags.

------------------------------------------------------------------------
r908 | ajapted | 2013-02-22 15:35:02 +1100 (Fri, 22 Feb 2013) | 2 lines

Win32 / installer: create a shortcut in the Start Menu.

------------------------------------------------------------------------
r907 | ajapted | 2013-02-22 13:57:16 +1100 (Fri, 22 Feb 2013) | 3 lines

View menu: removed the 'Toggle Fullscreen' command, the FLTK fullscreen()
method fails miserably on every platform tested, especially Windows XP.

------------------------------------------------------------------------
r906 | ajapted | 2013-02-21 23:30:12 +1100 (Thu, 21 Feb 2013) | 3 lines

Wad code: fixed some bugs when adding level lumps -- especially need to
fix all the groups when the 'insert_point' is valid.

------------------------------------------------------------------------
r905 | ajapted | 2013-02-21 19:21:36 +1100 (Thu, 21 Feb 2013) | 4 lines

Prefs: reset colors when user chooses the &quot;Bright&quot; setting.

Unfortunately I don't know how to reset the &quot;Default&quot; colors....

------------------------------------------------------------------------
r904 | ajapted | 2013-02-21 19:13:10 +1100 (Thu, 21 Feb 2013) | 2 lines

Prefs: when 'Custom Colors' is enabled, update the colors immediately.

------------------------------------------------------------------------
r903 | ajapted | 2013-02-21 19:06:02 +1100 (Thu, 21 Feb 2013) | 2 lines

Prefs: fixed (I think) the color buttons not updating to a new color.

------------------------------------------------------------------------
r902 | ajapted | 2013-02-21 17:38:56 +1100 (Thu, 21 Feb 2013) | 4 lines

Win32: when reading Install_Dir from the registry, ensure that the
string is NUL-terminated (the MSDN docs mention that the string may
have been stored without a trailing NUL).

------------------------------------------------------------------------
r901 | ajapted | 2013-02-21 17:28:21 +1100 (Thu, 21 Feb 2013) | 3 lines

Win32: attempt to fix the problem reading the $Install_Dir registry value,
which was returning (I think) UCS2 format unicode instead of ASCII.

------------------------------------------------------------------------
r900 | ajapted | 2013-02-21 17:16:54 +1100 (Thu, 21 Feb 2013) | 2 lines

Renamed global var: 'local_dir' --&gt; 'cache_dir'

------------------------------------------------------------------------
r899 | ajapted | 2013-02-21 17:14:53 +1100 (Thu, 21 Feb 2013) | 2 lines

MacOSX: set the 'cache_dir' to $HOME/Library/Caches/eureka-editor

------------------------------------------------------------------------
r898 | ajapted | 2013-02-21 16:49:06 +1100 (Thu, 21 Feb 2013) | 2 lines

Removed dummy mods/foo.bar file.

------------------------------------------------------------------------
r897 | ajapted | 2013-02-21 16:48:42 +1100 (Thu, 21 Feb 2013) | 2 lines

Win32 / nsis_build: I forgot to copy the executable, duh.

------------------------------------------------------------------------
r896 | ajapted | 2013-02-21 16:46:05 +1100 (Thu, 21 Feb 2013) | 4 lines

Win32: reworked NSIS script and Makefile.xming so that we first create a
replicate of the final directory structure.  Main reason is because we
need to convert the text files to MSDOS/Windows format.

------------------------------------------------------------------------
r895 | ajapted | 2013-02-21 15:45:18 +1100 (Thu, 21 Feb 2013) | 2 lines

svn:ignore update

------------------------------------------------------------------------
r894 | ajapted | 2013-02-21 15:44:24 +1100 (Thu, 21 Feb 2013) | 2 lines

Added empty mods/foo.bar file, to keep NSIS happy.

------------------------------------------------------------------------
r893 | ajapted | 2013-02-21 15:41:23 +1100 (Thu, 21 Feb 2013) | 2 lines

Version bump to 0.95 -- for upcoming release.

------------------------------------------------------------------------
r892 | ajapted | 2013-02-21 15:40:43 +1100 (Thu, 21 Feb 2013) | 2 lines

Win32: some fixes for building the NSIS installer.

------------------------------------------------------------------------
r891 | ajapted | 2013-02-21 15:22:38 +1100 (Thu, 21 Feb 2013) | 2 lines

Win32: created obj_win32/glbsp folder.

------------------------------------------------------------------------
r890 | ajapted | 2013-02-21 15:21:47 +1100 (Thu, 21 Feb 2013) | 2 lines

Win32: hmmmm, PathAppend() doesn't seem available -- use strcat() instead.

------------------------------------------------------------------------
r889 | ajapted | 2013-02-21 15:16:00 +1100 (Thu, 21 Feb 2013) | 2 lines

Fixed typo in last commit.

------------------------------------------------------------------------
r888 | ajapted | 2013-02-21 15:14:52 +1100 (Thu, 21 Feb 2013) | 4 lines

Win32 port:
1. fixed not appending our own folder name to %APPDATA%
2. fixed a few compiling issues (e.g. MOD_SHIFT conflicts with windows headers)

------------------------------------------------------------------------
r887 | ajapted | 2013-02-21 14:56:52 +1100 (Thu, 21 Feb 2013) | 2 lines

Win32: more work on Makefile.xming, should be usable now (barring mistakes).

------------------------------------------------------------------------
r886 | ajapted | 2013-02-21 14:55:38 +1100 (Thu, 21 Feb 2013) | 2 lines

Win32: added folder for build objects: obj_win32/

------------------------------------------------------------------------
r885 | ajapted | 2013-02-21 14:54:00 +1100 (Thu, 21 Feb 2013) | 2 lines

Win32: created a resource file : eureka.rc

------------------------------------------------------------------------
r884 | ajapted | 2013-02-21 14:38:14 +1100 (Thu, 21 Feb 2013) | 2 lines

Win32: tweaked name of install directory and registry key.

------------------------------------------------------------------------
r883 | ajapted | 2013-02-21 14:37:08 +1100 (Thu, 21 Feb 2013) | 3 lines

Win32: started work on Makefile.xming -- uses a cross-compiler to make
the Windows executable.

------------------------------------------------------------------------
r882 | ajapted | 2013-02-21 13:11:31 +1100 (Thu, 21 Feb 2013) | 5 lines

Win32: implemented Determine_HomeDir() logic, which uses SHGetFolderPath
to determine the %APPDATA% folder.

Also have fallback for 'local_dir' value (needed for Linux).

------------------------------------------------------------------------
r881 | ajapted | 2013-02-21 12:57:05 +1100 (Thu, 21 Feb 2013) | 2 lines

Use $local_dir (not $home_dir) as prefix for 'cache' and 'backups' folders.

------------------------------------------------------------------------
r880 | ajapted | 2013-02-21 12:51:57 +1100 (Thu, 21 Feb 2013) | 10 lines

1. implemented WIN32 logic to read the &quot;Install_Dir&quot; registry key which
   is created by the NSIS installer

2. made FatalError() on WIN32 use the system MessageBox() function
   when FLTK has not been initialized yet.

3. added 'local_dir' global var, this will be the place for the cache
   and backup folders -- i.e. non-roamable stuff.  On Linux it will
   just be the same as $home_dir.

------------------------------------------------------------------------
r879 | ajapted | 2013-02-21 11:49:16 +1100 (Thu, 21 Feb 2013) | 2 lines

TODO update.

------------------------------------------------------------------------
r878 | ajapted | 2013-02-21 11:48:36 +1100 (Thu, 21 Feb 2013) | 2 lines

Updated README.txt and CHANGES.txt -- preparing for a release.

------------------------------------------------------------------------
r877 | ajapted | 2013-02-21 11:35:15 +1100 (Thu, 21 Feb 2013) | 2 lines

Checked in basic NSIS script to create a Win32 installer : eureka.nsi

------------------------------------------------------------------------
r876 | ajapted | 2013-02-19 22:23:44 +1100 (Tue, 19 Feb 2013) | 2 lines

TODO update.

------------------------------------------------------------------------
r875 | ajapted | 2013-02-19 22:16:21 +1100 (Tue, 19 Feb 2013) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r874 | ajapted | 2013-02-19 22:09:43 +1100 (Tue, 19 Feb 2013) | 2 lines

Default Props panel: now hidden by default.

------------------------------------------------------------------------
r873 | ajapted | 2013-02-19 22:05:07 +1100 (Tue, 19 Feb 2013) | 2 lines

log viewer tweak

------------------------------------------------------------------------
r872 | ajapted | 2013-02-19 22:03:30 +1100 (Tue, 19 Feb 2013) | 3 lines

Log Viewer: reduced MAX_LINES to 600, and made it jump to the bottom
when adding a new line.

------------------------------------------------------------------------
r871 | ajapted | 2013-02-19 21:56:26 +1100 (Tue, 19 Feb 2013) | 2 lines

Print the current time (in the log file) at startup.

------------------------------------------------------------------------
r870 | ajapted | 2013-02-19 21:49:59 +1100 (Tue, 19 Feb 2013) | 2 lines

main.h : ensure we #include &lt;windows.h&gt; for WIN32 builds

------------------------------------------------------------------------
r869 | ajapted | 2013-02-19 21:38:58 +1100 (Tue, 19 Feb 2013) | 8 lines

Log file rejigging:
1. we always create a log file, default is $home_dir/logs.txt
2. all messages are sent to stdout (unless --quiet is used)
3. remember messages in memory until LogViewer window is opened
4. after opening the log file, write saved messages to it
5. after created LogViewer window, grab the saved messages
6. tweaks to debug handling

------------------------------------------------------------------------
r868 | ajapted | 2013-02-19 18:12:36 +1100 (Tue, 19 Feb 2013) | 3 lines

Config: added &quot;-m&quot; as short option for &quot;--merge&quot;, and &quot;-v&quot; as short
option for &quot;--version&quot;.

------------------------------------------------------------------------
r867 | ajapted | 2013-02-19 17:56:53 +1100 (Tue, 19 Feb 2013) | 3 lines

Removed 'r_misc' code files -- since we longer use anything in there
(such as the SetWindowSize() function and ScrMaxX/Y variables).

------------------------------------------------------------------------
r866 | ajapted | 2013-02-19 16:53:54 +1100 (Tue, 19 Feb 2013) | 3 lines

Log Viewer: added 'View/Logs' menu to show the log viewer, and don't show
it automatically on start-up.

------------------------------------------------------------------------
r865 | ajapted | 2013-02-19 16:42:58 +1100 (Tue, 19 Feb 2013) | 4 lines

Began working on a Log Viewing window.  So far the window is opened at
startup, and it contains only an Fl_Browser to show the text.  Also the
LogPrintf() function has been hacked up to send the lines into it.

------------------------------------------------------------------------
r864 | ajapted | 2013-02-19 16:17:15 +1100 (Tue, 19 Feb 2013) | 2 lines

Moved Int_TmpStr() function to lib_util.cc/h

------------------------------------------------------------------------
r863 | ajapted | 2013-02-19 15:26:19 +1100 (Tue, 19 Feb 2013) | 2 lines

minor menu tweak.

------------------------------------------------------------------------
r862 | ajapted | 2013-02-19 15:23:03 +1100 (Tue, 19 Feb 2013) | 2 lines

bindings.cfg : swapped grid keys, 'g' now goes smaller, 'G' goes bigger.

------------------------------------------------------------------------
r861 | ajapted | 2013-02-19 15:20:29 +1100 (Tue, 19 Feb 2013) | 3 lines

1. made sure every Beep() call has a message
2. removed the no-message Beep() function

------------------------------------------------------------------------
r860 | ajapted | 2013-02-19 14:43:44 +1100 (Tue, 19 Feb 2013) | 2 lines

File menu: use CTRL-M for Manage Wads, CTRL-P for Preferences.

------------------------------------------------------------------------
r859 | ajapted | 2013-02-19 14:38:28 +1100 (Tue, 19 Feb 2013) | 5 lines

Prefs / key binds:
1. save the bindings when APPLY button is clicked
2. fixed bug in M_SaveBindings() which skipped the general context
3. changed ordering which contexts are displayed in the key browser

------------------------------------------------------------------------
r858 | ajapted | 2013-02-19 14:27:21 +1100 (Tue, 19 Feb 2013) | 2 lines

bindings.cfg : moved PruneUnused from 'p' --&gt; 'P' key

------------------------------------------------------------------------
r857 | ajapted | 2013-02-19 13:32:11 +1100 (Tue, 19 Feb 2013) | 7 lines

Prefs / key binds:
1. changed &quot;Add&quot; button into a &quot;Copy&quot; button, which copies the line
   and automatically goes into grab-key mode
2. moved &quot;Bind&quot; button to the top
3. made UI_EditKey dialog give focus to the function name input
4. fixed &quot;Edit&quot; button so arrow keys control the browser afterwards

------------------------------------------------------------------------
r856 | ajapted | 2013-02-19 13:03:53 +1100 (Tue, 19 Feb 2013) | 3 lines

Prefs / key binds: implemented good method to detect conflicting key
bindings -- will be shown in RED no matter how the list is sorted.

------------------------------------------------------------------------
r855 | ajapted | 2013-02-19 12:46:01 +1100 (Tue, 19 Feb 2013) | 3 lines

Prefs / key binds: got the &quot;Edit&quot; and &quot;Add&quot; buttons working, using the
values chosen in the UI_EditKey dialog.

------------------------------------------------------------------------
r854 | ajapted | 2013-02-18 23:10:56 +1100 (Mon, 18 Feb 2013) | 2 lines

TODO updated.

------------------------------------------------------------------------
r853 | ajapted | 2013-02-18 23:02:38 +1100 (Mon, 18 Feb 2013) | 2 lines

UI_EditKey dialog: when validating func_name, check the brackets.

------------------------------------------------------------------------
r852 | ajapted | 2013-02-18 22:58:20 +1100 (Mon, 18 Feb 2013) | 2 lines

UI_EditKey dialog: implemented ValidateFunc().

------------------------------------------------------------------------
r851 | ajapted | 2013-02-18 22:52:48 +1100 (Mon, 18 Feb 2013) | 4 lines

1. fixed M_ParseKeyString() not handling hex values like &quot;0x1234&quot;
2. added some synonyms to the M_ParseKeyString() key table, such as
   &quot;RETURN&quot; for &quot;ENTER&quot;, &quot;INSERT&quot; for &quot;INS&quot;, etc...

------------------------------------------------------------------------
r850 | ajapted | 2013-02-18 22:41:53 +1100 (Mon, 18 Feb 2013) | 3 lines

UI_EditKey dialog: implemented validation of the key name (drawn red
when the name fails to parse).

------------------------------------------------------------------------
r849 | ajapted | 2013-02-18 22:23:51 +1100 (Mon, 18 Feb 2013) | 7 lines

Prefs / key binds: show duplicated key bindings (same mode and key) using
red text in the key browser.

This only works when the two keys are together in the list (i.e. the list
has been recently sorted, and the sort criterion was either KEY or MODE).
It could be done better -- but this will suffice for now.

------------------------------------------------------------------------
r848 | ajapted | 2013-02-18 22:02:05 +1100 (Mon, 18 Feb 2013) | 2 lines

Version bump to 0.92

------------------------------------------------------------------------
r847 | ajapted | 2013-02-18 16:39:04 +1100 (Mon, 18 Feb 2013) | 4 lines

Prefs / key binds:
1. setup the initial values for UI_EditKey dialog
2. renamed 'dialog' --&gt; 'prefs' in all UI_Preferences callbacks

------------------------------------------------------------------------
r846 | ajapted | 2013-02-18 16:27:00 +1100 (Mon, 18 Feb 2013) | 3 lines

Prefs / key binds: bit more work on UI_EditKey dialog, fixed a few
layout issues, added Run() method, implemented Close and OK buttons.

------------------------------------------------------------------------
r845 | ajapted | 2013-02-18 10:31:29 +1100 (Mon, 18 Feb 2013) | 2 lines

CHANGELOG and TODO update.

------------------------------------------------------------------------
r844 | ajapted | 2013-02-18 10:27:00 +1100 (Mon, 18 Feb 2013) | 3 lines

When saving a map, prefer existing location in the wad directory
(i.e. if map already exists, don't place lumps at end of wad).

------------------------------------------------------------------------
r843 | ajapted | 2013-02-17 22:36:36 +1100 (Sun, 17 Feb 2013) | 2 lines

Quantize: status message when cannot move some things / vertices.

------------------------------------------------------------------------
r842 | ajapted | 2013-02-17 22:31:18 +1100 (Sun, 17 Feb 2013) | 2 lines

CHANGELOG updated.

------------------------------------------------------------------------
r841 | ajapted | 2013-02-17 22:26:51 +1100 (Sun, 17 Feb 2013) | 2 lines

Ensure displayed level name is always uppercase.

------------------------------------------------------------------------
r840 | ajapted | 2013-02-17 21:38:58 +1100 (Sun, 17 Feb 2013) | 6 lines

Prefs / key binds: initial work on a UI_EditKey dialog, which allows
the user to change the key, context and function of a binding.

So far only the layout is done (code is output of Fluid with some
tidying up).

------------------------------------------------------------------------
r839 | ajapted | 2013-02-17 21:04:03 +1100 (Sun, 17 Feb 2013) | 3 lines

Prefs / key binds: added two utility functions: M_GetBindingInfo() and
M_IsBindingFuncValid().

------------------------------------------------------------------------
r838 | ajapted | 2013-02-17 20:41:07 +1100 (Sun, 17 Feb 2013) | 6 lines

Prefs / key binds:
1. the ESCAPE key now cancels a bind-in-progress
2. added some shortcut keys: ENTER for &quot;Bind&quot;, INSERT and DELETE
3. ensure key browser gets focus after these operations so user can
   use up/down arrow keys to move through the list.

------------------------------------------------------------------------
r837 | ajapted | 2013-02-17 19:58:52 +1100 (Sun, 17 Feb 2013) | 2 lines

TODO.txt : update

------------------------------------------------------------------------
r836 | ajapted | 2013-02-17 19:55:59 +1100 (Sun, 17 Feb 2013) | 7 lines

Prefs / key binds:
1. no longer use the 'data' field of browser lines for bind indices,
   since browser lines map one-to-one with the local bindings

2. renamed 'awaiting_slot' --&gt; 'awaiting_line' and made zero be the
   &quot;off&quot; value

------------------------------------------------------------------------
r835 | ajapted | 2013-02-17 19:45:34 +1100 (Sun, 17 Feb 2013) | 2 lines

Prefs / key binds: implemented the &quot;Delete&quot; button.

------------------------------------------------------------------------
r834 | ajapted | 2013-02-17 19:34:03 +1100 (Sun, 17 Feb 2013) | 3 lines

Prefs / key binds: wrote M_AddLocalBinding() and M_DeleteLocalBinding()
functions.

------------------------------------------------------------------------
r833 | ajapted | 2013-02-17 19:06:22 +1100 (Sun, 17 Feb 2013) | 2 lines

Prefs / key bindings: message tweaks.

------------------------------------------------------------------------
r832 | ajapted | 2013-02-17 17:08:10 +1100 (Sun, 17 Feb 2013) | 8 lines

Prefs / key bindings:
1. made key browser higher (i.e. revert previous change, since I don't
   think a message area will be needded)

2. when waiting for a key press, give the whole preferences window
   the keyboard focus (via Fl::focus).  This fixes certain keys not
   being bindable (like SPACE).

------------------------------------------------------------------------
r831 | ajapted | 2013-02-17 16:44:00 +1100 (Sun, 17 Feb 2013) | 2 lines

Prefs / key bindings: updated code for m_keys rejiggage.

------------------------------------------------------------------------
r830 | ajapted | 2013-02-17 15:47:23 +1100 (Sun, 17 Feb 2013) | 2 lines

Prefs / key bindings: better error messages for M_ChangeBindingFunc().

------------------------------------------------------------------------
r829 | ajapted | 2013-02-17 15:42:41 +1100 (Sun, 17 Feb 2013) | 5 lines

Prefs / key bindings: reworked code in m_keys, it now follows a model
where the key bindings are copied and the dialog will query and change
that copy.  The M_ApplyBindings() function will transfer them back.
Also the M_ChangeBindingFunc() now returns an error string.

------------------------------------------------------------------------
r828 | ajapted | 2013-02-17 15:19:21 +1100 (Sun, 17 Feb 2013) | 4 lines

Prefs / key bindings:
1. renamed CONTEXT column --&gt; MODE
2. began work on &quot;Add&quot;, &quot;Delete&quot; and &quot;Load Defaults&quot; buttons

------------------------------------------------------------------------
r827 | ajapted | 2013-02-17 14:54:56 +1100 (Sun, 17 Feb 2013) | 4 lines

Prefs / key bindings:
1. changed order of columns to: KEY | CONTEXT | FUNCTION
2. added some space underneath the list for a message

------------------------------------------------------------------------
r826 | ajapted | 2013-02-17 14:05:03 +1100 (Sun, 17 Feb 2013) | 3 lines

Preferences dialog: changed &quot;OK&quot; button to &quot;Apply&quot;, and added a &quot;Discard&quot;
button which does not keep the changes made.

------------------------------------------------------------------------
r825 | ajapted | 2013-02-16 15:15:28 +1100 (Sat, 16 Feb 2013) | 3 lines

Prefs / key bindings: implemented the &quot;Edit&quot; button, with code to parse
the entered string, find the command and store it + parameters.

------------------------------------------------------------------------
r824 | ajapted | 2013-02-16 13:37:41 +1100 (Sat, 16 Feb 2013) | 2 lines

Prefs / key bindings: can actually change a key binding now.

------------------------------------------------------------------------
r823 | ajapted | 2013-02-16 12:44:02 +1100 (Sat, 16 Feb 2013) | 4 lines

Prefs / key bindings: worked on ability to show &lt;???&gt; in the current
binding (with background changed to yellow) and the next key-press will
become the new binding -- or clear the binding on a mouse press.

------------------------------------------------------------------------
r822 | ajapted | 2013-02-16 11:46:55 +1100 (Sat, 16 Feb 2013) | 3 lines

Prefs / key bindings: improved display of keys with modifiers, show the
modifier in its own column (so that the bare keys are aligned).

------------------------------------------------------------------------
r821 | ajapted | 2013-02-16 11:36:23 +1100 (Sat, 16 Feb 2013) | 4 lines

Prefs / key bindings: implemented the different sorting modes -- clicking
on the header buttons will select that as the sort column, or toggle
reverse mode if it already was.

------------------------------------------------------------------------
r820 | ajapted | 2013-02-16 11:16:32 +1100 (Sat, 16 Feb 2013) | 2 lines

Key handling: implemented a key compare function: M_KeyCmp()

------------------------------------------------------------------------
r819 | ajapted | 2013-02-16 11:05:17 +1100 (Sat, 16 Feb 2013) | 5 lines

Prefs / key bindings: added M_SortBindingsToVec() which sorts the key
bindings (actually an int vector) for display by the key browser.
Different sorting methods are not implemented yet.


------------------------------------------------------------------------
r818 | ajapted | 2013-02-16 10:31:02 +1100 (Sat, 16 Feb 2013) | 2 lines

Key handling: renamed 'global' context --&gt; 'general'.

------------------------------------------------------------------------
r817 | ajapted | 2013-02-15 23:08:46 +1100 (Fri, 15 Feb 2013) | 2 lines

Prefs / key bindings: renamed 'GROUP' column --&gt; 'CONTEXT'

------------------------------------------------------------------------
r816 | ajapted | 2013-02-15 22:36:57 +1100 (Fri, 15 Feb 2013) | 2 lines

Fluid work : prefs2.fl

------------------------------------------------------------------------
r815 | ajapted | 2013-02-15 22:36:05 +1100 (Fri, 15 Feb 2013) | 2 lines

Prefs / key bindings: partial work on &quot;Bind&quot; and &quot;Edit&quot; buttons.

------------------------------------------------------------------------
r814 | ajapted | 2013-02-15 22:01:55 +1100 (Fri, 15 Feb 2013) | 3 lines

Prefs / Key bindings: added buttons above the browser which show what
each column is (and later will allow sorting by that column).

------------------------------------------------------------------------
r813 | ajapted | 2013-02-15 21:20:01 +1100 (Fri, 15 Feb 2013) | 3 lines

Preference dialog: worked on a new &quot;Keys&quot; tab, which will allow the user
to edit the key bindings.  So far it can only display them.

------------------------------------------------------------------------
r812 | ajapted | 2013-02-15 21:18:28 +1100 (Fri, 15 Feb 2013) | 3 lines

Key handling: added M_StringForBinding() function to format a binding
into a string suitable for an Fl_Browser widget.

------------------------------------------------------------------------
r811 | ajapted | 2013-02-15 19:39:32 +1100 (Fri, 15 Feb 2013) | 3 lines

bindings.cfg : minor change: use '/' to separate flags letters for
LIN_SelectPath and SEC_SelectGroup.

------------------------------------------------------------------------
r810 | ajapted | 2013-02-15 17:16:16 +1100 (Fri, 15 Feb 2013) | 2 lines

UI_Scroll: implemented the Scroll() method.

------------------------------------------------------------------------
r809 | ajapted | 2013-02-14 22:43:42 +1100 (Thu, 14 Feb 2013) | 2 lines

Browser: started work to fix keyboard scrolling....

------------------------------------------------------------------------
r808 | ajapted | 2013-02-14 22:21:47 +1100 (Thu, 14 Feb 2013) | 4 lines

Fixed editor mode getting out-of-sync with the GUI (side panel etc) after
loading a map with no user state.


------------------------------------------------------------------------
r807 | ajapted | 2013-02-14 22:17:14 +1100 (Thu, 14 Feb 2013) | 3 lines

Fixed SNAP button which could become out-of-sync with the editor
after loading a map with no user state.

------------------------------------------------------------------------
r806 | ajapted | 2013-02-14 22:11:40 +1100 (Thu, 14 Feb 2013) | 4 lines

File / OpenMap: don't parse the EUREKA lump (and reload the IWAD and
resource files) when the current pwad has not changed.


------------------------------------------------------------------------
r805 | ajapted | 2013-02-14 21:56:13 +1100 (Thu, 14 Feb 2013) | 4 lines

Added bindings for CTRL + SPACE and CTRL + INSERT to re-enable the
feature of forcing a new sector to be created (rather than correcting
an existing one).  Thanks to d1337r for the bug report.

------------------------------------------------------------------------
r804 | ajapted | 2013-02-05 14:32:43 +1100 (Tue, 05 Feb 2013) | 6 lines

Added an 'error_mode' field to Editor_State_t -- when enabled, the
current selection is drawn in bright red instead of blue.  This will
be used later by the error detection dialog.

UI_Canvas: factored some common code --&gt; DrawThing() method.

------------------------------------------------------------------------
r803 | ajapted | 2013-02-05 13:58:06 +1100 (Tue, 05 Feb 2013) | 2 lines

CHANGELOG update and rearrangement.

------------------------------------------------------------------------
r802 | ajapted | 2013-02-05 13:55:23 +1100 (Tue, 05 Feb 2013) | 2 lines

Scale Objects dialog: finished ability to scale Z of sectors.

------------------------------------------------------------------------
r801 | ajapted | 2013-02-05 11:53:13 +1100 (Tue, 05 Feb 2013) | 3 lines

Scale Objects dialog: partial work to introduce a 'Z' component (hidden
for modes where it doesn't make sense -- which is most of them).

------------------------------------------------------------------------
r800 | ajapted | 2013-02-05 11:51:26 +1100 (Tue, 05 Feb 2013) | 2 lines

Checks.txt : minor addition

------------------------------------------------------------------------
r799 | ajapted | 2013-02-04 14:10:36 +1100 (Mon, 04 Feb 2013) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r798 | ajapted | 2013-02-04 14:08:00 +1100 (Mon, 04 Feb 2013) | 3 lines

Implemented new 'PruneUnused' command -- remove unused sectors, sidedefs
and vertices.  Default binding is on 'p' key.

------------------------------------------------------------------------
r797 | ajapted | 2013-02-03 22:03:16 +1100 (Sun, 03 Feb 2013) | 2 lines

Yet another CHANGELOG update.

------------------------------------------------------------------------
r796 | ajapted | 2013-02-03 22:02:45 +1100 (Sun, 03 Feb 2013) | 4 lines

1. TH_Merge and VERT_Merge: support one selected + highlight
2. VERT_Merge: don't re-select the final vertex -- index can be wrong
   (due to deletions).

------------------------------------------------------------------------
r795 | ajapted | 2013-02-03 20:34:38 +1100 (Sun, 03 Feb 2013) | 2 lines

TODO update.

------------------------------------------------------------------------
r794 | ajapted | 2013-02-03 20:30:13 +1100 (Sun, 03 Feb 2013) | 4 lines

Side panels: show blue background of 'Nombre' when a single object
is selected.  This is another visual cue that something is selected,
especially when that object is off-screen.

------------------------------------------------------------------------
r793 | ajapted | 2013-02-03 19:09:00 +1100 (Sun, 03 Feb 2013) | 4 lines

Fixed bug not clearing an after-drag selection when selecting a group
of objects via the outline box.


------------------------------------------------------------------------
r792 | ajapted | 2013-02-03 17:19:15 +1100 (Sun, 03 Feb 2013) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r791 | ajapted | 2013-02-03 17:18:08 +1100 (Sun, 03 Feb 2013) | 3 lines

LIN_MergeTwo: support one selected + one highlighted, and merge the
second linedef into the first (consistent with SEC_Merge).

------------------------------------------------------------------------
r790 | ajapted | 2013-02-03 17:14:10 +1100 (Sun, 03 Feb 2013) | 2 lines

SEC_Merge: support one selected + one highlighted.

------------------------------------------------------------------------
r789 | ajapted | 2013-02-01 22:37:22 +1100 (Fri, 01 Feb 2013) | 2 lines

CHANGELOG and TODO update.

------------------------------------------------------------------------
r788 | ajapted | 2013-02-01 22:35:21 +1100 (Fri, 01 Feb 2013) | 4 lines

When merging vertices (especially the one being dragged), check for
the situation where two linedefs would end up overlapping, if so then
delete one of them (the one connected to the dragged vertex).

------------------------------------------------------------------------
r787 | ajapted | 2013-02-01 15:50:11 +1100 (Fri, 01 Feb 2013) | 3 lines

Beep messages: ensure first letter is uppercase, also simplified a few
of the messages.

------------------------------------------------------------------------
r786 | ajapted | 2013-02-01 15:41:22 +1100 (Fri, 01 Feb 2013) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r785 | ajapted | 2013-02-01 15:39:43 +1100 (Fri, 01 Feb 2013) | 3 lines

CMD_CopyProperties: implemented 2S --&gt; 2S for linedef textures, with
logic to &quot;intelligently&quot; decide which sides to copy.

------------------------------------------------------------------------
r784 | ajapted | 2013-02-01 15:20:28 +1100 (Fri, 01 Feb 2013) | 2 lines

CMD_CopyProperties: implemented 2S --&gt; 1S case for linedefs.

------------------------------------------------------------------------
r783 | ajapted | 2013-02-01 15:01:14 +1100 (Fri, 01 Feb 2013) | 2 lines

CMD_CopyProperties: partial work to copy textures between linedefs.

------------------------------------------------------------------------
r782 | ajapted | 2013-02-01 12:00:36 +1100 (Fri, 01 Feb 2013) | 3 lines

Fixed jerky RMB scrolling at large zoom factors, done by changing the
grid fields 'orig_x' and 'orig_y' from int --&gt; double.

------------------------------------------------------------------------
r781 | ajapted | 2013-01-30 22:32:28 +1100 (Wed, 30 Jan 2013) | 2 lines

Yet another TODO / CHANGELOG update.

------------------------------------------------------------------------
r780 | ajapted | 2013-01-30 22:30:55 +1100 (Wed, 30 Jan 2013) | 3 lines

Fixed (I hope) ClosestLine_XXX() and OppositeLineDef() functions so that
they can never hit a vertex, by offsetting the (x,y) coord by 0.5 units.

------------------------------------------------------------------------
r779 | ajapted | 2013-01-30 22:07:02 +1100 (Wed, 30 Jan 2013) | 3 lines

LineDef panel: fixed CRASH when clicking on a flag button and no linedef
was selected.

------------------------------------------------------------------------
r778 | ajapted | 2013-01-30 21:37:46 +1100 (Wed, 30 Jan 2013) | 3 lines

LineDef panel: made the flag widgets (&quot;upper unpeg&quot; etc) easier to
click on, the effective width covers the text (not just the checkbox).

------------------------------------------------------------------------
r777 | ajapted | 2013-01-30 21:15:37 +1100 (Wed, 30 Jan 2013) | 2 lines

CHANGELOG and TODO updated.

------------------------------------------------------------------------
r776 | ajapted | 2013-01-30 21:10:48 +1100 (Wed, 30 Jan 2013) | 2 lines

Config: added 'backup_max_files' and 'backup_max_space' vars.

------------------------------------------------------------------------
r775 | ajapted | 2013-01-30 21:04:28 +1100 (Wed, 30 Jan 2013) | 2 lines

Removed the 'escape_key_quits' config var (and from Prefs dialog).

------------------------------------------------------------------------
r774 | ajapted | 2013-01-30 20:55:42 +1100 (Wed, 30 Jan 2013) | 1 line

tweak
------------------------------------------------------------------------
r773 | ajapted | 2013-01-30 20:55:22 +1100 (Wed, 30 Jan 2013) | 4 lines

Backup system: implemented the directory scanning (to get the low and
high values which are present).  The backup system is enabled now, and
it seems to be working OK.

------------------------------------------------------------------------
r772 | ajapted | 2013-01-30 19:58:56 +1100 (Wed, 30 Jan 2013) | 4 lines

Backup system: implemented logic to limit backups (of a certain wad)
to a certain space limit -- currently hard-coded as 100 MB.


------------------------------------------------------------------------
r771 | ajapted | 2013-01-30 16:57:44 +1100 (Wed, 30 Jan 2013) | 2 lines

Wad code: set offset to 0 for zero-length lumps.

------------------------------------------------------------------------
r770 | ajapted | 2013-01-30 15:52:49 +1100 (Wed, 30 Jan 2013) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r769 | ajapted | 2013-01-30 15:44:25 +1100 (Wed, 30 Jan 2013) | 2 lines

Wad code: small optimisation for zero-length lumps.

------------------------------------------------------------------------
r768 | ajapted | 2013-01-30 15:37:12 +1100 (Wed, 30 Jan 2013) | 4 lines

Wad code: implemented new PositionForWrite() logic which tries to use
free space in the wad file.  We also check that a lump did not write
more than the 'max_size' value given to AddLump().

------------------------------------------------------------------------
r767 | ajapted | 2013-01-30 14:29:24 +1100 (Wed, 30 Jan 2013) | 3 lines

Wad code: implemented private FindFreeSpace() method, which can find
an unused area of a given size.

------------------------------------------------------------------------
r766 | ajapted | 2013-01-30 13:01:17 +1100 (Wed, 30 Jan 2013) | 2 lines

status message tweak.

------------------------------------------------------------------------
r765 | ajapted | 2013-01-30 12:59:08 +1100 (Wed, 30 Jan 2013) | 2 lines

Made the status area more distinct: bold font, vertical divider.

------------------------------------------------------------------------
r764 | ajapted | 2013-01-30 12:50:14 +1100 (Wed, 30 Jan 2013) | 2 lines

CMD_BuildNodes: update status area.

------------------------------------------------------------------------
r763 | ajapted | 2013-01-30 12:11:49 +1100 (Wed, 30 Jan 2013) | 2 lines

TODO: added plan to handle multiple files.

------------------------------------------------------------------------
r762 | printz | 2013-01-29 21:53:11 +1100 (Tue, 29 Jan 2013) | 3 lines

osx port:
* Updated project to Xcode 4.6
* Removed user-specific files from inside *.xcodeproj
------------------------------------------------------------------------
r761 | printz | 2013-01-29 21:52:55 +1100 (Tue, 29 Jan 2013) | 4 lines

osx port:
* Removed dead code and comments
* Added descriptive comments
* Updated version info and copyright formatting in the native automatic About box
------------------------------------------------------------------------
r760 | ajapted | 2013-01-29 17:16:28 +1100 (Tue, 29 Jan 2013) | 3 lines

Backup system: the main M_BackupWad() logic is done, but some helper
functions are not implemented yet -- namely Backup_ScanDir().

------------------------------------------------------------------------
r759 | ajapted | 2013-01-29 16:43:06 +1100 (Tue, 29 Jan 2013) | 7 lines

Began work on the Back-up system, which will save a copy of the wad
into the &quot;backups&quot; folder in $home_dir whenever the user saves the
map (CTRL-S) or exports the map into an existing wad.

This commit merely (a) creates the &quot;backups&quot; folder and (b) adds the
calls to M_BackupWad() at the appropriate places.

------------------------------------------------------------------------
r758 | ajapted | 2013-01-29 16:29:31 +1100 (Tue, 29 Jan 2013) | 3 lines

Wad class: implemented a Backup() method.


------------------------------------------------------------------------
r757 | ajapted | 2013-01-29 14:58:32 +1100 (Tue, 29 Jan 2013) | 2 lines

Checked in the MacOS X port source, created by Ioan Chera.

------------------------------------------------------------------------
r756 | ajapted | 2013-01-29 14:56:56 +1100 (Tue, 29 Jan 2013) | 2 lines

TODO update.

------------------------------------------------------------------------
r755 | ajapted | 2013-01-28 16:45:37 +1100 (Mon, 28 Jan 2013) | 2 lines

After loading or saving a map, show a message in status bar.

------------------------------------------------------------------------
r754 | ajapted | 2013-01-28 14:47:17 +1100 (Mon, 28 Jan 2013) | 3 lines

Fixed bug parsing user state for maps (.dat files), which was not
handling strings properly.

------------------------------------------------------------------------
r753 | ajapted | 2013-01-28 14:11:29 +1100 (Mon, 28 Jan 2013) | 2 lines

bindings.cfg : removed ESC key (bound to Quit).

------------------------------------------------------------------------
r752 | ajapted | 2013-01-28 11:20:25 +1100 (Mon, 28 Jan 2013) | 2 lines

bindings.cfg : fixed LIN_Flip key, which clashed with SNAP toggle key.

------------------------------------------------------------------------
r751 | ajapted | 2013-01-26 14:06:30 +1100 (Sat, 26 Jan 2013) | 2 lines

Made Editor_State_t be a struct (not a class).

------------------------------------------------------------------------
r750 | ajapted | 2013-01-26 14:01:44 +1100 (Sat, 26 Jan 2013) | 3 lines

Silenced 64-bit compiler warnings (loss of precision when assigning a 64-bit
value to a 32-bit variable or parameter).

------------------------------------------------------------------------
r749 | ajapted | 2013-01-26 13:55:34 +1100 (Sat, 26 Jan 2013) | 2 lines

Fixed a uninitialized variable bug, and some 64-bit tweaks.

------------------------------------------------------------------------
r748 | ajapted | 2013-01-26 13:39:55 +1100 (Sat, 26 Jan 2013) | 2 lines

Render3D: when changing gamma, show new value in status area.

------------------------------------------------------------------------
r747 | ajapted | 2013-01-25 09:43:00 +1100 (Fri, 25 Jan 2013) | 2 lines

Wrote some notes about possible scripting API : misc/Scripting.txt

------------------------------------------------------------------------
r746 | ajapted | 2013-01-24 21:42:16 +1100 (Thu, 24 Jan 2013) | 2 lines

debug tweak.

------------------------------------------------------------------------
r745 | ajapted | 2013-01-24 21:37:41 +1100 (Thu, 24 Jan 2013) | 2 lines

TODO updated.

------------------------------------------------------------------------
r744 | ajapted | 2013-01-24 21:36:59 +1100 (Thu, 24 Jan 2013) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r743 | ajapted | 2013-01-24 21:36:27 +1100 (Thu, 24 Jan 2013) | 3 lines

When executing key bindings, clear status area if no error occurs.
(Implementation detail: we clear it beforehand).

------------------------------------------------------------------------
r742 | ajapted | 2013-01-24 21:32:17 +1100 (Thu, 24 Jan 2013) | 2 lines

SEC_Merge: beep at user if only 1 sector was selected.

------------------------------------------------------------------------
r741 | ajapted | 2013-01-24 16:56:20 +1100 (Thu, 24 Jan 2013) | 3 lines

Version bump, in honor of new key binding system (all hard-coded keys,
except for digits and the menus, are now handled via key bindings).

------------------------------------------------------------------------
r740 | ajapted | 2013-01-24 15:57:37 +1100 (Thu, 24 Jan 2013) | 2 lines

Fixed missing &quot;else&quot; in R3D_Set() function.

------------------------------------------------------------------------
r739 | ajapted | 2013-01-24 15:56:43 +1100 (Thu, 24 Jan 2013) | 2 lines

Implemented new '3D_Set' binding command.

------------------------------------------------------------------------
r738 | ajapted | 2013-01-24 15:55:02 +1100 (Thu, 24 Jan 2013) | 2 lines

Fixed some bugs in CMD_Set().

------------------------------------------------------------------------
r737 | ajapted | 2013-01-24 15:43:48 +1100 (Thu, 24 Jan 2013) | 3 lines

1. implemented '3D_Toggle' binding command
2. removed the now-dead Render3D_Key() function

------------------------------------------------------------------------
r736 | ajapted | 2013-01-24 15:42:38 +1100 (Thu, 24 Jan 2013) | 2 lines

Tidying of the CMD_Toggle() and CMD_Set() code.

------------------------------------------------------------------------
r735 | ajapted | 2013-01-24 15:30:16 +1100 (Thu, 24 Jan 2013) | 2 lines

bindings.cfg : fixed wrong comment syntax

------------------------------------------------------------------------
r734 | ajapted | 2013-01-24 15:28:09 +1100 (Thu, 24 Jan 2013) | 3 lines

Implemented more render binding commands: '3D_Up', '3D_Down', '3D_Turn',
'3D_DropToFloor' and '3D_Gamma'.

------------------------------------------------------------------------
r733 | ajapted | 2013-01-24 14:43:31 +1100 (Thu, 24 Jan 2013) | 3 lines

Implemented four binding commands for renderer: '3D_Forward', '3D_Backward',
'3D_Left' and '3D_Right'.

------------------------------------------------------------------------
r732 | ajapted | 2013-01-24 14:23:17 +1100 (Thu, 24 Jan 2013) | 3 lines

Fixed missing 'SEC_SwapFlats' registration (I must have clobbered it
accidentally in an earlier commit).

------------------------------------------------------------------------
r731 | ajapted | 2013-01-24 14:14:17 +1100 (Thu, 24 Jan 2013) | 3 lines

1. implemented 'JumpToObject' binding command
2. removed the now-dead Editor_Key() code

------------------------------------------------------------------------
r730 | ajapted | 2013-01-24 13:31:03 +1100 (Thu, 24 Jan 2013) | 3 lines

Added Editor_DigitKey() function to handle digit keys (which do not
use the key binding system).

------------------------------------------------------------------------
r729 | ajapted | 2013-01-24 13:24:18 +1100 (Thu, 24 Jan 2013) | 3 lines

Implemented &quot;grid&quot; and &quot;snap&quot; variables for 'Toggle' and 'Set' binding
commands.

------------------------------------------------------------------------
r728 | ajapted | 2013-01-24 13:11:53 +1100 (Thu, 24 Jan 2013) | 2 lines

Implemented 'GRID_Step' binding command.

------------------------------------------------------------------------
r727 | ajapted | 2013-01-24 12:53:24 +1100 (Thu, 24 Jan 2013) | 2 lines

Implemented 'Zoom' binding command.

------------------------------------------------------------------------
r726 | ajapted | 2013-01-24 12:46:03 +1100 (Thu, 24 Jan 2013) | 2 lines

Implemented 'ZoomWholeMap' and 'ZoomSelection' binding commands.

------------------------------------------------------------------------
r725 | ajapted | 2013-01-24 12:32:17 +1100 (Thu, 24 Jan 2013) | 2 lines

Tweaked a few bits of 'long' usage to prevent warnings.

------------------------------------------------------------------------
r724 | ajapted | 2013-01-24 12:24:56 +1100 (Thu, 24 Jan 2013) | 2 lines

Changed rgb_color_t typedef to use u32_t (was: unsigned long).

------------------------------------------------------------------------
r723 | ajapted | 2013-01-24 12:23:49 +1100 (Thu, 24 Jan 2013) | 2 lines

Removed unused centre_of_sectors() function.

------------------------------------------------------------------------
r722 | ajapted | 2013-01-24 12:18:50 +1100 (Thu, 24 Jan 2013) | 5 lines

1. renamed IsLineDefInside() --&gt; LineCrossesBox(), tidied up the code
   and replaced 'long' usage
2. removed unused GetObjectCoords() function
3. replaced 'long' usage in GetOppositeSector()

------------------------------------------------------------------------
r721 | ajapted | 2013-01-23 23:57:42 +1100 (Wed, 23 Jan 2013) | 3 lines

Implemented three browser-related binding commands, and removed the
no-longer-needed Browser_Key() function.

------------------------------------------------------------------------
r720 | ajapted | 2013-01-23 20:46:04 +1100 (Wed, 23 Jan 2013) | 3 lines

1. implemented 'CMD_SetBrowser' binding command
2. removed dead Global_Key() function

------------------------------------------------------------------------
r719 | ajapted | 2013-01-23 19:48:26 +1100 (Wed, 23 Jan 2013) | 3 lines

1. implemented 'LIN_SelectPath' binding command
2. removed the dead Thing_Key / Sector_Key (etc) functions

------------------------------------------------------------------------
r718 | ajapted | 2013-01-23 19:28:16 +1100 (Wed, 23 Jan 2013) | 3 lines

1. implemented 'LIN_Flip' and 'LIN_SplitHalf' binding commands
2. changed binding of LIN_SplitHalf from 'x' --&gt; 'k'

------------------------------------------------------------------------
r717 | ajapted | 2013-01-23 19:12:53 +1100 (Wed, 23 Jan 2013) | 3 lines

1. Use ExecuteCommand() for some menu functions
2. added some Beep() error messages

------------------------------------------------------------------------
r716 | ajapted | 2013-01-23 16:53:24 +1100 (Wed, 23 Jan 2013) | 2 lines

Implemented 'CopyProperties' binding command.

------------------------------------------------------------------------
r715 | ajapted | 2013-01-23 16:45:04 +1100 (Wed, 23 Jan 2013) | 3 lines

1. renamed EXEC_Result --&gt; EXEC_Errno
2. set EXEC_Errno to 1 in the Beep() error function

------------------------------------------------------------------------
r714 | ajapted | 2013-01-23 16:40:45 +1100 (Wed, 23 Jan 2013) | 3 lines

1. added EXEC_Result global, for testing if a command failed
2. implemented an ExecuteCommand() function

------------------------------------------------------------------------
r713 | ajapted | 2013-01-23 15:08:41 +1100 (Wed, 23 Jan 2013) | 3 lines

SEC_SelectGroup : implemented new 'w' flag, perform a walking test
(i.e. don't spread selection across lines which block the player).

------------------------------------------------------------------------
r712 | ajapted | 2013-01-23 14:56:10 +1100 (Wed, 23 Jan 2013) | 4 lines

Implemented 'SEC_SelectGroup' binding command, and expanding the matching
capabilities to support matching the light, tag and special values, and
also have a flag to allow passing through doors.

------------------------------------------------------------------------
r711 | ajapted | 2013-01-23 12:59:05 +1100 (Wed, 23 Jan 2013) | 3 lines

Support &quot;3d&quot; and &quot;browser&quot; variables with 'Toggle' and 'Set' binding
commands.  This replaces the 'Toggle3D' and 'ToggleBrowser' commands.

------------------------------------------------------------------------
r710 | ajapted | 2013-01-23 12:31:05 +1100 (Wed, 23 Jan 2013) | 2 lines

Implemented 'SEC_Floor' and 'SEC_Ceil' binding commands.

------------------------------------------------------------------------
r709 | ajapted | 2013-01-23 11:13:31 +1100 (Wed, 23 Jan 2013) | 2 lines

Implemented 'GoToCamera' and 'PlaceCamera' binding commands.

------------------------------------------------------------------------
r708 | ajapted | 2013-01-23 10:57:03 +1100 (Wed, 23 Jan 2013) | 3 lines

Implemented new 'Set' binding command, this can set a variable to a
particular value.  Only one variable &quot;obj_nums&quot; is supported so far.

------------------------------------------------------------------------
r707 | ajapted | 2013-01-23 10:48:00 +1100 (Wed, 23 Jan 2013) | 4 lines

Implemented 'Toggle' binding command, which takes a variable name to
toggle.  Current variables are &quot;obj_nums&quot; and &quot;skills&quot;.  This replaces
the previous 'ToggleObjNums' command.

------------------------------------------------------------------------
r706 | ajapted | 2013-01-22 22:59:16 +1100 (Tue, 22 Jan 2013) | 2 lines

Implemented the 'Delete' binding command, with optional &quot;keep&quot; parameter.

------------------------------------------------------------------------
r705 | ajapted | 2013-01-22 22:57:14 +1100 (Tue, 22 Jan 2013) | 4 lines

Fixed two bugs in M_ParseKeyString() :-
1. the &quot;SHIFT-&quot; modifier had the wrong value
2. keys found in the table did not apply any modifier mask

------------------------------------------------------------------------
r704 | ajapted | 2013-01-22 22:48:47 +1100 (Tue, 22 Jan 2013) | 3 lines

Keys: fixed bug in M_TranslateKey() -- don't use ispunct() on keys which
are not ASCII (especially values like FL_BackSpace).

------------------------------------------------------------------------
r703 | ajapted | 2013-01-22 18:56:04 +1100 (Tue, 22 Jan 2013) | 3 lines

1. removed last vestiges of 'keymod_e' and KM_XXX
2. renamed some editor functions to have &quot;Editor_&quot; prefix

------------------------------------------------------------------------
r702 | ajapted | 2013-01-22 18:21:50 +1100 (Tue, 22 Jan 2013) | 5 lines

1. define PACKEDATTR in sys_macro.h -- source was Chocolate-Doom

2. added PACKEDATTR macro to all the raw on-disk structures, which
   may be needed on certain systems (especially 64-bit systems).

------------------------------------------------------------------------
r701 | ajapted | 2013-01-22 14:26:53 +1100 (Tue, 22 Jan 2013) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r700 | ajapted | 2013-01-22 14:26:11 +1100 (Tue, 22 Jan 2013) | 2 lines

Implemented 'Insert' binding command.

------------------------------------------------------------------------
r699 | ajapted | 2013-01-22 14:08:29 +1100 (Tue, 22 Jan 2013) | 3 lines

Implemented a 'Nothing' command binding, as the name suggests it does
nothing at all -- possibly more useful than it sounds.

------------------------------------------------------------------------
r698 | ajapted | 2013-01-22 14:04:56 +1100 (Tue, 22 Jan 2013) | 3 lines

Implemented 'Merge' binding command for things, which places all the
selected things at a single location.

------------------------------------------------------------------------
r697 | ajapted | 2013-01-22 12:21:29 +1100 (Tue, 22 Jan 2013) | 3 lines

Things: new logic for 'Disconnect' -- the semantics are to move apart
things at the same location (or very close).

------------------------------------------------------------------------
r696 | ajapted | 2013-01-22 10:44:39 +1100 (Tue, 22 Jan 2013) | 2 lines

Added or tweaked some Beep() messages.

------------------------------------------------------------------------
r695 | ajapted | 2013-01-22 10:43:28 +1100 (Tue, 22 Jan 2013) | 4 lines

Things: worked on 'Disconnect' for things, which will separate things
which are overlapping each other.  The logic in this commit is rather
flawed though...

------------------------------------------------------------------------
r694 | ajapted | 2013-01-22 09:55:10 +1100 (Tue, 22 Jan 2013) | 4 lines

Implemented 'Merge' and 'Disconnect' binding commands, which are used
for every mode (&quot;global&quot; context).  These replace the mode-specific
binding commands like 'LIN_MergeTwo'.

------------------------------------------------------------------------
r693 | ajapted | 2013-01-22 09:49:08 +1100 (Tue, 22 Jan 2013) | 1 line

minor tweak
------------------------------------------------------------------------
r692 | ajapted | 2013-01-21 13:09:26 +1100 (Mon, 21 Jan 2013) | 4 lines

Key handling / M_SaveBindings:
1. fixed bug writing an 'UNBOUND' key multiple times
2. aesthetic change : no contiguous blank lines

------------------------------------------------------------------------
r691 | ajapted | 2013-01-21 12:59:36 +1100 (Mon, 21 Jan 2013) | 1 line

tweak
------------------------------------------------------------------------
r690 | ajapted | 2013-01-21 12:58:36 +1100 (Mon, 21 Jan 2013) | 6 lines

Key handling:
1. when writing the local bindings.cfg, skip bindings which are exactly
   the same as one from the install_dir
2. detect un-bound keys and write them using &quot;UNBOUND&quot; as the command
3. parse this &quot;UNBOUND&quot; keyword when reading a bindings.cfg

------------------------------------------------------------------------
r689 | ajapted | 2013-01-21 12:23:55 +1100 (Mon, 21 Jan 2013) | 3 lines

Key handling: keep an in-memory copy of the install_dir bindings.
It will be needed for M_SaveBindings() to only write the differences.

------------------------------------------------------------------------
r688 | ajapted | 2013-01-21 10:38:05 +1100 (Mon, 21 Jan 2013) | 2 lines

tidied up Main_key_handler().

------------------------------------------------------------------------
r687 | ajapted | 2013-01-21 08:53:42 +1100 (Mon, 21 Jan 2013) | 3 lines

Key handling: moved translation code to M_TranslateKey() function
(out of UI_Canvas::handle_key method).

------------------------------------------------------------------------
r686 | ajapted | 2013-01-21 08:29:28 +1100 (Mon, 21 Jan 2013) | 4 lines

1. replaced map name on info bar with a status box
2. added Status_Set() and Status_Clear() functions
3. updated Beep() to set the status and show message in log

------------------------------------------------------------------------
r685 | ajapted | 2013-01-20 19:05:39 +1100 (Sun, 20 Jan 2013) | 2 lines

Implemented 'Scroll' binding command (for scrolling the map view).

------------------------------------------------------------------------
r684 | ajapted | 2013-01-20 18:37:07 +1100 (Sun, 20 Jan 2013) | 2 lines

Implemented 'EditMode' binding command.

------------------------------------------------------------------------
r683 | ajapted | 2013-01-20 18:35:16 +1100 (Sun, 20 Jan 2013) | 2 lines

tweaks.

------------------------------------------------------------------------
r682 | ajapted | 2013-01-20 16:28:38 +1100 (Sun, 20 Jan 2013) | 4 lines

bindings.cfg :
1. fixed key for vertical mirror ('V' not 'v')
2. fixed some command names

------------------------------------------------------------------------
r681 | ajapted | 2013-01-20 16:20:48 +1100 (Sun, 20 Jan 2013) | 2 lines

Implemented 'CopyAndPaste' binding command.

------------------------------------------------------------------------
r680 | ajapted | 2013-01-20 16:15:43 +1100 (Sun, 20 Jan 2013) | 7 lines

Implemented these binding commands:
   Mirror    (parameter is &quot;horiz&quot; or &quot;vert&quot;)
   Rotate90  (parameter is direction, +1 for acw, -1 for cw)
   Enlarge   (replaces CMD_ScaleObjects, parameter is multiplier)
   Shrink    (replaces CMD_ScaleObjects, parameter is divisor)
   Quantize

------------------------------------------------------------------------
r679 | ajapted | 2013-01-20 13:14:41 +1100 (Sun, 20 Jan 2013) | 5 lines

Implemented following as binding commands:
1. VERT_Merge, VERT_Disconnect
2. LIN_MergeTwo, LIN_Disconnect
3. SEC_Merge, SEC_Disconnect

------------------------------------------------------------------------
r678 | ajapted | 2013-01-20 12:46:06 +1100 (Sun, 20 Jan 2013) | 2 lines

Key binding: Implemented 'TH_Spin' command (removed hard-coded 'w' and 'x' keys).

------------------------------------------------------------------------
r677 | ajapted | 2013-01-20 12:36:23 +1100 (Sun, 20 Jan 2013) | 3 lines

Key handling: ensure the EXEC_Param[] values are never NULL, use the
empty string instead.

------------------------------------------------------------------------
r676 | ajapted | 2013-01-20 12:06:46 +1100 (Sun, 20 Jan 2013) | 2 lines

bindings.cfg : tweaked prefixes (e.g. LN --&gt; LIN, GR --&gt; GRID)

------------------------------------------------------------------------
r675 | ajapted | 2013-01-20 10:59:59 +1100 (Sun, 20 Jan 2013) | 2 lines

Key handling: merged &quot;edit&quot; and &quot;global&quot; contexts into one (global).

------------------------------------------------------------------------
r674 | ajapted | 2013-01-20 10:36:01 +1100 (Sun, 20 Jan 2013) | 3 lines

Key handling: implemented M_RemoveBinding(), and use it to ensure that
bindings from the home_dir replace bindings from the install_dir.

------------------------------------------------------------------------
r673 | ajapted | 2013-01-20 10:23:59 +1100 (Sun, 20 Jan 2013) | 5 lines

Key handling:
1. load bindings from BOTH install_dir and home_dir paths (otherwise
   new releases of Eureka would be unable to add new bindings)
2. fixed parsing of double quotes (&quot;) in bindings.cfg

------------------------------------------------------------------------
r672 | ajapted | 2013-01-19 21:59:24 +1100 (Sat, 19 Jan 2013) | 2 lines

Key handling: un-hard-code the ` (back-quote) key -- rely on binding.

------------------------------------------------------------------------
r671 | ajapted | 2013-01-19 21:57:25 +1100 (Sat, 19 Jan 2013) | 3 lines

Key handling: when writing the bindings, group them by their context
(a purely aesthetic change).

------------------------------------------------------------------------
r670 | ajapted | 2013-01-19 21:31:19 +1100 (Sat, 19 Jan 2013) | 5 lines

Key handling:
1. renamed CMD_SwapFlats --&gt; SEC_SwapFlats
2. made it use key bindings (no hard-coded test against 'w' key)
3. moved M_RegisterCommand() calls into a separate function (editloop.cc)

------------------------------------------------------------------------
r669 | ajapted | 2013-01-19 21:23:30 +1100 (Sat, 19 Jan 2013) | 2 lines

tweaked M_ModeToKeyContext()

------------------------------------------------------------------------
r668 | ajapted | 2013-01-19 21:21:23 +1100 (Sat, 19 Jan 2013) | 3 lines

Key handling: have EXEC_Param[] global var to contain the parameters
from the key binding being executed.

------------------------------------------------------------------------
r667 | ajapted | 2013-01-19 21:15:16 +1100 (Sat, 19 Jan 2013) | 5 lines

Key handling:
1. renamed KCTX_INVALID --&gt; KCTX_NONE
2. when registering commands, can specify a required context
3. prevent binding keys to a command in the wrong context

------------------------------------------------------------------------
r666 | ajapted | 2013-01-19 18:48:38 +1100 (Sat, 19 Jan 2013) | 3 lines

Key handler: a few commands now rely on new system, e.g. TAB to toggle
the 3D view, and 'b' to toggle the browser panel.

------------------------------------------------------------------------
r665 | ajapted | 2013-01-19 18:45:22 +1100 (Sat, 19 Jan 2013) | 7 lines

Key handling: use new ExecuteKey() function to handle keys, using the
same propagation logic.  A few commands now rely on this, e.g. TAB to
toggle the 3D view.

The existing XXX_Key() functions are still in place, but will only
remain during the transition to the new system.

------------------------------------------------------------------------
r664 | ajapted | 2013-01-19 18:40:36 +1100 (Sat, 19 Jan 2013) | 2 lines

Key handling: fixed parsing of long key names (like &quot;ESC&quot;).

------------------------------------------------------------------------
r663 | ajapted | 2013-01-19 18:32:38 +1100 (Sat, 19 Jan 2013) | 5 lines

Key handling:
1. moved key_context_e enumeration to global scope (header file)
2. added M_ModeToKeyContext() function
3. implemented ExecuteKey() function

------------------------------------------------------------------------
r662 | ajapted | 2013-01-19 15:47:37 +1100 (Sat, 19 Jan 2013) | 2 lines

Key handling: finished M_LoadBindings() -- parse each binding and add it.

------------------------------------------------------------------------
r661 | ajapted | 2013-01-19 15:31:46 +1100 (Sat, 19 Jan 2013) | 3 lines

Key handling: partial work implementing M_LoadBindings().
This commit just has the code to open the file and read tokens.

------------------------------------------------------------------------
r660 | ajapted | 2013-01-19 14:23:30 +1100 (Sat, 19 Jan 2013) | 3 lines

Key handling: handle function and keypad keys in M_ParseKeyString() and
M_KeyToString().

------------------------------------------------------------------------
r659 | ajapted | 2013-01-19 14:10:42 +1100 (Sat, 19 Jan 2013) | 2 lines

Key handling: more names for key_map[] table (e.g. VOL_DOWN, CD_PLAY, etc).

------------------------------------------------------------------------
r658 | ajapted | 2013-01-19 14:00:15 +1100 (Sat, 19 Jan 2013) | 4 lines

Key handling: added a key_map[] table for mapping special keys from
their code to their name or vice versa.

------------------------------------------------------------------------
r657 | ajapted | 2013-01-19 13:25:45 +1100 (Sat, 19 Jan 2013) | 4 lines

Key handling:
1. implemented M_WriteBindings()
2. partial work on M_ParseKeyString() and M_KeyToString()

------------------------------------------------------------------------
r656 | ajapted | 2013-01-19 12:52:29 +1100 (Sat, 19 Jan 2013) | 2 lines

Makefile: install the 'bindings.cfg' file.

------------------------------------------------------------------------
r655 | ajapted | 2013-01-19 12:45:29 +1100 (Sat, 19 Jan 2013) | 2 lines

Added some M_RegisterCommand() calls in Editor_Init().

------------------------------------------------------------------------
r654 | ajapted | 2013-01-19 12:42:18 +1100 (Sat, 19 Jan 2013) | 2 lines

Key handling: changed command_func_t to return 'void' (not 'bool').

------------------------------------------------------------------------
r653 | ajapted | 2013-01-19 10:41:47 +1100 (Sat, 19 Jan 2013) | 7 lines

Key handling (m_keys.cc) :
1. added editor_command_t structure
2. added M_AddEditorCommand() and FindEditorCommand()
3. added key_context_e enumeration
4. added ParseKeyContext() and KeyContextString() functions
5. added key_binding_t structure

------------------------------------------------------------------------
r652 | ajapted | 2013-01-18 21:59:36 +1100 (Fri, 18 Jan 2013) | 2 lines

New code files to handle key binding logic : m_keys.cc/h

------------------------------------------------------------------------
r651 | ajapted | 2013-01-18 21:52:26 +1100 (Fri, 18 Jan 2013) | 3 lines

Key handling: changed some keymod_e (KM_XXX) usages to use keycode_t
(MOD_XXX) defines instead.

------------------------------------------------------------------------
r650 | ajapted | 2013-01-18 21:18:44 +1100 (Fri, 18 Jan 2013) | 2 lines

Bindings.txt : simpler format, a few tweaks.

------------------------------------------------------------------------
r649 | ajapted | 2013-01-18 17:11:03 +1100 (Fri, 18 Jan 2013) | 2 lines

Finished the list of needed key bindings.

------------------------------------------------------------------------
r648 | ajapted | 2013-01-18 16:42:37 +1100 (Fri, 18 Jan 2013) | 2 lines

Partial work on a list of needed key bindings.

------------------------------------------------------------------------
r647 | ajapted | 2013-01-18 16:08:29 +1100 (Fri, 18 Jan 2013) | 3 lines

Key handling: convert SHIFT + punctuation key to the shifted value,
for example SHIFT + ',' --&gt; '&lt;'

------------------------------------------------------------------------
r646 | ajapted | 2013-01-18 15:55:59 +1100 (Fri, 18 Jan 2013) | 3 lines

Updated key handling code (UI_Canvas::handle_key, XXX_Key functions) to
use the new keycode_t semantics.

------------------------------------------------------------------------
r645 | ajapted | 2013-01-18 15:35:20 +1100 (Fri, 18 Jan 2013) | 2 lines

Updated semantics of keycode_t for digits.

------------------------------------------------------------------------
r644 | ajapted | 2013-01-16 22:16:55 +1100 (Wed, 16 Jan 2013) | 3 lines

Added key_code_t typedef (and more importantly, comments defining its
semantics).  Not used yet, but will be needed for configurable keys...

------------------------------------------------------------------------
r643 | ajapted | 2013-01-15 22:11:41 +1100 (Tue, 15 Jan 2013) | 2 lines

TODO update.

------------------------------------------------------------------------
r642 | ajapted | 2013-01-15 22:09:55 +1100 (Tue, 15 Jan 2013) | 2 lines

Updated some copyright messages for 2013.

------------------------------------------------------------------------
r641 | ajapted | 2013-01-15 22:05:22 +1100 (Tue, 15 Jan 2013) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r640 | ajapted | 2013-01-15 21:28:58 +1100 (Tue, 15 Jan 2013) | 2 lines

Prefs and Config: implemented a &quot;default grid mode&quot; setting.

------------------------------------------------------------------------
r639 | ajapted | 2013-01-15 21:05:24 +1100 (Tue, 15 Jan 2013) | 2 lines

Prefs dialog: implemented 'default_grid_size' setting.

------------------------------------------------------------------------
r638 | ajapted | 2013-01-15 20:52:38 +1100 (Tue, 15 Jan 2013) | 2 lines

Grid: removed '192' as a possible grid size.

------------------------------------------------------------------------
r637 | ajapted | 2013-01-15 19:18:17 +1100 (Tue, 15 Jan 2013) | 3 lines

Prefs dialog: implemented some of remaining General stuff, such as:
default_grid_snap, digits_set_zoom and escape_key_quits.

------------------------------------------------------------------------
r636 | ajapted | 2013-01-15 16:33:40 +1100 (Tue, 15 Jan 2013) | 2 lines

Config: added gui_custom_xx color variables.

------------------------------------------------------------------------
r635 | ajapted | 2013-01-15 16:20:40 +1100 (Tue, 15 Jan 2013) | 2 lines

Prefs dialog: got the theme section of 'General' tab working.

------------------------------------------------------------------------
r634 | ajapted | 2013-01-15 16:03:28 +1100 (Tue, 15 Jan 2013) | 2 lines

Prefs dialog: got the glBSP settings working.

------------------------------------------------------------------------
r633 | ajapted | 2013-01-15 14:21:08 +1100 (Tue, 15 Jan 2013) | 3 lines

Prefs dialog: implemented rest of Editing options (except the modifier
key for multi-select has only one choice: CTRL).

------------------------------------------------------------------------
r632 | ajapted | 2013-01-15 14:08:23 +1100 (Tue, 15 Jan 2013) | 4 lines

Prefs dialog:
1. call M_WriteConfigFile() to persist the changes
2. implemented one of the settings : new_sector_size

------------------------------------------------------------------------
r631 | ajapted | 2013-01-15 14:04:01 +1100 (Tue, 15 Jan 2013) | 3 lines

Config: moved extern declarations into header (m_config.h) so that the
preferences code can access them.

------------------------------------------------------------------------
r630 | ajapted | 2013-01-15 13:55:52 +1100 (Tue, 15 Jan 2013) | 2 lines

Prefs dialog: implemented color_callback().

------------------------------------------------------------------------
r629 | ajapted | 2013-01-15 13:50:09 +1100 (Tue, 15 Jan 2013) | 3 lines

Prefs dialog: make initial tab be the first one, and remember the last
active tab for next time preferences dialog is opened.

------------------------------------------------------------------------
r628 | ajapted | 2013-01-15 13:29:10 +1100 (Tue, 15 Jan 2013) | 2 lines

Prefs dialog: implemented callback for OK button and window close.

------------------------------------------------------------------------
r627 | ajapted | 2013-01-15 13:28:28 +1100 (Tue, 15 Jan 2013) | 1 line

layout tweak
------------------------------------------------------------------------
r626 | ajapted | 2013-01-15 12:34:10 +1100 (Tue, 15 Jan 2013) | 3 lines

EUREKA lump: better iwad check when a resource cannot be found (i.e.
use the IWAD path for the game specified in the lump, not Iwad_name).

------------------------------------------------------------------------
r625 | ajapted | 2013-01-15 12:24:53 +1100 (Tue, 15 Jan 2013) | 2 lines

docco tweaks.

------------------------------------------------------------------------
r624 | ajapted | 2013-01-15 12:19:24 +1100 (Tue, 15 Jan 2013) | 3 lines

Prefs dialog: inserted the code generated by fluid (from prefs2.fl),
with some tidying and adding missing fields and methods.

------------------------------------------------------------------------
r623 | ajapted | 2013-01-15 12:03:19 +1100 (Tue, 15 Jan 2013) | 2 lines

Prefs dialog: started work on it, e.g. the basic Run() method.

------------------------------------------------------------------------
r622 | ajapted | 2013-01-15 11:50:35 +1100 (Tue, 15 Jan 2013) | 4 lines

About dialog: reworked code, use an '_instance' field to keep track of
the current window, and allow the rest of the application to function
while it is open (i.e. it is _not_ modal).

------------------------------------------------------------------------
r621 | ajapted | 2013-01-15 10:33:13 +1100 (Tue, 15 Jan 2013) | 2 lines

TODO update.

------------------------------------------------------------------------
r620 | ajapted | 2013-01-15 10:25:36 +1100 (Tue, 15 Jan 2013) | 2 lines

CHANGELOG: created a fresh one (after 0.88c release).

------------------------------------------------------------------------
r619 | ajapted | 2013-01-15 10:20:53 +1100 (Tue, 15 Jan 2013) | 3 lines

When parsing the EUREKA lump and a resource wad cannot be found, look
for it same directory as the PWAD, then try same dir as the IWAD.

------------------------------------------------------------------------
r618 | ajapted | 2013-01-15 10:18:26 +1100 (Tue, 15 Jan 2013) | 2 lines

File utils: fixed some bugs in FileReposition().

------------------------------------------------------------------------
r617 | ajapted | 2013-01-15 10:06:08 +1100 (Tue, 15 Jan 2013) | 3 lines

File utils: implemented FilenameReposition() function, which takes a
filename and replaces its path with the path from another filename.

------------------------------------------------------------------------
r616 | ajapted | 2013-01-10 22:47:36 +1100 (Thu, 10 Jan 2013) | 2 lines

TODO update.

------------------------------------------------------------------------
r615 | ajapted | 2013-01-06 19:34:04 +1100 (Sun, 06 Jan 2013) | 2 lines

more TO-DO goodies...

------------------------------------------------------------------------
r614 | ajapted | 2013-01-04 12:58:27 +1100 (Fri, 04 Jan 2013) | 2 lines

Version bump after 0.88c release.

------------------------------------------------------------------------
r613 | ajapted | 2013-01-04 12:57:24 +1100 (Fri, 04 Jan 2013) | 2 lines

README.txt : added my SF email address.

------------------------------------------------------------------------
r612 | ajapted | 2013-01-04 12:56:59 +1100 (Fri, 04 Jan 2013) | 2 lines

Debian: control tweak

------------------------------------------------------------------------
r611 | ajapted | 2013-01-04 12:56:29 +1100 (Fri, 04 Jan 2013) | 2 lines

Moved CHANGES.txt --&gt; docs/ folder, after 0.88c release.

------------------------------------------------------------------------
r610 | ajapted | 2013-01-04 12:55:45 +1100 (Fri, 04 Jan 2013) | 2 lines

CHANGELOG tweak.

------------------------------------------------------------------------
r609 | ajapted | 2013-01-04 12:55:19 +1100 (Fri, 04 Jan 2013) | 2 lines

TODO update.

------------------------------------------------------------------------
r608 | ajapted | 2013-01-02 15:26:44 +1100 (Wed, 02 Jan 2013) | 2 lines

TODO update.

------------------------------------------------------------------------
r607 | ajapted | 2012-12-27 21:03:42 +1100 (Thu, 27 Dec 2012) | 2 lines

TODO.txt : document logic for texture alignment keys.

------------------------------------------------------------------------
r606 | ajapted | 2012-12-26 21:08:54 +1100 (Wed, 26 Dec 2012) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r605 | ajapted | 2012-12-26 19:08:02 +1100 (Wed, 26 Dec 2012) | 2 lines

TODO update (fixed the slime trails).

------------------------------------------------------------------------
r604 | ajapted | 2012-12-26 19:06:11 +1100 (Wed, 26 Dec 2012) | 2 lines

Makefile: made 'uninstall' also remove the desktop and icon files.

------------------------------------------------------------------------
r603 | ajapted | 2012-12-26 18:44:19 +1100 (Wed, 26 Dec 2012) | 3 lines

3D View: implemented even better DistCmp() logic, which has eliminated
nearly all trails.

------------------------------------------------------------------------
r602 | ajapted | 2012-12-26 18:12:10 +1100 (Wed, 26 Dec 2012) | 2 lines

3D View: reduced the slime trails.

------------------------------------------------------------------------
r601 | ajapted | 2012-12-26 16:17:53 +1100 (Wed, 26 Dec 2012) | 2 lines

Coding: simpler usage of Fl_Sys_Menu_Bar.

------------------------------------------------------------------------
r600 | ajapted | 2012-12-26 16:17:11 +1100 (Wed, 26 Dec 2012) | 2 lines

Dead code removal (ui_menu.cc)

------------------------------------------------------------------------
r599 | ajapted | 2012-12-24 22:23:01 +1100 (Mon, 24 Dec 2012) | 2 lines

Renamed WISHLIST.txt --&gt; TODO.txt

------------------------------------------------------------------------
r598 | ajapted | 2012-12-24 22:21:49 +1100 (Mon, 24 Dec 2012) | 2 lines

Removed TODO.txt file : about to rename WISHLIST --&gt; TODO...

------------------------------------------------------------------------
r597 | ajapted | 2012-12-24 22:18:25 +1100 (Mon, 24 Dec 2012) | 2 lines

WISHLIST update.

------------------------------------------------------------------------
r596 | ajapted | 2012-12-24 22:17:25 +1100 (Mon, 24 Dec 2012) | 1 line

tweak
------------------------------------------------------------------------
r595 | ajapted | 2012-12-24 22:16:30 +1100 (Mon, 24 Dec 2012) | 5 lines

Debian: updated control file:
1. removed libfltk1.3 as a dependency (statically linked now)
2. added various dependencies, esp. X window stuff
3. bumped version

------------------------------------------------------------------------
r594 | ajapted | 2012-12-24 22:14:49 +1100 (Mon, 24 Dec 2012) | 2 lines

Debian: updated Makefile to &quot;install&quot; the eureka desktop file and icon.

------------------------------------------------------------------------
r593 | ajapted | 2012-12-24 19:22:34 +1100 (Mon, 24 Dec 2012) | 4 lines

Makefile: support for static linking with an FLTK which does not include
OpenGL support and which uses 'localjpeg' and 'localpng' configuration.
That is conditional on FLTK_STATIC being defined.

------------------------------------------------------------------------
r592 | ajapted | 2012-12-24 19:18:58 +1100 (Mon, 24 Dec 2012) | 3 lines

Manage Wads dialog: fixed bug where the selected port reset to 'boom'
unless the user selected something in the choice button.

------------------------------------------------------------------------
r591 | ajapted | 2012-12-24 16:54:40 +1100 (Mon, 24 Dec 2012) | 2 lines

PORT defs: tweaks.

------------------------------------------------------------------------
r590 | ajapted | 2012-12-24 16:53:49 +1100 (Mon, 24 Dec 2012) | 2 lines

AUTHORS.txt updated.

------------------------------------------------------------------------
r589 | ajapted | 2012-12-24 16:50:52 +1100 (Mon, 24 Dec 2012) | 2 lines

LineDef panel: minor rename: 'pass use' --&gt; 'pass thru'

------------------------------------------------------------------------
r588 | ajapted | 2012-12-24 15:47:37 +1100 (Mon, 24 Dec 2012) | 3 lines

PORTS: added Doom Legacy definition 'legacy.ugh', by wesleyjohnson
(with a few tweaks by me).

------------------------------------------------------------------------
r587 | ajapted | 2012-12-24 12:13:04 +1100 (Mon, 24 Dec 2012) | 3 lines

Fix (hopefully) for compile error on 64-bit targets: casting a 'void*'
to an 'int' losing precision.

------------------------------------------------------------------------
r586 | ajapted | 2012-12-23 18:24:18 +1100 (Sun, 23 Dec 2012) | 2 lines

CHANGELOG: added revision numbers and &quot;Changes since ...&quot; line.

------------------------------------------------------------------------
r585 | ajapted | 2012-12-23 16:12:45 +1100 (Sun, 23 Dec 2012) | 3 lines

Docs: created a single file with all the repository commit history,
namely the 'docs/History.txt' file.  Hence removed the other copies.

------------------------------------------------------------------------
r584 | ajapted | 2012-12-23 14:55:34 +1100 (Sun, 23 Dec 2012) | 2 lines

WISHLIST update.

------------------------------------------------------------------------
r583 | ajapted | 2012-12-23 14:23:56 +1100 (Sun, 23 Dec 2012) | 2 lines

Changed '__EUREKA' lump format, store 'game' instead than an iwad path.

------------------------------------------------------------------------
r582 | ajapted | 2012-12-23 14:09:25 +1100 (Sun, 23 Dec 2012) | 6 lines

Handle the '__EUREKA' lump a lot more robustly:
1. if the game is unsupported, warn user with a choice: ignore/cancel
2. if iwad is not found, but it is known, use the known path
3. if iwad cannot be found at all, warn user with a choice: ignore/cancel
4. log some warnings on syntax errors

------------------------------------------------------------------------
r581 | ajapted | 2012-12-23 12:33:07 +1100 (Sun, 23 Dec 2012) | 4 lines

Updated handing of '__EUREKA' lump, the M_ParseEurekaLump() can now
return false (e.g. when the iwad cannot be found) -- hence need to be
able to cancel the OpenMap or OpenRecentMap command.

------------------------------------------------------------------------
r580 | ajapted | 2012-12-22 22:27:32 +1100 (Sat, 22 Dec 2012) | 2 lines

tweaked pack-source script

------------------------------------------------------------------------
r579 | ajapted | 2012-12-22 17:54:38 +1100 (Sat, 22 Dec 2012) | 2 lines

README.txt : tweaked a few things, updated keyboard controls.

------------------------------------------------------------------------
r578 | ajapted | 2012-12-22 17:43:49 +1100 (Sat, 22 Dec 2012) | 2 lines

INSTALL.txt : small update to setting up section.

------------------------------------------------------------------------
r577 | ajapted | 2012-12-22 17:39:54 +1100 (Sat, 22 Dec 2012) | 2 lines

svn ignorations

------------------------------------------------------------------------
r576 | ajapted | 2012-12-22 17:17:53 +1100 (Sat, 22 Dec 2012) | 2 lines

TODO updated.

------------------------------------------------------------------------
r575 | ajapted | 2012-12-22 17:15:01 +1100 (Sat, 22 Dec 2012) | 2 lines

INSTALL.txt : tweak

------------------------------------------------------------------------
r574 | ajapted | 2012-12-22 17:09:12 +1100 (Sat, 22 Dec 2012) | 2 lines

MacOSX: home_dir changed to '~/Library/Application Support/eureka-editor'

------------------------------------------------------------------------
r573 | ajapted | 2012-12-22 17:07:43 +1100 (Sat, 22 Dec 2012) | 2 lines

Version bumped to 0.88 -- ready for release.

------------------------------------------------------------------------
r572 | ajapted | 2012-12-17 23:14:55 +1100 (Mon, 17 Dec 2012) | 2 lines

WISHLIST update.

------------------------------------------------------------------------
r571 | ajapted | 2012-12-17 23:13:08 +1100 (Mon, 17 Dec 2012) | 2 lines

CHANGELOG: updated, e.g. group View menu stuff together.

------------------------------------------------------------------------
r570 | ajapted | 2012-12-17 23:05:22 +1100 (Mon, 17 Dec 2012) | 3 lines

Copy'n'paste: properly assign a new middle texture for linedefs which
lose a sidedef (because the sector no longer exists).

------------------------------------------------------------------------
r569 | ajapted | 2012-12-17 22:51:56 +1100 (Mon, 17 Dec 2012) | 3 lines

Copy'n'paste: when pasting, flip linedefs that would otherwise end up
with only a left side (no right side).

------------------------------------------------------------------------
r568 | ajapted | 2012-12-17 15:12:24 +1100 (Mon, 17 Dec 2012) | 2 lines

Error message tweak.

------------------------------------------------------------------------
r567 | ajapted | 2012-12-17 15:08:59 +1100 (Mon, 17 Dec 2012) | 2 lines

comment tweak

------------------------------------------------------------------------
r566 | ajapted | 2012-12-17 15:07:46 +1100 (Mon, 17 Dec 2012) | 3 lines

main: moved IWAD handling into a DetermineIWAD() function, and make sure
that the --iwad parameter not only exists but is a supported game.

------------------------------------------------------------------------
r565 | ajapted | 2012-12-17 14:46:59 +1100 (Mon, 17 Dec 2012) | 2 lines

Info bar: when map is changed, draw a '*' next to the map name.

------------------------------------------------------------------------
r564 | ajapted | 2012-12-17 14:22:00 +1100 (Mon, 17 Dec 2012) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r563 | ajapted | 2012-12-17 14:21:37 +1100 (Mon, 17 Dec 2012) | 2 lines

Support for --iwad parameter being a bare game name.

------------------------------------------------------------------------
r562 | ajapted | 2012-12-17 14:11:52 +1100 (Mon, 17 Dec 2012) | 2 lines

File utilities: added FilenameIsBare() function.

------------------------------------------------------------------------
r561 | ajapted | 2012-12-17 13:55:17 +1100 (Mon, 17 Dec 2012) | 4 lines

If the --iwad parameter is missing an extension, add &quot;.wad&quot;.

Removed the obsolete DetermineIWAD() code.

------------------------------------------------------------------------
r560 | ajapted | 2012-12-17 12:18:24 +1100 (Mon, 17 Dec 2012) | 2 lines

INSTALL.txt : updated the 'Setting Up' section.

------------------------------------------------------------------------
r559 | ajapted | 2012-12-17 12:02:48 +1100 (Mon, 17 Dec 2012) | 2 lines

docco tweaks.

------------------------------------------------------------------------
r558 | ajapted | 2012-12-17 11:42:09 +1100 (Mon, 17 Dec 2012) | 2 lines

m_files.h needed a forward declaration -- patch courtesy Jeremy Henty.

------------------------------------------------------------------------
r557 | ajapted | 2012-12-17 11:35:36 +1100 (Mon, 17 Dec 2012) | 4 lines

HACX things:
1. added missing BRS1 (mummy) and BAR1 (nitro canister) things
2. added two categories: 'Gore' and 'Natural'

------------------------------------------------------------------------
r556 | ajapted | 2012-12-16 20:21:43 +1100 (Sun, 16 Dec 2012) | 2 lines

WISHLIST update (e.g. backup system)

------------------------------------------------------------------------
r555 | ajapted | 2012-12-16 20:14:40 +1100 (Sun, 16 Dec 2012) | 2 lines

CHANGELOG: update

------------------------------------------------------------------------
r554 | ajapted | 2012-12-16 20:12:21 +1100 (Sun, 16 Dec 2012) | 2 lines

HACX: added a lot of missing things.

------------------------------------------------------------------------
r553 | ajapted | 2012-12-16 19:18:06 +1100 (Sun, 16 Dec 2012) | 2 lines

HACX: fixed names of powerups (based on the pickup messages).

------------------------------------------------------------------------
r552 | ajapted | 2012-12-16 19:12:32 +1100 (Sun, 16 Dec 2012) | 2 lines

Grid: changed default step yet again ---&gt; 64

------------------------------------------------------------------------
r551 | ajapted | 2012-12-16 16:17:39 +1100 (Sun, 16 Dec 2012) | 2 lines

HACX: changed the default textures.

------------------------------------------------------------------------
r550 | ajapted | 2012-12-16 16:06:25 +1100 (Sun, 16 Dec 2012) | 2 lines

HACX: added more things (decorations), and fixed a few bugs.

------------------------------------------------------------------------
r549 | ajapted | 2012-12-16 12:13:41 +1100 (Sun, 16 Dec 2012) | 2 lines

Game defs: began work on HACX definition file.

------------------------------------------------------------------------
r548 | ajapted | 2012-12-16 11:52:06 +1100 (Sun, 16 Dec 2012) | 2 lines

tweaked some warning messages

------------------------------------------------------------------------
r547 | ajapted | 2012-12-16 11:32:27 +1100 (Sun, 16 Dec 2012) | 2 lines

dead code removal

------------------------------------------------------------------------
r546 | ajapted | 2012-12-15 22:43:37 +1100 (Sat, 15 Dec 2012) | 2 lines

TODO and WISHLIST update.

------------------------------------------------------------------------
r545 | ajapted | 2012-12-15 22:42:14 +1100 (Sat, 15 Dec 2012) | 2 lines

Moved file 'New_Workflow.txt' out of docs/

------------------------------------------------------------------------
r544 | ajapted | 2012-12-15 22:26:03 +1100 (Sat, 15 Dec 2012) | 2 lines

Menu: disabled the unimplemented Preferences command.

------------------------------------------------------------------------
r543 | ajapted | 2012-12-15 21:17:28 +1100 (Sat, 15 Dec 2012) | 2 lines

Menu: disabled the unimplemented 'Find' and 'Find Next' commands.

------------------------------------------------------------------------
r542 | ajapted | 2012-12-15 20:16:08 +1100 (Sat, 15 Dec 2012) | 2 lines

CHANGELOG: added all the recent 'Manage Wads' work...

------------------------------------------------------------------------
r541 | ajapted | 2012-12-15 20:06:58 +1100 (Sat, 15 Dec 2012) | 2 lines

minor rename: CMD_PlayMap --&gt; CMD_TestMap

------------------------------------------------------------------------
r540 | ajapted | 2012-12-15 20:03:23 +1100 (Sat, 15 Dec 2012) | 2 lines

Added doc about level checking: misc/Checks.txt

------------------------------------------------------------------------
r539 | ajapted | 2012-12-15 16:06:55 +1100 (Sat, 15 Dec 2012) | 2 lines

CMD_OpenMap / OpenRecentMap : handle the '__EUREKA' lump.

------------------------------------------------------------------------
r538 | ajapted | 2012-12-15 15:13:31 +1100 (Sat, 15 Dec 2012) | 2 lines

tweaks for '__EUREKA' lump handling...

------------------------------------------------------------------------
r537 | ajapted | 2012-12-15 15:11:56 +1100 (Sat, 15 Dec 2012) | 2 lines

Wad code: implemented Lump_c::GetLine() method.

------------------------------------------------------------------------
r536 | ajapted | 2012-12-15 14:57:04 +1100 (Sat, 15 Dec 2012) | 4 lines

The __EUREKA lump:
1. implemented parsing code
2. fixed missing 'lump-&gt;Finish()' in writing code

------------------------------------------------------------------------
r535 | ajapted | 2012-12-15 14:10:57 +1100 (Sat, 15 Dec 2012) | 3 lines

Worked on support for '__EUREKA' lump, which contains the project info
(the IWAD, port and resource wads).  So far, can only create the lump.

------------------------------------------------------------------------
r534 | ajapted | 2012-12-15 14:04:29 +1100 (Sat, 15 Dec 2012) | 2 lines

Wad code: added Lump_c::Printf() method.

------------------------------------------------------------------------
r533 | ajapted | 2012-12-15 13:29:53 +1100 (Sat, 15 Dec 2012) | 3 lines

Manage Wads dialog: implemented code for 'Find' button which repopulates
the iwad choice button with the known iwads.

------------------------------------------------------------------------
r532 | ajapted | 2012-12-14 21:47:11 +1100 (Fri, 14 Dec 2012) | 2 lines

Manage Wads dialog: more work on this delightful little f....

------------------------------------------------------------------------
r531 | ajapted | 2012-12-14 21:13:53 +1100 (Fri, 14 Dec 2012) | 2 lines

TODO / WISHLIST update.

------------------------------------------------------------------------
r530 | ajapted | 2012-12-14 21:07:33 +1100 (Fri, 14 Dec 2012) | 3 lines

Manage Wads dialog: tweaked startup message, using a red background and
yellow text which makes it very striking.

------------------------------------------------------------------------
r529 | ajapted | 2012-12-14 20:55:08 +1100 (Fri, 14 Dec 2012) | 3 lines

Worked on showing the Manage Wads dialog at startup when no iwads were
found.  Also, properly setup Iwad_name (etc) from that dialog.

------------------------------------------------------------------------
r528 | ajapted | 2012-12-14 20:37:49 +1100 (Fri, 14 Dec 2012) | 2 lines

Utilities: allow passing NULL to StringDup() -- just return NULL.

------------------------------------------------------------------------
r527 | ajapted | 2012-12-14 20:16:57 +1100 (Fri, 14 Dec 2012) | 2 lines

When Iwad_name is unset, try to pick a sensible default.

------------------------------------------------------------------------
r526 | ajapted | 2012-12-14 20:15:27 +1100 (Fri, 14 Dec 2012) | 3 lines

Implemented M_PickDefaultIWAD() -- guesses either DOOM or DOOM2 based on
level names (if any), and as last resource picks any known iwad.

------------------------------------------------------------------------
r525 | ajapted | 2012-12-14 19:50:38 +1100 (Fri, 14 Dec 2012) | 4 lines

Worked on getting the startup sequence in main() sorted out, e.g. we now
load the PWAD (but not the map) before other stuff so that the __EUREKA
lump can be handled appropriately.

------------------------------------------------------------------------
r524 | ajapted | 2012-12-14 19:24:53 +1100 (Fri, 14 Dec 2012) | 2 lines

Added EUREKA_LUMP define, bumped version.

------------------------------------------------------------------------
r523 | ajapted | 2012-12-14 17:18:06 +1100 (Fri, 14 Dec 2012) | 4 lines

Removed the unused 'remind_to_build_nodes' stuff, I think for Eureka
such a dialog could be really annoying -- for Yadex it was OK since
the message was merely printed to the terminal.

------------------------------------------------------------------------
r522 | ajapted | 2012-12-14 15:25:58 +1100 (Fri, 14 Dec 2012) | 2 lines

fixed bug in SearchDirForIWAD (need &quot;.wad&quot; extenstion)

------------------------------------------------------------------------
r521 | ajapted | 2012-12-14 13:45:18 +1100 (Fri, 14 Dec 2012) | 4 lines

Worked on new M_LookForIWADs() code which looks for each game iwad in
various places and updates the known_iwads list when found.  This
involves moving some code (e.g. SearchDirForIWAD) into m_files.cc.

------------------------------------------------------------------------
r520 | ajapted | 2012-12-14 13:40:10 +1100 (Fri, 14 Dec 2012) | 2 lines

Fixed FatalError() messages which lacked a trailing newline.

------------------------------------------------------------------------
r519 | ajapted | 2012-12-14 13:18:15 +1100 (Fri, 14 Dec 2012) | 2 lines

Ensure recent filenames and known iwad filenames are absolute.

------------------------------------------------------------------------
r518 | ajapted | 2012-12-14 13:04:23 +1100 (Fri, 14 Dec 2012) | 2 lines

debugging fix.

------------------------------------------------------------------------
r517 | ajapted | 2012-12-14 13:00:07 +1100 (Fri, 14 Dec 2012) | 2 lines

When loading recent files and known iwads, check the file still exists.

------------------------------------------------------------------------
r516 | ajapted | 2012-12-14 12:57:08 +1100 (Fri, 14 Dec 2012) | 2 lines

Implemented parsing logic for &quot;misc.cfg&quot; -- recent wads and known iwads.

------------------------------------------------------------------------
r515 | ajapted | 2012-12-14 12:04:45 +1100 (Fri, 14 Dec 2012) | 3 lines

Worked on saving known iwads in the 'misc.cfg' file, and changed the
format of the recent files.  Loading is not done yet...

------------------------------------------------------------------------
r514 | ajapted | 2012-12-14 10:52:57 +1100 (Fri, 14 Dec 2012) | 4 lines

Project Setup dialog:
1. properly setup the 'Game IWAD' choice, using the known iwads list
2. fixed window close button (use close_callback)

------------------------------------------------------------------------
r513 | ajapted | 2012-12-14 10:46:29 +1100 (Fri, 14 Dec 2012) | 3 lines

Known iwads: implemented function to return '|'-separated list of game
names, namely M_KnownIWADsForMenu().

------------------------------------------------------------------------
r512 | ajapted | 2012-12-13 22:47:49 +1100 (Thu, 13 Dec 2012) | 2 lines

Known iwads: implemented M_AddKnownIWAD() and M_QueryrKnownIWAD() functions.

------------------------------------------------------------------------
r511 | ajapted | 2012-12-13 20:28:57 +1100 (Thu, 13 Dec 2012) | 2 lines

Bound '\' key to cycle categories in the browser.

------------------------------------------------------------------------
r510 | ajapted | 2012-12-13 20:09:03 +1100 (Thu, 13 Dec 2012) | 2 lines

Renamed recent.cfg --&gt; misc.cfg  [it will contain other stuff too]

------------------------------------------------------------------------
r509 | ajapted | 2012-12-13 20:00:01 +1100 (Thu, 13 Dec 2012) | 5 lines

Config handling:
1. have a 'v' flag for real variables (only those are written out)
2. hence no need for 'h' flag -- removed
3. tweaked the --help descriptions (esp. for merge)

------------------------------------------------------------------------
r508 | ajapted | 2012-12-13 19:46:51 +1100 (Thu, 13 Dec 2012) | 2 lines

Config handling: implemented M_WriteConfigFile().

------------------------------------------------------------------------
r507 | ajapted | 2012-12-13 19:21:53 +1100 (Thu, 13 Dec 2012) | 3 lines

Config handling: minor function rename, e.g. M_ParseConfigFile() and
M_ParseCommandLine(), and rejiggage of how they are called.

------------------------------------------------------------------------
r506 | ajapted | 2012-12-13 16:49:51 +1100 (Thu, 13 Dec 2012) | 2 lines

part (b) of renamed code files: m_recent --&gt; m_files

------------------------------------------------------------------------
r505 | ajapted | 2012-12-13 15:53:02 +1100 (Thu, 13 Dec 2012) | 2 lines

Renamed code file: m_recent.cc/h --&gt; m_files.cc/h

------------------------------------------------------------------------
r504 | ajapted | 2012-12-13 15:42:42 +1100 (Thu, 13 Dec 2012) | 2 lines

Game defs: implemented M_CollectKnownDefs() function.

------------------------------------------------------------------------
r503 | ajapted | 2012-12-13 15:22:18 +1100 (Thu, 13 Dec 2012) | 3 lines

M_CollectDefsForMenu: pass in an existing name, and pass out its index
(if found).

------------------------------------------------------------------------
r502 | ajapted | 2012-12-13 15:20:35 +1100 (Thu, 13 Dec 2012) | 3 lines

Renamed the File -&gt; 'Project Setup' command to 'Manage Wads'
(as a test, since I haven't decided which one is more intuitive).

------------------------------------------------------------------------
r501 | ajapted | 2012-12-13 00:01:39 +1100 (Thu, 13 Dec 2012) | 3 lines

Partial work on logic to get a list of definitions (e.g. list of ports)
by scanning the installed UGH files.

------------------------------------------------------------------------
r500 | ajapted | 2012-12-11 22:29:45 +1100 (Tue, 11 Dec 2012) | 2 lines

TODO update.

------------------------------------------------------------------------
r499 | ajapted | 2012-12-11 22:09:54 +1100 (Tue, 11 Dec 2012) | 3 lines

Project Setup dialog: got the resource buttons ('X' and 'Load') working
and got the IWAD 'Find' button mostly working.

------------------------------------------------------------------------
r498 | ajapted | 2012-12-11 21:40:52 +1100 (Tue, 11 Dec 2012) | 3 lines

Moved texture loading calls into Main_LoadResources(), making sure that
all previous textures are removed and freed.

------------------------------------------------------------------------
r497 | ajapted | 2012-12-11 21:36:55 +1100 (Tue, 11 Dec 2012) | 2 lines

Show a '*' in the window title bar when the map has been modified.

------------------------------------------------------------------------
r496 | ajapted | 2012-12-11 21:34:46 +1100 (Tue, 11 Dec 2012) | 2 lines

Code tidying: removed some dead code (e.g. DrawScreenText).

------------------------------------------------------------------------
r495 | ajapted | 2012-12-11 14:37:58 +1100 (Tue, 11 Dec 2012) | 5 lines

Implemented ability to load &quot;mod&quot; definition files, which correspond to a
loaded resource wad.

Also fixed Main_LoadResources() to clear all definitions.

------------------------------------------------------------------------
r494 | ajapted | 2012-12-11 14:25:15 +1100 (Tue, 11 Dec 2012) | 3 lines

Factored IWAD/resource loading code into Main_LoadResources() function.
This is going to allow dynamically changing the iwad/port/resources.

------------------------------------------------------------------------
r493 | ajapted | 2012-12-11 14:11:22 +1100 (Tue, 11 Dec 2012) | 5 lines

Code tidying:
1. renamed global var: base_wad --&gt; game_wad
2. renamed Iwad --&gt; Iwad_name, ensure it stays valid
3. renamed Pwad --&gt; Pwad_name, keep it valid (when changing edit_wad)

------------------------------------------------------------------------
r492 | ajapted | 2012-12-11 13:54:56 +1100 (Tue, 11 Dec 2012) | 2 lines

Project Setup dialog: bit more work e.g. Populate method...

------------------------------------------------------------------------
r491 | ajapted | 2012-12-11 11:57:22 +1100 (Tue, 11 Dec 2012) | 5 lines

File menu update:
1. added 'Project Setup' command
2. CTRL-R is now the shortcut key for 'Recent Files' command
3. tweaked the keyboard navigation

------------------------------------------------------------------------
r490 | ajapted | 2012-12-11 11:55:04 +1100 (Tue, 11 Dec 2012) | 2 lines

Project Setup: bit more work, wrote skeletal Main_ProjectSetup() code.

------------------------------------------------------------------------
r489 | ajapted | 2012-12-11 11:50:22 +1100 (Tue, 11 Dec 2012) | 3 lines

Renamed UI_ProjectInfo --&gt; UI_ProjectSetup, added skeletal callback
functions, fixed window title and resource numbering.

------------------------------------------------------------------------
r488 | ajapted | 2012-12-11 11:33:41 +1100 (Tue, 11 Dec 2012) | 1 line

tweak
------------------------------------------------------------------------
r487 | ajapted | 2012-12-11 11:26:04 +1100 (Tue, 11 Dec 2012) | 2 lines

manage2.fl : various work

------------------------------------------------------------------------
r486 | ajapted | 2012-12-11 10:57:33 +1100 (Tue, 11 Dec 2012) | 4 lines

Began work on a 'Project Info' dialog, where the user can select / change
the current IWAD and port (engine) and resource wads.  So far this is
only the widget layout (imported from fluid output).

------------------------------------------------------------------------
r485 | ajapted | 2012-12-10 22:02:57 +1100 (Mon, 10 Dec 2012) | 2 lines

TODO update.

------------------------------------------------------------------------
r484 | ajapted | 2012-12-10 21:23:14 +1100 (Mon, 10 Dec 2012) | 10 lines

Open Map dialog: we no longer directly change 'edit_wad' in the dialog
itself, instead we keep a local copy of the Wad_file object, and
communicate the newly-openness of it via 'is_new_pwad' Run() param.

Updated the CMD_OpenMap() logic accordingly, removing the edit_wad
from master dir when the returned wad is different, and establishing
the 'new_pwad' as the edit_wad if that's what the user selected.

So I think the logic is 100% correct now, but will review it soon...

------------------------------------------------------------------------
r483 | ajapted | 2012-12-10 20:55:31 +1100 (Mon, 10 Dec 2012) | 2 lines

Disconnect Sectors: fixed texture on the separated linedefs.

------------------------------------------------------------------------
r482 | ajapted | 2012-12-10 15:25:43 +1100 (Mon, 10 Dec 2012) | 2 lines

Disconnect Sectors: improved calculation of move vector.

------------------------------------------------------------------------
r481 | ajapted | 2012-12-10 15:16:44 +1100 (Mon, 10 Dec 2012) | 3 lines

Disconnect Sectors: got the logic for moving the vertices in a good
direction working, via new DETSEC_CalcMoveVector() function.

------------------------------------------------------------------------
r480 | ajapted | 2012-12-10 14:37:17 +1100 (Mon, 10 Dec 2012) | 2 lines

Merge linedefs: fixed handling of sidedef textures.

------------------------------------------------------------------------
r479 | ajapted | 2012-12-10 11:29:58 +1100 (Mon, 10 Dec 2012) | 3 lines

Open Map dialog: re-check map name after changing the &quot;Look in&quot; wad or
after loading a new pwad.  Fixed some bugs.

------------------------------------------------------------------------
r478 | ajapted | 2012-12-10 11:19:21 +1100 (Mon, 10 Dec 2012) | 4 lines

Open Map dialog: implemented logic to validate the map name, including
checking that it exists in the selected wad, and only enable the &quot;OK&quot;
button when valid.

------------------------------------------------------------------------
r477 | ajapted | 2012-12-09 22:34:51 +1100 (Sun, 09 Dec 2012) | 2 lines

TODO update.

------------------------------------------------------------------------
r476 | ajapted | 2012-12-09 22:29:34 +1100 (Sun, 09 Dec 2012) | 2 lines

Open Map dialog: prevent loading a PWAD without any levels.

------------------------------------------------------------------------
r475 | ajapted | 2012-12-09 22:25:51 +1100 (Sun, 09 Dec 2012) | 2 lines

CMD_OpenMap: fixed the new 'Replacer' logic.

------------------------------------------------------------------------
r474 | ajapted | 2012-12-09 22:10:30 +1100 (Sun, 09 Dec 2012) | 5 lines

Open Map dialog:
1. use it properly in CMD_OpenMap() -- remove a lot of old logic
2. return the selected wad and map from the Run() method
3. support clicking on a map button

------------------------------------------------------------------------
r473 | ajapted | 2012-12-09 21:47:46 +1100 (Sun, 09 Dec 2012) | 6 lines

Open Map dialog: implemented the 'Load' button, which pops up a file
requester to get a WAD file and can load that as the 'edit_wad' (code
portions were copy'n'pasted from CMD_OpenMap).

We also setup the currently edited pwad widget.

------------------------------------------------------------------------
r472 | ajapted | 2012-12-09 21:24:05 +1100 (Sun, 09 Dec 2012) | 5 lines

Choose Map dialog: implemented checking the map name as the user types it,
when invalid it is drawn in RED and the OK button is deactivated.

Also removed some gunk.

------------------------------------------------------------------------
r471 | ajapted | 2012-12-09 19:54:33 +1100 (Sun, 09 Dec 2012) | 7 lines

Preferences dialog: more work in fluid:
1. fixed the radio and check buttons so the size covers the label
2. added C++ variable names to each widget
3. use BORDER_BOX for color buttons (so the plastic scheme doesn't show
   the wrong color)
4. miscellaneous tweaking.

------------------------------------------------------------------------
r470 | ajapted | 2012-12-09 18:51:16 +1100 (Sun, 09 Dec 2012) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r469 | ajapted | 2012-12-09 18:41:41 +1100 (Sun, 09 Dec 2012) | 3 lines

Open Map dialog: improved layout of map buttons, make buttons bigger
when there are less columns, and use less rows sometimes.

------------------------------------------------------------------------
r468 | ajapted | 2012-12-09 17:12:35 +1100 (Sun, 09 Dec 2012) | 3 lines

Open Map dialog: wrote the Populate() method which creates a button for
each found map in the selected &quot;look for&quot; place.

------------------------------------------------------------------------
r467 | ajapted | 2012-12-09 16:40:21 +1100 (Sun, 09 Dec 2012) | 2 lines

Open Map dialog: made more compact (vertically) + a few tweaks.

------------------------------------------------------------------------
r466 | ajapted | 2012-12-09 16:08:59 +1100 (Sun, 09 Dec 2012) | 3 lines

Open Map dialog: a few fixes, especially a bad labelfont() value which
caused a crash.

------------------------------------------------------------------------
r465 | ajapted | 2012-12-09 15:53:27 +1100 (Sun, 09 Dec 2012) | 2 lines

Partial work on new 'Open Map' dialog, main skeleton and widget layout.

------------------------------------------------------------------------
r464 | ajapted | 2012-12-09 15:31:35 +1100 (Sun, 09 Dec 2012) | 2 lines

Use the new map choosing dialog with File/New command.

------------------------------------------------------------------------
r463 | ajapted | 2012-12-09 14:37:39 +1100 (Sun, 09 Dec 2012) | 5 lines

Choose Map dialog:
1. changed the layout so that MAP01/02/03 (etc) goes down columns
   instead of across rows
2. got the buttons working (implemented the callback)

------------------------------------------------------------------------
r462 | ajapted | 2012-12-09 14:23:05 +1100 (Sun, 09 Dec 2012) | 3 lines

Choose Map dialog: code to populate with map-name buttons.  It can also
test whether the map already exists, changes the color of the button.

------------------------------------------------------------------------
r461 | ajapted | 2012-12-09 13:27:38 +1100 (Sun, 09 Dec 2012) | 4 lines

Export map: use the new 'Choose Map' dialog.  We also open/create the
destination wad file first, so that the dialog will be able to show
which maps are used and which maps are free (planned feature).

------------------------------------------------------------------------
r460 | ajapted | 2012-12-09 13:24:17 +1100 (Sun, 09 Dec 2012) | 2 lines

UI_ChooseMap: validate the map name, and fixed several issues.

------------------------------------------------------------------------
r459 | ajapted | 2012-12-09 12:52:16 +1100 (Sun, 09 Dec 2012) | 2 lines

Worked on 'Choose Map' dialog, basic widgets are in place...

------------------------------------------------------------------------
r458 | ajapted | 2012-12-09 12:23:54 +1100 (Sun, 09 Dec 2012) | 3 lines

Added new code files 'ui_file.cc/h', which will contain some File-related
dialogs.  Currently only has the beginnings of a UI_ChooseMap dialog.

------------------------------------------------------------------------
r457 | ajapted | 2012-12-08 22:14:27 +1100 (Sat, 08 Dec 2012) | 3 lines

Misc: commit the in-progress fluid versions of Preference dialog and
Project Info (wad manager) dialog.

------------------------------------------------------------------------
r456 | ajapted | 2012-12-08 21:26:14 +1100 (Sat, 08 Dec 2012) | 2 lines

implemented 'View / Whole Selection' menu command.

------------------------------------------------------------------------
r455 | ajapted | 2012-12-08 20:38:21 +1100 (Sat, 08 Dec 2012) | 4 lines

Preferences: added bare-bones code files: ui_prefs.cc/h

(The actual dialog is being worked on in fluid...)

------------------------------------------------------------------------
r454 | ajapted | 2012-12-08 18:30:04 +1100 (Sat, 08 Dec 2012) | 2 lines

Removed obselete config vars: 'sprite_scale' and 'copy_linedef_reuse_sidedef'.

------------------------------------------------------------------------
r453 | ajapted | 2012-12-08 15:58:07 +1100 (Sat, 08 Dec 2012) | 2 lines

CHANGELOG: update, rejigged the order of some items.

------------------------------------------------------------------------
r452 | ajapted | 2012-12-08 15:56:09 +1100 (Sat, 08 Dec 2012) | 3 lines

Fixed File/Open and OpenRecent to not zoom out when there is persisted
state for that map.

------------------------------------------------------------------------
r451 | ajapted | 2012-12-08 15:49:48 +1100 (Sat, 08 Dec 2012) | 2 lines

Recent files: actually load the file/map picked in the GUI.

------------------------------------------------------------------------
r450 | ajapted | 2012-12-08 15:39:10 +1100 (Sat, 08 Dec 2012) | 3 lines

Recent files: implemented callback for the buttons, we use the user data
to hold the index number (needed a ugly hack to allow that).

------------------------------------------------------------------------
r449 | ajapted | 2012-12-08 15:25:16 +1100 (Sat, 08 Dec 2012) | 4 lines

Recent files: partial work on CMD_OpenRecentMap() code which is
responsible for actually opening the selected map.  Also updated
M_RecentDialog() to pass back the chosen filename and map.

------------------------------------------------------------------------
r448 | ajapted | 2012-12-08 15:08:36 +1100 (Sat, 08 Dec 2012) | 2 lines

Recent files: layout tweaks.

------------------------------------------------------------------------
r447 | ajapted | 2012-12-08 15:04:05 +1100 (Sat, 08 Dec 2012) | 8 lines

Recent files:
1. reduced MAX_RECENT from 10 to 8
2. the find() method can also match a map name
3. added Format() method to format a file/map for a gui button
4. made the dialog window height depend on # of recent files
5. create buttons for each file/map
6. show a different message when list is empty

------------------------------------------------------------------------
r446 | ajapted | 2012-12-08 14:32:10 +1100 (Sat, 08 Dec 2012) | 2 lines

Recent files: implemented the cancel button (close_callback).

------------------------------------------------------------------------
r445 | ajapted | 2012-12-08 14:00:45 +1100 (Sat, 08 Dec 2012) | 3 lines

Recent files: began work on dialog to show the files and let the user
select one.  So far this is just creates the window, nothing works yet.

------------------------------------------------------------------------
r444 | ajapted | 2012-12-08 13:44:37 +1100 (Sat, 08 Dec 2012) | 3 lines

Made linedef-path and contig-sector select commands consistent with
normal selection -- clear previous selection after a move.

------------------------------------------------------------------------
r443 | ajapted | 2012-12-08 13:37:30 +1100 (Sat, 08 Dec 2012) | 2 lines

Merge linedefs tweak.

------------------------------------------------------------------------
r442 | ajapted | 2012-12-08 12:59:28 +1100 (Sat, 08 Dec 2012) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r441 | ajapted | 2012-12-08 12:59:03 +1100 (Sat, 08 Dec 2012) | 2 lines

Linedef mode: Implemented 'm' merge command for two one-sided lines.

------------------------------------------------------------------------
r440 | ajapted | 2012-12-08 12:38:35 +1100 (Sat, 08 Dec 2012) | 4 lines

Added a version of the Beep() function which takes a message, as
eventually it would be good to show a message somewhere (like a status
bar).

------------------------------------------------------------------------
r439 | ajapted | 2012-12-08 12:31:45 +1100 (Sat, 08 Dec 2012) | 2 lines

UI: added 'Recent file' command to File menu (does not work yet).

------------------------------------------------------------------------
r438 | ajapted | 2012-12-08 11:47:48 +1100 (Sat, 08 Dec 2012) | 2 lines

TODO update.

------------------------------------------------------------------------
r437 | ajapted | 2012-12-08 11:46:37 +1100 (Sat, 08 Dec 2012) | 2 lines

Disconnect sectors: fixed another issue.

------------------------------------------------------------------------
r436 | ajapted | 2012-12-08 11:33:07 +1100 (Sat, 08 Dec 2012) | 5 lines

Disconnect sectors:
1. got the sidedef handling in DETSEC_AddNewLine() working properly
2. fixed a bug where we visited newly added linedefs
3. few other fixes to the logic

------------------------------------------------------------------------
r435 | ajapted | 2012-12-08 11:04:28 +1100 (Sat, 08 Dec 2012) | 2 lines

Disconnect sectors: worked on line separation logic...

------------------------------------------------------------------------
r434 | ajapted | 2012-12-08 10:47:02 +1100 (Sat, 08 Dec 2012) | 2 lines

Worked on a 'd' disconnect command for Sectors...

------------------------------------------------------------------------
r433 | ajapted | 2012-12-07 22:49:02 +1100 (Fri, 07 Dec 2012) | 2 lines

TODO update.

------------------------------------------------------------------------
r432 | ajapted | 2012-12-07 22:47:40 +1100 (Fri, 07 Dec 2012) | 2 lines

UI: about box tweak.

------------------------------------------------------------------------
r431 | ajapted | 2012-12-07 22:13:27 +1100 (Fri, 07 Dec 2012) | 4 lines

Recent files:
1. fixed parse code to remove trailing CR/LF
2. call M_LoadRecent() and M_AddRecent() where needed

------------------------------------------------------------------------
r430 | ajapted | 2012-12-07 21:31:17 +1100 (Fri, 07 Dec 2012) | 2 lines

Recent files: implemented M_LoadRecent() and M_SaveRecent().

------------------------------------------------------------------------
r429 | ajapted | 2012-12-07 21:24:31 +1100 (Fri, 07 Dec 2012) | 2 lines

Recent files: implemented ParseFile() method and fixed a few bugs.

------------------------------------------------------------------------
r428 | ajapted | 2012-12-07 21:13:00 +1100 (Fri, 07 Dec 2012) | 5 lines

Recent files:
1. implemented insert() method, with logic to find() an existing file
   with the same base-name and erase() it.
2. implemented the WriteFile() method.

------------------------------------------------------------------------
r427 | ajapted | 2012-12-07 21:00:47 +1100 (Fri, 07 Dec 2012) | 3 lines

Began work on code to remember recently edited files, with a goal to
show a dialog allowing users to pick one to open.

------------------------------------------------------------------------
r426 | ajapted | 2012-12-07 20:29:10 +1100 (Fri, 07 Dec 2012) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r425 | ajapted | 2012-12-07 20:24:10 +1100 (Fri, 07 Dec 2012) | 2 lines

View menu: added 'Toggle Grid Type' item.

------------------------------------------------------------------------
r424 | ajapted | 2012-12-07 19:32:37 +1100 (Fri, 07 Dec 2012) | 7 lines

Show object nums: use a better algorithm for sectors, keep track of
which sectors we have &quot;seen&quot; and draw the number on the first visited
linedef.

Also changed the linedef position to be directly on the line (which
is generally uglier, but less confusing).

------------------------------------------------------------------------
r423 | ajapted | 2012-12-07 18:57:11 +1100 (Fri, 07 Dec 2012) | 6 lines

Show object nums: reworked drawing for Linedefs, done in a separate pass
(like things etc), and really honed the logic determining how far away
from the line's middle to draw the number.

Added 'center' parameter to DrawObjNum() method.

------------------------------------------------------------------------
r422 | ajapted | 2012-12-07 17:41:45 +1100 (Fri, 07 Dec 2012) | 2 lines

Show object nums: persist the setting.

------------------------------------------------------------------------
r421 | ajapted | 2012-12-07 16:11:43 +1100 (Fri, 07 Dec 2012) | 2 lines

Show object numbers: added to VIEW menu, and changed key to 'J'.

------------------------------------------------------------------------
r420 | ajapted | 2012-12-07 15:51:39 +1100 (Fri, 07 Dec 2012) | 8 lines

Worked to improve object numbers on canvas:
1. moved thing code into DrawThings()
2. moved sector code into new DrawSectorNums() method
3. OBJ_NUM_COL replaces the THING_NO, SECTOR_NO (etc) defines
4. DrawObjNum() no longer uses obsolete DrawScreenText() function
5. font size depends for the current scale
6. position the number at top/right of things and vertices

------------------------------------------------------------------------
r419 | ajapted | 2012-12-07 15:01:53 +1100 (Fri, 07 Dec 2012) | 2 lines

Key propagation: fixed the 3D view eating all keys when active.

------------------------------------------------------------------------
r418 | ajapted | 2012-12-07 13:45:40 +1100 (Fri, 07 Dec 2012) | 6 lines

Implemented a decent GoToObject() function, via new GoToSelection()
function which can zoom out when the objects are too large to fit
on-screen, or zoom in when they are very small.

New code is in e_path.cc/h (no longer in objects.cc/h)

------------------------------------------------------------------------
r417 | ajapted | 2012-12-07 12:43:05 +1100 (Fri, 07 Dec 2012) | 2 lines

Unbind 'n' and 'p' keys from the next obj / prev obj mis-feature.

------------------------------------------------------------------------
r416 | ajapted | 2012-12-07 11:09:57 +1100 (Fri, 07 Dec 2012) | 5 lines

Menu code stuff:
1. replace fl_beep() with Beep()
2. reworked find commands in View menu, removed 'next / prev object'
3. experimental support for Fullscreen mode

------------------------------------------------------------------------
r415 | ajapted | 2012-12-07 11:03:14 +1100 (Fri, 07 Dec 2012) | 3 lines

UI_Window: added ToggleFullscreen() method, though it doesn't work too
well (here anyway) due to FLTK's implementation.

------------------------------------------------------------------------
r414 | ajapted | 2012-12-06 23:57:21 +1100 (Thu, 06 Dec 2012) | 2 lines

TODO and WISHLIST updates.

------------------------------------------------------------------------
r413 | ajapted | 2012-12-06 23:54:16 +1100 (Thu, 06 Dec 2012) | 2 lines

Implemented 'm' merge command for vertex mode.

------------------------------------------------------------------------
r412 | ajapted | 2012-12-06 23:20:03 +1100 (Thu, 06 Dec 2012) | 2 lines

Removed dead code : set_colour(), push_colour(), pop_colour().

------------------------------------------------------------------------
r411 | ajapted | 2012-12-06 23:15:50 +1100 (Thu, 06 Dec 2012) | 4 lines

Merged stuff from s_misc.cc/h --&gt; e_sector.cc/h (some disabled code
which may be needed later).  Hence deleted s_misc.cc/h and removed
from the Makefile.

------------------------------------------------------------------------
r410 | ajapted | 2012-12-06 23:08:49 +1100 (Thu, 06 Dec 2012) | 2 lines

Removed dead code : find_linedef_for_area().

------------------------------------------------------------------------
r409 | ajapted | 2012-12-06 23:03:54 +1100 (Thu, 06 Dec 2012) | 3 lines

Removed dead code : old non-working SplitSector() and
SplitLineDefsAndSector() functions.

------------------------------------------------------------------------
r408 | ajapted | 2012-12-06 22:57:39 +1100 (Thu, 06 Dec 2012) | 2 lines

Config: support for color variables (via new OPT_COLOR type).

------------------------------------------------------------------------
r407 | ajapted | 2012-12-06 22:56:14 +1100 (Thu, 06 Dec 2012) | 3 lines

Added ParseColor() function to im_color code, originally in m_game.cc
but updated to support both 3- and 6-digit formats (RGB and RRGGBB).

------------------------------------------------------------------------
r406 | ajapted | 2012-12-06 16:37:21 +1100 (Thu, 06 Dec 2012) | 3 lines

Added 'digits_set_zoom' config var which enabled the Yadex behavior
where the digit keys set the zoom factor.

------------------------------------------------------------------------
r405 | ajapted | 2012-12-06 16:11:34 +1100 (Thu, 06 Dec 2012) | 2 lines

tweaked handling of BackSpace key.

------------------------------------------------------------------------
r404 | ajapted | 2012-12-06 16:10:50 +1100 (Thu, 06 Dec 2012) | 2 lines

Removed sector_slice() stuff : was unused and non-working.

------------------------------------------------------------------------
r403 | ajapted | 2012-12-06 15:52:22 +1100 (Thu, 06 Dec 2012) | 2 lines

Key propagation: moved more checks into mode-specific functions.

------------------------------------------------------------------------
r402 | ajapted | 2012-12-06 15:39:22 +1100 (Thu, 06 Dec 2012) | 3 lines

Key propagation: have a handler function for each editing mode, i.e.
Thing_Key(), Sector_Key(), etc...

------------------------------------------------------------------------
r401 | ajapted | 2012-12-06 15:22:50 +1100 (Thu, 06 Dec 2012) | 2 lines

Config: removed OPT_STRINGBUF8 as a config type (not needed).

------------------------------------------------------------------------
r400 | ajapted | 2012-12-06 14:34:27 +1100 (Thu, 06 Dec 2012) | 5 lines

Key propagation:
1. the Global_Key() handler has highest priority
2. moved handling of TAB and browser open keys to Global_Key()
3. new function: CMD_Toggle3Dview()

------------------------------------------------------------------------
r399 | ajapted | 2012-12-06 11:11:08 +1100 (Thu, 06 Dec 2012) | 2 lines

Partial work on new keyboard propagation logic....

------------------------------------------------------------------------
r398 | ajapted | 2012-12-06 10:34:09 +1100 (Thu, 06 Dec 2012) | 2 lines

CHANGELOG updated.

------------------------------------------------------------------------
r397 | ajapted | 2012-12-06 10:32:08 +1100 (Thu, 06 Dec 2012) | 2 lines

UI / Default props: persist the hidden/shown state.

------------------------------------------------------------------------
r396 | ajapted | 2012-12-06 10:18:11 +1100 (Thu, 06 Dec 2012) | 3 lines

UI / Default props: added a button which hides/shows the properties
(since they can be distracting during normal editing).

------------------------------------------------------------------------
r395 | ajapted | 2012-12-05 23:11:45 +1100 (Wed, 05 Dec 2012) | 2 lines

minor commenting...

------------------------------------------------------------------------
r394 | ajapted | 2012-12-05 23:10:08 +1100 (Wed, 05 Dec 2012) | 3 lines

Fixed Props_LoadValues() being called too early (before main_win was
created) and hence not working.

------------------------------------------------------------------------
r393 | ajapted | 2012-12-05 23:09:03 +1100 (Wed, 05 Dec 2012) | 2 lines

Game defs / DOOM: changed default_thing --&gt; 2014 (health potion)

------------------------------------------------------------------------
r392 | ajapted | 2012-12-05 23:03:53 +1100 (Wed, 05 Dec 2012) | 2 lines

UI / Default props: ability to set wall textures via the browser.

------------------------------------------------------------------------
r391 | ajapted | 2012-12-05 22:50:22 +1100 (Wed, 05 Dec 2012) | 2 lines

UI / Default props: ability to set sector flats via the browser.

------------------------------------------------------------------------
r390 | ajapted | 2012-12-05 22:44:37 +1100 (Wed, 05 Dec 2012) | 2 lines

minor rename, UI_Sector::SetTexture() --&gt; SetFlat()

------------------------------------------------------------------------
r389 | ajapted | 2012-12-05 22:40:54 +1100 (Wed, 05 Dec 2012) | 2 lines

UI / Default props: ability to set default thing via the browser.

------------------------------------------------------------------------
r388 | ajapted | 2012-12-05 22:33:29 +1100 (Wed, 05 Dec 2012) | 2 lines

Browser: got existing stuff working again via the new system.

------------------------------------------------------------------------
r387 | ajapted | 2012-12-05 22:23:43 +1100 (Wed, 05 Dec 2012) | 4 lines

Browser: partial work on passing all browser selections through a
new 'BrowsedItem()' method of UI_MainWin class.  This method will
decide what to do with the selected item.

------------------------------------------------------------------------
r386 | ajapted | 2012-12-05 21:35:27 +1100 (Wed, 05 Dec 2012) | 4 lines

UI / Default props: allow pics to be selected, opening the browser in
the right mode.  Unselect the pics when browser is closed.  Don't allow
both textures and flats to be selected.

------------------------------------------------------------------------
r385 | ajapted | 2012-12-05 21:16:01 +1100 (Wed, 05 Dec 2012) | 3 lines

UI / Default Props: got the texture and flat input fields working, and
make sure the name is normalized (uppercased and length limited).

------------------------------------------------------------------------
r384 | ajapted | 2012-12-05 21:02:31 +1100 (Wed, 05 Dec 2012) | 4 lines

UI / Default Props:
1. got the floor_h / ceil_h / light input fields working
2. fixed bug parsing the &quot;thing&quot; value from a user state file

------------------------------------------------------------------------
r383 | ajapted | 2012-12-05 20:50:48 +1100 (Wed, 05 Dec 2012) | 2 lines

UI / Default Props: implemented callbacks for height buttons.

------------------------------------------------------------------------
r382 | ajapted | 2012-12-05 20:05:55 +1100 (Wed, 05 Dec 2012) | 2 lines

UI / Default Props: added Props_LoadValues() function, call it where needed.

------------------------------------------------------------------------
r381 | ajapted | 2012-12-05 20:04:53 +1100 (Wed, 05 Dec 2012) | 2 lines

Browser: for textual modes, pack them a bit tighter vertically (show more).

------------------------------------------------------------------------
r380 | ajapted | 2012-12-05 19:50:54 +1100 (Wed, 05 Dec 2012) | 3 lines

UI / Default Props: implemented LoadValues() method to setup each widget
with the current values.

------------------------------------------------------------------------
r379 | ajapted | 2012-12-05 19:38:05 +1100 (Wed, 05 Dec 2012) | 3 lines

UI / Default Props: implemented Props_ParseUser(), and changed the write
code to use a space after &quot;default&quot;.

------------------------------------------------------------------------
r378 | ajapted | 2012-12-05 19:29:09 +1100 (Wed, 05 Dec 2012) | 2 lines

Utils: added StringTidy() function.

------------------------------------------------------------------------
r377 | ajapted | 2012-12-05 19:21:00 +1100 (Wed, 05 Dec 2012) | 2 lines

UI / Default Props: implemented Props_WriteUser().

------------------------------------------------------------------------
r376 | ajapted | 2012-12-05 19:19:52 +1100 (Wed, 05 Dec 2012) | 2 lines

New util function: StringRemoveCRLF().

------------------------------------------------------------------------
r375 | ajapted | 2012-12-05 17:19:24 +1100 (Wed, 05 Dec 2012) | 2 lines

Config: remove trailing LF (and/or CR) from .dat lines, for better warning messages.

------------------------------------------------------------------------
r374 | ajapted | 2012-12-05 17:12:33 +1100 (Wed, 05 Dec 2012) | 2 lines

minor renaming.

------------------------------------------------------------------------
r373 | ajapted | 2012-12-05 15:29:09 +1100 (Wed, 05 Dec 2012) | 5 lines

UI / Default Props: make consistent use of 'default_xxx' global vars,
which replace the 'g_default_xxx' ones in m_game.cc/h.  Moved their
definition into e_basis.cc (that's the primary place they are used).
Simplified some of the names.

------------------------------------------------------------------------
r372 | ajapted | 2012-12-05 15:11:00 +1100 (Wed, 05 Dec 2012) | 3 lines

Config: removed default_floor_height, default_middle_texture (etc...)
as config variables -- they are now considered as user state of a map.

------------------------------------------------------------------------
r371 | ajapted | 2012-12-05 15:09:06 +1100 (Wed, 05 Dec 2012) | 3 lines

UI / Default Props: skeletal functions to read/write the properties
into the user state of a map.

------------------------------------------------------------------------
r370 | ajapted | 2012-12-05 15:01:33 +1100 (Wed, 05 Dec 2012) | 2 lines

UI: tweaked layout of sidedef pics.

------------------------------------------------------------------------
r369 | ajapted | 2012-12-05 14:29:30 +1100 (Wed, 05 Dec 2012) | 2 lines

UI: tweaked layout of sector floor / ceiling properties.

------------------------------------------------------------------------
r368 | ajapted | 2012-12-04 22:36:45 +1100 (Tue, 04 Dec 2012) | 2 lines

minor update.

------------------------------------------------------------------------
r367 | ajapted | 2012-12-04 22:34:18 +1100 (Tue, 04 Dec 2012) | 3 lines

Sector mode: handle CTRL key with floor/ceiling height adjusters,
stepping by 64 units.

------------------------------------------------------------------------
r366 | ajapted | 2012-12-04 22:30:50 +1100 (Tue, 04 Dec 2012) | 9 lines

Sector mode: swapped keys to height adjusting: '.' and ',' now adjust
the floor height, and '[' and ']' now adjust the ceiling.

This was suggested by d1337r.  The rationale is that '.' and ',' are
lower on the keyboard than the '[' and ']' keys.

Also made step amounts consistent between the keys and the GUI
buttons: 8 units with no modifier, 1 unit shifted.

------------------------------------------------------------------------
r365 | ajapted | 2012-12-04 22:17:28 +1100 (Tue, 04 Dec 2012) | 5 lines

3D View:
1. disabled '.' and ',' as strafe keys (a sector function using these
   keys is more important)
2. allow UP and DOWN arrows to work with ALT pressed.

------------------------------------------------------------------------
r364 | ajapted | 2012-12-04 20:12:51 +1100 (Tue, 04 Dec 2012) | 4 lines

UI / Default Props:
1. added Thing number and description
2. disabled the sector title (it is fairly obvious)

------------------------------------------------------------------------
r363 | ajapted | 2012-12-04 19:58:30 +1100 (Tue, 04 Dec 2012) | 2 lines

UI / Default Props: added and layouted the Sector props.

------------------------------------------------------------------------
r362 | ajapted | 2012-12-04 19:32:17 +1100 (Tue, 04 Dec 2012) | 2 lines

UI / Default Props: added widgets for the Linedef textures.

------------------------------------------------------------------------
r361 | ajapted | 2012-12-04 19:19:13 +1100 (Tue, 04 Dec 2012) | 4 lines

UI: began work on a 'Default Props' panel, which sits underneath the
Vertex panel (with all that unused space) and will be used for setting
the default insert properties of objects (e.g. sector floor, wall tex).

------------------------------------------------------------------------
r360 | ajapted | 2012-12-04 19:08:15 +1100 (Tue, 04 Dec 2012) | 2 lines

minor commenting.

------------------------------------------------------------------------
r359 | ajapted | 2012-12-04 18:47:00 +1100 (Tue, 04 Dec 2012) | 2 lines

Coding: use 'WINDOW_BG' define for window backgrounds.

------------------------------------------------------------------------
r358 | ajapted | 2012-12-04 18:24:44 +1100 (Tue, 04 Dec 2012) | 3 lines

Changed default grid size to be 16 (was: 128), and added two new
config vars: 'default_grid_size' and 'default_grid_snap'.

------------------------------------------------------------------------
r357 | ajapted | 2012-12-04 18:20:49 +1100 (Tue, 04 Dec 2012) | 2 lines

Properly initialise the Grid_State_c object.

------------------------------------------------------------------------
r356 | ajapted | 2012-12-04 18:16:51 +1100 (Tue, 04 Dec 2012) | 2 lines

UI: tweaked grid color when zoomed far out (GRID_DARK).

------------------------------------------------------------------------
r355 | ajapted | 2012-12-04 16:55:06 +1100 (Tue, 04 Dec 2012) | 2 lines

Made multi-select optional, with new 'multi_select_modifier' config var.

------------------------------------------------------------------------
r354 | ajapted | 2012-12-04 16:15:10 +1100 (Tue, 04 Dec 2012) | 4 lines

Code tidying: replaced 'is_butl' and 'is_middle' hacks with 'button_down'
field in the Editor_State_c class.  Replaced 'click_ctrl' with 'button_mod'
field.  Removed some dead code.

------------------------------------------------------------------------
r353 | ajapted | 2012-12-04 14:49:13 +1100 (Tue, 04 Dec 2012) | 2 lines

UI: changed the grid_snap from a Choice --&gt; Toggle_Button.

------------------------------------------------------------------------
r352 | ajapted | 2012-12-04 14:15:42 +1100 (Tue, 04 Dec 2012) | 3 lines

WISHLIST: added a few items, moved a few others, fleshed out the item
about configurable keys.

------------------------------------------------------------------------
r351 | ajapted | 2012-12-03 22:16:39 +1100 (Mon, 03 Dec 2012) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r350 | ajapted | 2012-12-03 22:15:21 +1100 (Mon, 03 Dec 2012) | 5 lines

Building Nodes: added the following config vars:
1. glbsp_fast
2. glbsp_verbose
3. glbsp_warn

------------------------------------------------------------------------
r349 | ajapted | 2012-12-03 20:33:45 +1100 (Mon, 03 Dec 2012) | 3 lines

Worked on supporting a configurable GUI scheme and color set, via two
new config vars: 'gui_scheme' and 'gui_color_set'.

------------------------------------------------------------------------
r348 | ajapted | 2012-12-03 16:06:37 +1100 (Mon, 03 Dec 2012) | 2 lines

TODO and WISHLIST: added some suggestions by d1337r.

------------------------------------------------------------------------
r347 | ajapted | 2012-12-03 15:17:22 +1100 (Mon, 03 Dec 2012) | 3 lines

Fixed color of a line or sector when tagged -- only the tagged object
should be drawn in pink, not the current line or sector.

------------------------------------------------------------------------
r346 | ajapted | 2012-12-03 14:55:24 +1100 (Mon, 03 Dec 2012) | 1 line

compiler warning
------------------------------------------------------------------------
r345 | ajapted | 2012-12-03 14:24:25 +1100 (Mon, 03 Dec 2012) | 3 lines

DOOM defs: moved 'Commander Keen' thing out of common/, since it is
specific to DOOM 2, and changed its category to OTHER.

------------------------------------------------------------------------
r344 | ajapted | 2012-12-03 10:26:25 +1100 (Mon, 03 Dec 2012) | 2 lines

Version bump after release (a little late...)

------------------------------------------------------------------------
r343 | ajapted | 2012-12-03 10:25:17 +1100 (Mon, 03 Dec 2012) | 2 lines

TODO and WISHLIST update.

------------------------------------------------------------------------
r342 | ajapted | 2012-12-03 10:21:00 +1100 (Mon, 03 Dec 2012) | 2 lines

Renamed doom_common.ugh --&gt; doom_things.ugh

------------------------------------------------------------------------
r341 | ajapted | 2012-12-03 10:20:19 +1100 (Mon, 03 Dec 2012) | 5 lines

DOOM definitions:
1. split off common textures into its own file: common/doom_tex
2. moved 'sky_flat', 'default_port' (etc) back to main def (in games/)
3. will rename doom_common.ugh --&gt; doom_things.ugh

------------------------------------------------------------------------
r340 | ajapted | 2012-12-03 09:57:35 +1100 (Mon, 03 Dec 2012) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r339 | ajapted | 2012-12-03 09:57:11 +1100 (Mon, 03 Dec 2012) | 3 lines

Browser: added 'pic_mode' field to Browser_Box, replaces hard-coded tests
against the browser kind (e.g. for resizing behavior).

------------------------------------------------------------------------
r338 | ajapted | 2012-12-03 09:40:26 +1100 (Mon, 03 Dec 2012) | 3 lines

Browser / Things: implemented the 'pics' button, show sprites when on
and show descriptions when off.

------------------------------------------------------------------------
r337 | ajapted | 2012-12-03 09:18:46 +1100 (Mon, 03 Dec 2012) | 3 lines

Browser: added a 'number' field to each Browser_Item, and use it when
sorting numerically (and in the callbacks too).

------------------------------------------------------------------------
r336 | ajapted | 2012-12-02 23:24:43 +1100 (Sun, 02 Dec 2012) | 2 lines

minor corrections.

------------------------------------------------------------------------
r335 | ajapted | 2012-12-02 23:23:52 +1100 (Sun, 02 Dec 2012) | 2 lines

Game defs: moved boss-brain things out of 'Monster' category.

------------------------------------------------------------------------
r334 | ajapted | 2012-12-02 23:16:43 +1100 (Sun, 02 Dec 2012) | 2 lines

Tweak : changed thingtype_t::flags field from byte to short.

------------------------------------------------------------------------
r333 | ajapted | 2012-12-02 23:14:22 +1100 (Sun, 02 Dec 2012) | 4 lines

Browser | Thing pics:
1. ignore things which have no sprites (&quot;NULL&quot; in the def file).
2. alphabetical sort shows sprite names, numerical sort shows id numbers.

------------------------------------------------------------------------
r332 | ajapted | 2012-12-02 16:55:39 +1100 (Sun, 02 Dec 2012) | 2 lines

Browser: initial work on picture mode for Things...

------------------------------------------------------------------------
r331 | ajapted | 2012-12-02 14:21:42 +1100 (Sun, 02 Dec 2012) | 3 lines

Removed doc/Features.txt : the info has been absorbed into README.txt
and the website.

------------------------------------------------------------------------
r330 | ajapted | 2012-12-02 14:19:24 +1100 (Sun, 02 Dec 2012) | 2 lines

README.txt : added 'Features' and 'Supported Games' sections (from wiki).

------------------------------------------------------------------------
r329 | ajapted | 2012-12-01 20:49:36 +1100 (Sat, 01 Dec 2012) | 2 lines

Added AUTHORS.txt document.

------------------------------------------------------------------------
r328 | ajapted | 2012-11-30 22:19:08 +1100 (Fri, 30 Nov 2012) | 3 lines

Worked on the Jump/Next/Previous commands.  However I don't think they
are very useful...

------------------------------------------------------------------------
r327 | ajapted | 2012-11-30 21:02:29 +1100 (Fri, 30 Nov 2012) | 3 lines

Simplified how new sector squares are created outside of the map,
size is fixed but configurable via 'new_sector_size' config var.

------------------------------------------------------------------------
r326 | ajapted | 2012-11-30 20:24:18 +1100 (Fri, 30 Nov 2012) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r325 | ajapted | 2012-11-30 20:23:47 +1100 (Fri, 30 Nov 2012) | 2 lines

Rotate dialog: implemented its functionality.

------------------------------------------------------------------------
r324 | ajapted | 2012-11-30 19:47:18 +1100 (Fri, 30 Nov 2012) | 2 lines

Rotate dialog: began work on it, got the layout done so far...

------------------------------------------------------------------------
r323 | ajapted | 2012-11-30 19:24:20 +1100 (Fri, 30 Nov 2012) | 3 lines

When rotating a group of things (or sectors which contain things),
update the angles of the things too.

------------------------------------------------------------------------
r322 | ajapted | 2012-11-30 19:09:36 +1100 (Fri, 30 Nov 2012) | 2 lines

Scale dialog: fixed percentage parsing

------------------------------------------------------------------------
r321 | ajapted | 2012-11-30 19:02:25 +1100 (Fri, 30 Nov 2012) | 2 lines

Scale dialog: completed the functionality.

------------------------------------------------------------------------
r320 | ajapted | 2012-11-30 18:53:41 +1100 (Fri, 30 Nov 2012) | 2 lines

Scale dialog: implemented parsing code: ParseScaleStr().

------------------------------------------------------------------------
r319 | ajapted | 2012-11-30 18:41:33 +1100 (Fri, 30 Nov 2012) | 3 lines

Scale dialog: Partial work implementing the scaling, e.g. added code
to determine the focus point of scaling from the 'origin' choice.

------------------------------------------------------------------------
r318 | ajapted | 2012-11-30 16:46:33 +1100 (Fri, 30 Nov 2012) | 4 lines

Scale dialog layouting:
1. added 'origin' button
2. rearranged bottom section, added some help text

------------------------------------------------------------------------
r317 | ajapted | 2012-11-30 16:04:08 +1100 (Fri, 30 Nov 2012) | 2 lines

Move dialog: ensure initial values are zero.

------------------------------------------------------------------------
r316 | ajapted | 2012-11-30 15:57:37 +1100 (Fri, 30 Nov 2012) | 2 lines

Began work on 'Scale Objects' dialog...

------------------------------------------------------------------------
r315 | ajapted | 2012-11-30 15:25:59 +1100 (Fri, 30 Nov 2012) | 2 lines

Implemented the functionality of the Move dialog.

------------------------------------------------------------------------
r314 | ajapted | 2012-11-30 15:11:29 +1100 (Fri, 30 Nov 2012) | 3 lines

Finished layout on UI_MoveDialog window (e.g. added a darker group around
the buttons).  Renamed &quot;OK&quot; button --&gt; &quot;Move&quot; and made it bold.

------------------------------------------------------------------------
r313 | ajapted | 2012-11-30 14:49:21 +1100 (Fri, 30 Nov 2012) | 3 lines

Partial work on a dialog window for moving objects (via the Edit menu).
Still in the layout phase....

------------------------------------------------------------------------
r312 | ajapted | 2012-11-30 14:33:18 +1100 (Fri, 30 Nov 2012) | 3 lines

Added new (empty) code files: ui_misc.cc/h -- for miscellaneous dialog
windows, such as a move object dialog....

------------------------------------------------------------------------
r311 | ajapted | 2012-11-30 14:05:10 +1100 (Fri, 30 Nov 2012) | 2 lines

Disabled the 'Play Map' feature for now.

------------------------------------------------------------------------
r310 | ajapted | 2012-11-30 10:43:23 +1100 (Fri, 30 Nov 2012) | 2 lines

Changed shortcut key for 'File/Export Map' to CTRL-E

------------------------------------------------------------------------
r309 | ajapted | 2012-11-30 10:34:47 +1100 (Fri, 30 Nov 2012) | 4 lines

Experiment with a 'File/Play Map' command (CTRL-P).  Currently the
directory to enter and program to run are hard-coded, these would
need to be configurable.

------------------------------------------------------------------------
r308 | ajapted | 2012-11-28 22:37:36 +1100 (Wed, 28 Nov 2012) | 2 lines

Began a fresh CHANGES.txt file, tweaked previous one.

------------------------------------------------------------------------
r307 | ajapted | 2012-11-28 22:35:52 +1100 (Wed, 28 Nov 2012) | 2 lines

Moved CHANGES.txt --&gt; docs/ folder, after the 0.84 release.

------------------------------------------------------------------------
r306 | ajapted | 2012-11-28 17:44:41 +1100 (Wed, 28 Nov 2012) | 3 lines

MacOS X: set home_dir to '~/documents/eureka', making sure we create
the ~/documents folder (in case it doesn't exist).

------------------------------------------------------------------------
r305 | ajapted | 2012-11-28 16:30:40 +1100 (Wed, 28 Nov 2012) | 2 lines

Renamed 'Nil' method --&gt; 'Clear' (for MacOS X compatibility).

------------------------------------------------------------------------
r304 | ajapted | 2012-11-27 18:09:20 +1100 (Tue, 27 Nov 2012) | 2 lines

pack-source script: added debian stuff.

------------------------------------------------------------------------
r303 | ajapted | 2012-11-27 17:55:17 +1100 (Tue, 27 Nov 2012) | 2 lines

INSTALL.txt : mention /usr/share/games/doom

------------------------------------------------------------------------
r302 | ajapted | 2012-11-27 17:49:20 +1100 (Tue, 27 Nov 2012) | 2 lines

TODO and WISHLIST updated before release.

------------------------------------------------------------------------
r301 | ajapted | 2012-11-27 17:18:59 +1100 (Tue, 27 Nov 2012) | 2 lines

README.txt : added a REQUIREMENTS section.

------------------------------------------------------------------------
r300 | ajapted | 2012-11-27 17:06:41 +1100 (Tue, 27 Nov 2012) | 2 lines

CHANGELOG: yet another update.

------------------------------------------------------------------------
r299 | ajapted | 2012-11-27 17:04:48 +1100 (Tue, 27 Nov 2012) | 2 lines

Made vertices slightly bigger, but not too big when zooming right in.

------------------------------------------------------------------------
r298 | ajapted | 2012-11-27 16:00:39 +1100 (Tue, 27 Nov 2012) | 2 lines

TODO / WISHLIST update.

------------------------------------------------------------------------
r297 | ajapted | 2012-11-27 15:57:34 +1100 (Tue, 27 Nov 2012) | 4 lines

Implemented a 'mouse_wheel_scrolls_map' config var, when enabled the
mouse wheel will scroll the map (can do horizontally too).  Pressing
the CTRL key (ALT in MacOS X) will perform the zoom function.

------------------------------------------------------------------------
r296 | ajapted | 2012-11-27 15:31:52 +1100 (Tue, 27 Nov 2012) | 2 lines

Handle '+' and '-' zooming keys by calling CMD_Zoom() directly (NOT via Editor_Wheel).

------------------------------------------------------------------------
r295 | ajapted | 2012-11-27 15:27:56 +1100 (Tue, 27 Nov 2012) | 3 lines

UI_Canvas: tidier event handling code, added handle_key(), handle_push()
(and so forth) methods to manage the major event kinds.

------------------------------------------------------------------------
r294 | ajapted | 2012-11-26 22:44:55 +1100 (Mon, 26 Nov 2012) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r293 | ajapted | 2012-11-26 15:00:00 +1100 (Mon, 26 Nov 2012) | 2 lines

Version bump to 0.84, ready for release.

------------------------------------------------------------------------
r292 | ajapted | 2012-11-26 14:44:49 +1100 (Mon, 26 Nov 2012) | 2 lines

commenting...

------------------------------------------------------------------------
r291 | ajapted | 2012-11-26 12:18:55 +1100 (Mon, 26 Nov 2012) | 2 lines

Moved Makefile.debian --&gt; misc/ directory.

------------------------------------------------------------------------
r290 | ajapted | 2012-11-25 21:29:25 +1100 (Sun, 25 Nov 2012) | 2 lines

Makefile.debian : fixed for moving 'debian' dir --&gt; misc/

------------------------------------------------------------------------
r289 | ajapted | 2012-11-25 21:23:33 +1100 (Sun, 25 Nov 2012) | 2 lines

Moved 'debian' folder from top level --&gt; misc/ folder

------------------------------------------------------------------------
r288 | ajapted | 2012-11-25 21:13:45 +1100 (Sun, 25 Nov 2012) | 7 lines

Makefile.debian fixes:
1. added missing PROGRAM value
2. gzip the changelog file
3. do a 'debclean' before doing a 'debbuild'
4. store result in parent dir -- this also gives it the proper package
   name, with version and architecture in it.

------------------------------------------------------------------------
r287 | ajapted | 2012-11-25 21:07:37 +1100 (Sun, 25 Nov 2012) | 3 lines

Removed debian stuff from plain Makefile.
(This change should have been in r284....)

------------------------------------------------------------------------
r286 | ajapted | 2012-11-25 21:04:09 +1100 (Sun, 25 Nov 2012) | 3 lines

Debian/copyright: indented Copyright lines, which fixes a lintian
warning about lacking a copyright statement ^_^

------------------------------------------------------------------------
r285 | ajapted | 2012-11-25 21:02:20 +1100 (Sun, 25 Nov 2012) | 3 lines

Debian/control: changed section to 'misc' and added 'libc6' as a
dependency -- both due to lintian errors.

------------------------------------------------------------------------
r284 | ajapted | 2012-11-25 20:43:00 +1100 (Sun, 25 Nov 2012) | 2 lines

Makefiles: removed debian package stuff from plain Makefile.

------------------------------------------------------------------------
r283 | ajapted | 2012-11-25 20:41:02 +1100 (Sun, 25 Nov 2012) | 2 lines

Added Makefile.debian, logic for making a debian package.

------------------------------------------------------------------------
r282 | ajapted | 2012-11-25 20:37:49 +1100 (Sun, 25 Nov 2012) | 2 lines

Debian: tweaked version in debian/control, removed # comment

------------------------------------------------------------------------
r281 | ajapted | 2012-11-25 20:21:20 +1100 (Sun, 25 Nov 2012) | 3 lines

Makefile: partial work on 'debinstall' target to create the file
heirarchy for the debian package.

------------------------------------------------------------------------
r280 | ajapted | 2012-11-25 18:51:50 +1100 (Sun, 25 Nov 2012) | 2 lines

Wrote the debian/copyright file.

------------------------------------------------------------------------
r279 | ajapted | 2012-11-25 18:37:17 +1100 (Sun, 25 Nov 2012) | 2 lines

Added basic debian/changelog file.

------------------------------------------------------------------------
r278 | ajapted | 2012-11-25 14:14:24 +1100 (Sun, 25 Nov 2012) | 2 lines

Initial work on a debian/control file.

------------------------------------------------------------------------
r277 | ajapted | 2012-11-25 13:28:20 +1100 (Sun, 25 Nov 2012) | 2 lines

Don't create a linedef between two vertices at the same spot.

------------------------------------------------------------------------
r276 | ajapted | 2012-11-25 13:20:20 +1100 (Sun, 25 Nov 2012) | 2 lines

Tweaked get_split_linedef() to skip lines with bbox &lt; 4x4

------------------------------------------------------------------------
r275 | ajapted | 2012-11-25 13:07:48 +1100 (Sun, 25 Nov 2012) | 2 lines

Reworked last commit, don't split lines with bbox &lt; 4x4.

------------------------------------------------------------------------
r274 | ajapted | 2012-11-25 13:04:00 +1100 (Sun, 25 Nov 2012) | 2 lines

Fixed split_linedef command ('x' key) to not create zero-length lines.

------------------------------------------------------------------------
r273 | ajapted | 2012-11-25 12:24:55 +1100 (Sun, 25 Nov 2012) | 3 lines

Fixed LineDefWouldOverlap() to skip zero-length lines, otherwise it
raises a fatal error in PerpDist().

------------------------------------------------------------------------
r272 | ajapted | 2012-11-24 17:46:35 +1100 (Sat, 24 Nov 2012) | 2 lines

ChangeLog tweak.

------------------------------------------------------------------------
r271 | ajapted | 2012-11-24 17:01:01 +1100 (Sat, 24 Nov 2012) | 2 lines

README: updated for 0.84 release, fixed the different keys.

------------------------------------------------------------------------
r270 | ajapted | 2012-11-24 15:40:58 +1100 (Sat, 24 Nov 2012) | 2 lines

Tweaked code of previous commit (bound 'R' to RTS mode).

------------------------------------------------------------------------
r269 | ajapted | 2012-11-24 15:39:13 +1100 (Sat, 24 Nov 2012) | 2 lines

Bound 'R' key for RTS editing mode, frees up 'r' for a more common function.

------------------------------------------------------------------------
r268 | ajapted | 2012-11-24 15:10:49 +1100 (Sat, 24 Nov 2012) | 2 lines

TODO update.

------------------------------------------------------------------------
r267 | ajapted | 2012-11-24 15:10:33 +1100 (Sat, 24 Nov 2012) | 2 lines

INSTALL.txt : tweakage.

------------------------------------------------------------------------
r266 | ajapted | 2012-11-24 15:09:13 +1100 (Sat, 24 Nov 2012) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r265 | ajapted | 2012-11-24 15:06:20 +1100 (Sat, 24 Nov 2012) | 3 lines

Determine split line: removed bbox test (was bad for axis-aligned lines)
and fixed the bbox test in get_split_line() which ignored mapslack.

------------------------------------------------------------------------
r264 | ajapted | 2012-11-24 14:46:50 +1100 (Sat, 24 Nov 2012) | 3 lines

When finding the split_line, check the non-snapped position, but prevent
the snapped position being the same as the linedef's start or end.

------------------------------------------------------------------------
r263 | ajapted | 2012-11-24 14:44:19 +1100 (Sat, 24 Nov 2012) | 2 lines

MacOS X: fix pathlen type for _NSGetExecutablePath() call.

------------------------------------------------------------------------
r262 | ajapted | 2012-11-23 22:44:18 +1100 (Fri, 23 Nov 2012) | 2 lines

minor docco updates.

------------------------------------------------------------------------
r261 | ajapted | 2012-11-23 21:44:43 +1100 (Fri, 23 Nov 2012) | 2 lines

ChangeLog update.

------------------------------------------------------------------------
r260 | ajapted | 2012-11-23 21:42:44 +1100 (Fri, 23 Nov 2012) | 3 lines

Made SHIFT + MMB do plain scaling (keep aspect ratio), ALT + MMB to
scale X and Y independently.

------------------------------------------------------------------------
r259 | ajapted | 2012-11-23 20:59:45 +1100 (Fri, 23 Nov 2012) | 3 lines

Key handling: change the ALT ignore code to return _false_, which means
FLTK will send them to other places (especially the menu).

------------------------------------------------------------------------
r258 | ajapted | 2012-11-23 20:51:39 +1100 (Fri, 23 Nov 2012) | 4 lines

Key handling: in general, ignore key if ALT is also pressed.  Since the
META modifier is mapped to KM_ALT, this also ignores keys with META
(which I think is the CMD key under MacOS X).

------------------------------------------------------------------------
r257 | ajapted | 2012-11-22 22:23:28 +1100 (Thu, 22 Nov 2012) | 2 lines

Implemented the -merge option for adding Resource wads.

------------------------------------------------------------------------
r256 | ajapted | 2012-11-22 22:03:17 +1100 (Thu, 22 Nov 2012) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r255 | ajapted | 2012-11-22 22:02:45 +1100 (Thu, 22 Nov 2012) | 2 lines

TODO / WISHLIST update.

------------------------------------------------------------------------
r254 | ajapted | 2012-11-22 21:35:53 +1100 (Thu, 22 Nov 2012) | 3 lines

MacOSX: renamed the 'nil' method of Objid / Close_obj classes --&gt; 'clear',
since it is a reserved keyword in Objective-C.

------------------------------------------------------------------------
r253 | ajapted | 2012-11-22 21:08:32 +1100 (Thu, 22 Nov 2012) | 3 lines

The ESC key no longer exits Eureka, unless the new 'escape_key_quits'
config variable is enabled.

------------------------------------------------------------------------
r252 | ajapted | 2012-11-22 19:34:19 +1100 (Thu, 22 Nov 2012) | 2 lines

MacOSX: Changed #ifdef tests to use __APPLE__ instead of MACOSX.

------------------------------------------------------------------------
r251 | ajapted | 2012-11-22 19:18:04 +1100 (Thu, 22 Nov 2012) | 4 lines

Config: new syntax for config files, option name is followed by the value
without any '=' sign between -- which is consistent with the game / port
definition files.

------------------------------------------------------------------------
r250 | ajapted | 2012-11-22 17:28:25 +1100 (Thu, 22 Nov 2012) | 2 lines

Config: split code to parse each line out of parse_config_file() function.

------------------------------------------------------------------------
r249 | ajapted | 2012-11-22 11:25:06 +1100 (Thu, 22 Nov 2012) | 2 lines

WISHLIST: finished reorganising / prioritising the desirables.

------------------------------------------------------------------------
r248 | ajapted | 2012-11-22 11:06:47 +1100 (Thu, 22 Nov 2012) | 3 lines

IWAD search: check some standard places, like /usr/share/games/doom
(and for Win32, places like C:\DOOM).

------------------------------------------------------------------------
r247 | ajapted | 2012-11-22 10:35:07 +1100 (Thu, 22 Nov 2012) | 3 lines

Moved some code in main.cc, like InitFLTK, which was sandwiched in
between various config and directory handling stuff.

------------------------------------------------------------------------
r246 | ajapted | 2012-11-21 23:14:05 +1100 (Wed, 21 Nov 2012) | 2 lines

WISHLIST: more work reorganising...

------------------------------------------------------------------------
r245 | ajapted | 2012-11-21 22:49:13 +1100 (Wed, 21 Nov 2012) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r244 | ajapted | 2012-11-21 22:28:39 +1100 (Wed, 21 Nov 2012) | 2 lines

minor commenting

------------------------------------------------------------------------
r243 | ajapted | 2012-11-21 22:26:08 +1100 (Wed, 21 Nov 2012) | 3 lines

Allow Eureka to run locally (without a make install) by checking &quot;.&quot;
as a possible install_dir.

------------------------------------------------------------------------
r242 | ajapted | 2012-11-21 22:18:24 +1100 (Wed, 21 Nov 2012) | 2 lines

INSTALL.txt : mention Gentoo info (courtesy GuntherDW).

------------------------------------------------------------------------
r241 | ajapted | 2012-11-21 22:12:59 +1100 (Wed, 21 Nov 2012) | 2 lines

Config: fixed bug in recent change of OPT_BOOLEAN handling.

------------------------------------------------------------------------
r240 | ajapted | 2012-11-21 19:40:11 +1100 (Wed, 21 Nov 2012) | 2 lines

WISHLIST: began reorganizing into HIGH and LOWER priority sections...

------------------------------------------------------------------------
r239 | ajapted | 2012-11-21 19:06:28 +1100 (Wed, 21 Nov 2012) | 4 lines

Config: added 'new_islands_are_void' variable -- it forces islands created
inside a sector to have a void interior (rather than a new sector which
has same properties as the outer sector).

------------------------------------------------------------------------
r238 | ajapted | 2012-11-21 18:58:25 +1100 (Wed, 21 Nov 2012) | 5 lines

Config handling:
1. can provide a value on command line for OPT_BOOLEAN vars
2. removed redundant checks on o-&gt;data_ptr (only NULL for OPT_END)
3. made boolean and confirm keywords case-insensitive

------------------------------------------------------------------------
r237 | ajapted | 2012-11-21 18:31:18 +1100 (Wed, 21 Nov 2012) | 2 lines

TODO update.

------------------------------------------------------------------------
r236 | ajapted | 2012-11-21 18:30:22 +1100 (Wed, 21 Nov 2012) | 2 lines

CHANGELOG: mention the new pic-selection feature.

------------------------------------------------------------------------
r235 | ajapted | 2012-11-21 18:28:39 +1100 (Wed, 21 Nov 2012) | 2 lines

Closing the browser unselects any pics in the LineDef and Sector panels.

------------------------------------------------------------------------
r234 | ajapted | 2012-11-21 18:18:34 +1100 (Wed, 21 Nov 2012) | 4 lines

LineDef Panel: implemented the selected sidedef parts (with red border)
getting a texture when clicking in the texture browser -- the mouse
button and modifier keys are not used when any parts are selected.

------------------------------------------------------------------------
r233 | ajapted | 2012-11-21 17:27:01 +1100 (Wed, 21 Nov 2012) | 5 lines

Sector panel: implemented the pic selection, i.e. when the floor pic is
selected then the floor is changed and when the ceiling pic is selected
then the ceiling is changed.  The mouse button is ignored when one of
them is selected.

------------------------------------------------------------------------
r232 | ajapted | 2012-11-21 16:20:48 +1100 (Wed, 21 Nov 2012) | 2 lines

LineDef and Sector panels: don't select pic when there's no object(s).

------------------------------------------------------------------------
r231 | ajapted | 2012-11-21 16:16:35 +1100 (Wed, 21 Nov 2012) | 4 lines

LineDef and Sector panels: code to clear the selected pics, automatic
when the panel is disabled (NO_OBJ), and can be done externally (e.g.
when changing editing modes).

------------------------------------------------------------------------
r230 | ajapted | 2012-11-21 16:02:51 +1100 (Wed, 21 Nov 2012) | 2 lines

Use CMD_UnselectAll() for the click-in-empty-spot action.

------------------------------------------------------------------------
r229 | ajapted | 2012-11-21 15:51:04 +1100 (Wed, 21 Nov 2012) | 5 lines

1. added ability to UI_Pic to select/unselect it (done externally)
2. in Sector and SideDef panels, can select/unselect the textures and
   also open/change the browser to Flats or Textures.
(Note: still lacking mechanism to actually change the selected stuff)

------------------------------------------------------------------------
r228 | ajapted | 2012-11-21 14:15:49 +1100 (Wed, 21 Nov 2012) | 2 lines

UI_Pic: implemented a draw_selected() method.

------------------------------------------------------------------------
r227 | ajapted | 2012-11-21 12:46:06 +1100 (Wed, 21 Nov 2012) | 3 lines

Makefile: remove wayward initial space (stops emacs complaining when saving).
Patch courtesy Jeremy Henty.

------------------------------------------------------------------------
r226 | ajapted | 2012-11-21 12:39:32 +1100 (Wed, 21 Nov 2012) | 3 lines

Implemented 'leave_offsets_alone' config var -- when set, no automatic
adjustment of sidedef offsets when splitting lines (etc).

------------------------------------------------------------------------
r225 | ajapted | 2012-11-21 12:31:39 +1100 (Wed, 21 Nov 2012) | 3 lines

Thing panel: experimented with option buttons for Hexen player classes,
and hence moved the 'ambush' and 'friend' buttons onto their own line.

------------------------------------------------------------------------
r224 | ajapted | 2012-11-20 22:47:29 +1100 (Tue, 20 Nov 2012) | 2 lines

TODO, WISHLIST, CHANGELOG update

------------------------------------------------------------------------
r223 | ajapted | 2012-11-20 22:43:32 +1100 (Tue, 20 Nov 2012) | 3 lines

UI_Canvas: fixed bug where a pink-highlighted sectors with tag matching
the linedef would not be drawn if the linedef was off the screen.

------------------------------------------------------------------------
r222 | ajapted | 2012-11-20 22:34:58 +1100 (Tue, 20 Nov 2012) | 2 lines

LineDef panel: experiment with 'Args' line (for Hexen support)

------------------------------------------------------------------------
r221 | ajapted | 2012-11-20 21:23:19 +1100 (Tue, 20 Nov 2012) | 3 lines

Multi-select: handle a small selbox as if it were a click/release pair
(clearing the current selection) -- shrink the small selbox to zero.

------------------------------------------------------------------------
r220 | ajapted | 2012-11-20 21:07:22 +1100 (Tue, 20 Nov 2012) | 2 lines

Insert_Thing: if a thing is already selected, copy properties to new one.

------------------------------------------------------------------------
r219 | ajapted | 2012-11-20 20:58:04 +1100 (Tue, 20 Nov 2012) | 14 lines

Implemented multi-select, i.e. clicking on an object to select it
will not clear the current selection first -- merely toggle it.

This required some big changes and a hack or two, for one thing
when clicking on an object, it's selection status is changed when
the the mouse button is _released_ (or user tries to drag it).

Also to allow dragging individual objects, after any objects are
moved we will clear the selection when an unselected object is
clicked on (to select it).

Removed the dummy 'CANVAS' object kind, we now properly test
whether we are drawing a selbox by the isSelboxActive() call.

------------------------------------------------------------------------
r218 | ajapted | 2012-11-20 17:57:55 +1100 (Tue, 20 Nov 2012) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r217 | ajapted | 2012-11-20 17:48:00 +1100 (Tue, 20 Nov 2012) | 3 lines

Fixed inner sector getting defaults when closing a vertex loop which
lies within another sector -- the inner should be a copy of the outer.

------------------------------------------------------------------------
r216 | ajapted | 2012-11-19 22:47:45 +1100 (Mon, 19 Nov 2012) | 4 lines

Changed the way level checksum is done (for state persistence), it is no
longer done directly in the loading and saving code (and performed on the
raw formats), now it is computed on the in-memory version of the map.

------------------------------------------------------------------------
r215 | ajapted | 2012-11-19 22:36:36 +1100 (Mon, 19 Nov 2012) | 2 lines

Adler-32: fixed the copy constructor to copy the 'extra' field too.

------------------------------------------------------------------------
r214 | ajapted | 2012-11-19 22:31:29 +1100 (Mon, 19 Nov 2012) | 3 lines

Implemented BA_LevelChecksum() which computes the CRC of the level,
ignoring any unused vertices, sidedefs or sectors.

------------------------------------------------------------------------
r213 | ajapted | 2012-11-19 21:38:13 +1100 (Mon, 19 Nov 2012) | 3 lines

Browser: set the 'linesize' to higher values, so that scrolling with
the mouse wheel is better (not so tedious).

------------------------------------------------------------------------
r212 | ajapted | 2012-11-19 21:35:21 +1100 (Mon, 19 Nov 2012) | 2 lines

Browser: made default width be a bit wider (to fit 4 flats across).

------------------------------------------------------------------------
r211 | ajapted | 2012-11-19 16:51:43 +1100 (Mon, 19 Nov 2012) | 2 lines

TODO update.

------------------------------------------------------------------------
r210 | ajapted | 2012-11-19 16:51:07 +1100 (Mon, 19 Nov 2012) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r209 | ajapted | 2012-11-19 16:50:10 +1100 (Mon, 19 Nov 2012) | 3 lines

1. Support a &quot;default_port&quot; command in game definition files
2. Made the fallback port be &quot;vanilla&quot; -- for Heretic

------------------------------------------------------------------------
r208 | ajapted | 2012-11-19 16:42:27 +1100 (Mon, 19 Nov 2012) | 2 lines

DOOM defs: added &quot;default_port boom&quot;

------------------------------------------------------------------------
r207 | ajapted | 2012-11-19 16:35:03 +1100 (Mon, 19 Nov 2012) | 2 lines

Game def loader: tidied up 'buf' usage, renamed other 'buf' variables.

------------------------------------------------------------------------
r206 | ajapted | 2012-11-19 14:32:53 +1100 (Mon, 19 Nov 2012) | 5 lines

lib_file: added GetExecutablePath() function, needed for Win32 builds.

Code is from Oblige's lib_file.cc, which I removed earlier as I didn't
think it would be needed.

------------------------------------------------------------------------
r205 | ajapted | 2012-11-18 22:26:32 +1100 (Sun, 18 Nov 2012) | 2 lines

Updated CHANGELOG, TODO and WISHLIST.

------------------------------------------------------------------------
r204 | ajapted | 2012-11-18 21:38:32 +1100 (Sun, 18 Nov 2012) | 2 lines

Thing panel: got new arrow buttons working, and improved the layout.

------------------------------------------------------------------------
r203 | ajapted | 2012-11-18 21:28:24 +1100 (Sun, 18 Nov 2012) | 2 lines

Arrow images: trimmed the diagonal arrows, look better now.

------------------------------------------------------------------------
r202 | ajapted | 2012-11-18 21:21:54 +1100 (Sun, 18 Nov 2012) | 3 lines

Thing panel: partial work on eight arrow buttons for setting the angle.
These replace the &lt;- and -&gt; buttons which rotated things.

------------------------------------------------------------------------
r201 | ajapted | 2012-11-18 20:42:03 +1100 (Sun, 18 Nov 2012) | 2 lines

Added 'im_arrows.cc' containing eight small arrow images (XPM format).

------------------------------------------------------------------------
r200 | ajapted | 2012-11-18 18:58:50 +1100 (Sun, 18 Nov 2012) | 2 lines

Experiment to make plain MMB insert new objects....

------------------------------------------------------------------------
r199 | ajapted | 2012-11-18 18:28:14 +1100 (Sun, 18 Nov 2012) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r198 | ajapted | 2012-11-18 18:26:57 +1100 (Sun, 18 Nov 2012) | 8 lines

3D View:
1. support WASD keys for movement
2. rebound 's' key to 'o' (toggle sprites) and 'w' --&gt; 'v'
3. added 'g' key to toggle gravity
4. removed CTRL-L : resync thing Zs when toggling sprites

Note (1) and (3) were suggested by Dragonsbrethen.

------------------------------------------------------------------------
r197 | ajapted | 2012-11-18 13:38:51 +1100 (Sun, 18 Nov 2012) | 2 lines

INSTALL.txt : mention some libraries people may need (thanks to DoomGater).

------------------------------------------------------------------------
r196 | ajapted | 2012-11-18 13:37:44 +1100 (Sun, 18 Nov 2012) | 2 lines

Began a fresh CHANGES.txt document

------------------------------------------------------------------------
r195 | ajapted | 2012-11-18 13:36:10 +1100 (Sun, 18 Nov 2012) | 2 lines

Moved CHANGES.txt --&gt; docs folder (after 0.81 release)

------------------------------------------------------------------------
r194 | ajapted | 2012-11-18 13:35:17 +1100 (Sun, 18 Nov 2012) | 2 lines

CMD_BuildNodes: on success, re-open the wad and reload the map.

------------------------------------------------------------------------
r193 | ajapted | 2012-11-18 12:50:12 +1100 (Sun, 18 Nov 2012) | 2 lines

Post-release version bump: 0.81 --&gt; 0.82

------------------------------------------------------------------------
r192 | ajapted | 2012-11-16 20:23:01 +1100 (Fri, 16 Nov 2012) | 2 lines

Fixed pack-source.sh script (had some Oblige stuff left in it).

------------------------------------------------------------------------
r191 | ajapted | 2012-11-16 13:58:54 +1100 (Fri, 16 Nov 2012) | 2 lines

Checked in 'pack-source.sh' shell script.

------------------------------------------------------------------------
r190 | ajapted | 2012-11-16 13:21:15 +1100 (Fri, 16 Nov 2012) | 2 lines

TODO and WISHLIST update.

------------------------------------------------------------------------
r189 | ajapted | 2012-11-16 13:19:55 +1100 (Fri, 16 Nov 2012) | 2 lines

CHANGELOG update.

------------------------------------------------------------------------
r188 | ajapted | 2012-11-16 13:17:14 +1100 (Fri, 16 Nov 2012) | 5 lines

README.txt:
1. completely rewrote the 'RUNNING' section
2. replaced 'INTRODUCTION' section with text from 'About' wiki page
3. replaced 'KEYBOARD / MOUSE' section with text from wiki

------------------------------------------------------------------------
r187 | ajapted | 2012-11-16 11:37:03 +1100 (Fri, 16 Nov 2012) | 2 lines

Renamed changelog files (in docs/)

------------------------------------------------------------------------
r186 | ajapted | 2012-11-15 17:29:09 +1100 (Thu, 15 Nov 2012) | 2 lines

minor commenting...

------------------------------------------------------------------------
r185 | ajapted | 2012-11-15 17:24:53 +1100 (Thu, 15 Nov 2012) | 3 lines

Improved the way AssignSectorToSpace() sets the default sector props
from a neighbor.

------------------------------------------------------------------------
r184 | ajapted | 2012-11-15 16:23:04 +1100 (Thu, 15 Nov 2012) | 2 lines

With 'c' copy-prop command on things, do not copy the angle.

------------------------------------------------------------------------
r183 | ajapted | 2012-11-15 16:14:59 +1100 (Thu, 15 Nov 2012) | 2 lines

Removed no-longer-used code files: editobj.cc/h

------------------------------------------------------------------------
r182 | ajapted | 2012-11-15 16:11:39 +1100 (Thu, 15 Nov 2012) | 4 lines

Implemented new 'c' copy-properties command, which will copy the props
of a sector (for example) from the selected one to the highlighted one.
Works for things and linedefs too (though linedefs is very limited).

------------------------------------------------------------------------
r181 | ajapted | 2012-11-15 15:52:14 +1100 (Thu, 15 Nov 2012) | 2 lines

Moved LineDefAlreadyExists() and LineDefWouldOverlap() code --&gt; e_linedef.cc

------------------------------------------------------------------------
r180 | ajapted | 2012-11-15 12:00:04 +1100 (Thu, 15 Nov 2012) | 2 lines

CHANGELOG updated.

------------------------------------------------------------------------
r179 | ajapted | 2012-11-15 11:57:10 +1100 (Thu, 15 Nov 2012) | 3 lines

Insert_Sector: when creating a square outside of map, if a sector is
already selected then copy the properties to the new sector.

------------------------------------------------------------------------
r178 | ajapted | 2012-11-15 11:45:43 +1100 (Thu, 15 Nov 2012) | 2 lines

CMD_MergeSectors: if deleting linedefs, delete unused vertices too.

------------------------------------------------------------------------
r177 | ajapted | 2012-11-15 11:43:32 +1100 (Thu, 15 Nov 2012) | 3 lines

Wrote DeleteLineDefs() function which not only deletes a list of lines,
but also deletes the unused vertices/sidedefs left over.

------------------------------------------------------------------------
r176 | ajapted | 2012-11-15 11:41:54 +1100 (Thu, 15 Nov 2012) | 3 lines

Moved UnusedVertices() and UnusedSideDefs() functions to global scope,
and renamed the 'list' parameter to 'lines' (for clearer code).

------------------------------------------------------------------------
r175 | ajapted | 2012-11-15 10:49:38 +1100 (Thu, 15 Nov 2012) | 4 lines

Emulate the Yadex (DEU?) behavior where trying to set the same mode as
currently active will clear the selection.  This is enabled by the
'same_mode_clears_selection' config variable (default is OFF).

------------------------------------------------------------------------
r174 | ajapted | 2012-11-15 10:35:56 +1100 (Thu, 15 Nov 2012) | 5 lines

CMD_MergeSectors: reworked way common linedefs are found, only detect
them between the source sector and a replaced sector (which prevents
removing pre-existing &quot;self-ref&quot; linedefs).  Also store them in a
selection_c.

------------------------------------------------------------------------
r173 | ajapted | 2012-11-15 10:30:24 +1100 (Thu, 15 Nov 2012) | 2 lines

Editor_Key: ensure the new 'm' merge command can only be used in Sectors mode.

------------------------------------------------------------------------
r172 | ajapted | 2012-11-14 22:29:26 +1100 (Wed, 14 Nov 2012) | 2 lines

Render 3D: made ALT + LEFT / RIGHT keys strafe instead of turn.

------------------------------------------------------------------------
r171 | ajapted | 2012-11-14 22:22:53 +1100 (Wed, 14 Nov 2012) | 2 lines

TODO / WISHLIST update.

------------------------------------------------------------------------
r170 | ajapted | 2012-11-14 19:46:24 +1100 (Wed, 14 Nov 2012) | 3 lines

Sector mode: implemented 'm' merge command which merges all selected
sectors into a single one.  The 'M' variant will keep common linedefs,

------------------------------------------------------------------------
r169 | ajapted | 2012-11-14 19:04:33 +1100 (Wed, 14 Nov 2012) | 4 lines

Sector mode: reworked handling of SPACE / INSERT key:
1. when a sector is highlighted, assume want to &quot;correct&quot; that sector
2. force insertion of a NEW sector via CTRL key

------------------------------------------------------------------------
r168 | ajapted | 2012-11-14 16:43:28 +1100 (Wed, 14 Nov 2012) | 2 lines

CHANGELOG: mention the recent vertex-insertion changes.

------------------------------------------------------------------------
r167 | ajapted | 2012-11-14 16:38:50 +1100 (Wed, 14 Nov 2012) | 4 lines

Vertex insertion: handle the case where a new vertex would split a line
and the selected vertex is an endpoint of that line -- simply split the
line (as if no vertex had been selected).

------------------------------------------------------------------------
r166 | ajapted | 2012-11-14 15:13:36 +1100 (Wed, 14 Nov 2012) | 3 lines

Vertex insertion: improved overlap test, refuse the operation for the
case of adding a line between old --&gt; new vertex.

------------------------------------------------------------------------
r165 | ajapted | 2012-11-14 15:05:55 +1100 (Wed, 14 Nov 2012) | 3 lines

Vertex insertion: prevent adding a new linedef if it would overlap an
existing line.

------------------------------------------------------------------------
r164 | ajapted | 2012-11-14 14:57:12 +1100 (Wed, 14 Nov 2012) | 2 lines

Basis: added LineDef::CalcLength() method.

------------------------------------------------------------------------
r163 | ajapted | 2012-11-14 14:37:34 +1100 (Wed, 14 Nov 2012) | 7 lines

Vertex insertion:
1. if one vertex is selected and it is highlighted (or new position
   is snapped to same coord), then merely de-select it.

2. if two is selected (or one + highlight) and the linedef already
   exists, then merely select the second and deselect the first.

------------------------------------------------------------------------
r162 | ajapted | 2012-11-13 21:49:26 +1100 (Tue, 13 Nov 2012) | 4 lines

When closing a simple vertex loop which is inside an existing sector,
now create a sector on the inside of the loop (instead of creating a
pillar).  Eventually this will be a config option.

------------------------------------------------------------------------
r161 | ajapted | 2012-11-13 21:38:21 +1100 (Tue, 13 Nov 2012) | 2 lines

Removed obsolete CopyObjects() code.

------------------------------------------------------------------------
r160 | ajapted | 2012-11-13 21:35:03 +1100 (Tue, 13 Nov 2012) | 2 lines

Fully disabled some usage of 'SelPtr' which I missed before.

------------------------------------------------------------------------
r159 | ajapted | 2012-11-13 21:34:09 +1100 (Tue, 13 Nov 2012) | 2 lines

Disabled 'c' and 'm' keys, they are about to be re-purposed...

------------------------------------------------------------------------
r158 | ajapted | 2012-11-13 21:32:18 +1100 (Tue, 13 Nov 2012) | 2 lines

Removed obsolete DoInsertObject() code.

------------------------------------------------------------------------
r157 | ajapted | 2012-11-13 21:13:09 +1100 (Tue, 13 Nov 2012) | 2 lines

TODO: hammered out new logic for Sector creation / correction / copying.

------------------------------------------------------------------------
r156 | ajapted | 2012-11-13 20:07:29 +1100 (Tue, 13 Nov 2012) | 2 lines

TODO / WISHLIST update.

------------------------------------------------------------------------
r155 | ajapted | 2012-11-13 20:01:09 +1100 (Tue, 13 Nov 2012) | 2 lines

Removed obsolete ymemory.cc/h code files.

------------------------------------------------------------------------
r154 | ajapted | 2012-11-13 19:59:06 +1100 (Tue, 13 Nov 2012) | 6 lines

Config code:
1. define a string_list_t type using std::vector
2. rewrote OPT_STRING_LIST handling to use string_list_t
3. removed append_item_to_list() function
4. replaced a usage of GetMemory() with StringDup()

------------------------------------------------------------------------
r153 | ajapted | 2012-11-13 17:25:09 +1100 (Tue, 13 Nov 2012) | 3 lines

Removed the 'SelPtr' type once and for all.  Disabled various pieces of
code which was using it (most of that was disabled already).

------------------------------------------------------------------------
r152 | ajapted | 2012-11-13 17:22:23 +1100 (Tue, 13 Nov 2012) | 2 lines

Removed unused bv_vertices_of_sectors() code.

------------------------------------------------------------------------
r151 | ajapted | 2012-11-13 17:21:33 +1100 (Tue, 13 Nov 2012) | 2 lines

Removed obsolete list_to_bitvec() and bitvec_to_list() functions.

------------------------------------------------------------------------
r150 | ajapted | 2012-11-13 17:16:34 +1100 (Tue, 13 Nov 2012) | 2 lines

Removed unused linedefs_of_sectors() code.

------------------------------------------------------------------------
r149 | ajapted | 2012-11-13 17:14:13 +1100 (Tue, 13 Nov 2012) | 2 lines

Removed unused unlink_sidedef() code.

------------------------------------------------------------------------
r148 | ajapted | 2012-11-13 17:06:16 +1100 (Tue, 13 Nov 2012) | 2 lines

Removed obsolete MoveObjectsToCoord() code.

------------------------------------------------------------------------
r147 | ajapted | 2012-11-13 17:05:37 +1100 (Tue, 13 Nov 2012) | 3 lines

Removed obsolete list_vertices_of_xxxs() functions.
Removed obsolete bv_vertices_of_linedefs(SelPtr) function.

------------------------------------------------------------------------
r146 | ajapted | 2012-11-13 16:57:27 +1100 (Tue, 13 Nov 2012) | 3 lines

Removed unused (and mostly broken) centre_of_xxxs functions.
Only one left is centre_of_sector(), which is actually used and works.

------------------------------------------------------------------------
r145 | ajapted | 2012-11-13 16:51:55 +1100 (Tue, 13 Nov 2012) | 2 lines

Removed old/unused/disabled MergeVertices() and AutoMergeVertices() code.

------------------------------------------------------------------------
r144 | ajapted | 2012-11-13 16:50:06 +1100 (Tue, 13 Nov 2012) | 2 lines

Removed obsolete RotateAndScaleObjects() code.

------------------------------------------------------------------------
r143 | ajapted | 2012-11-13 16:09:46 +1100 (Tue, 13 Nov 2012) | 2 lines

Removed a bunch of unused stuff from editobj.cc/h

------------------------------------------------------------------------
r142 | ajapted | 2012-11-12 22:32:18 +1100 (Mon, 12 Nov 2012) | 2 lines

Fleshed out the INSTALL.txt document.

------------------------------------------------------------------------
r141 | ajapted | 2012-11-12 21:12:28 +1100 (Mon, 12 Nov 2012) | 3 lines

CMD_BuildNodes: show an error message if edit_wad has &quot;.new&quot; extension
(otherwise the delete + rename logic is going to fail).

------------------------------------------------------------------------
r140 | ajapted | 2012-11-12 21:10:03 +1100 (Mon, 12 Nov 2012) | 2 lines

File utils: renamed CheckExtension() --&gt; MatchExtension()

------------------------------------------------------------------------
r139 | ajapted | 2012-11-12 20:24:27 +1100 (Mon, 12 Nov 2012) | 3 lines

CMD_BuildNodes: fixed bug where 'old_name' became invalid rubbish because
the edit_wad object was deleted.

------------------------------------------------------------------------
r138 | ajapted | 2012-11-12 16:10:50 +1100 (Mon, 12 Nov 2012) | 5 lines

CMD_BuildNodes:
1. use proper output name, replacing extension with &quot;.new&quot;
2. delete the &quot;.new&quot; file if the build was unsuccessful (cancel or error)
3. if successful, delete old file and rename new file to old filename

------------------------------------------------------------------------
r137 | ajapted | 2012-11-12 16:08:05 +1100 (Mon, 12 Nov 2012) | 1 line

tweak
------------------------------------------------------------------------
r136 | ajapted | 2012-11-12 14:50:31 +1100 (Mon, 12 Nov 2012) | 3 lines

CMD_BuildNodes: added proper (albeit simplistic) dialogs when the user
tries to build nodes without any PWAD, or when there are unsaved changes.

------------------------------------------------------------------------
r135 | ajapted | 2012-11-12 14:41:23 +1100 (Mon, 12 Nov 2012) | 4 lines

CMD_BuildNodes: properly split lines in UI_Nodes::Add() method.

Also: added a blank line before each error message.

------------------------------------------------------------------------
r134 | ajapted | 2012-11-12 14:33:49 +1100 (Mon, 12 Nov 2012) | 2 lines

CHANGELOG: added entry for the new node building feature.

------------------------------------------------------------------------
r133 | ajapted | 2012-11-12 14:27:34 +1100 (Mon, 12 Nov 2012) | 3 lines

CMD_BuildNodes: handle the ESCAPE key better -- if not finished then
cancel the build, otherwise close the window.

------------------------------------------------------------------------
r132 | ajapted | 2012-11-12 14:26:38 +1100 (Mon, 12 Nov 2012) | 1 line

whitespacing
------------------------------------------------------------------------
r131 | ajapted | 2012-11-12 13:17:48 +1100 (Mon, 12 Nov 2012) | 6 lines

CMD_BuildNodes:
1. support the CLOSE button and Cancel button in UI_Nodes
2. cancel the build when user wants to cancel (or close the window)
3. show final status (Success/Cancel/ERROR) in the progress bar
4. on success, use CMD_Quit to exit Eureka

------------------------------------------------------------------------
r130 | ajapted | 2012-11-12 11:32:55 +1100 (Mon, 12 Nov 2012) | 6 lines

CMD_BuildNodes:
1. added and implemented the progress bar
2. added 'Cancel' button (not working yet)
3. move text browser to bottom for each Add()
4. tidy up of glbsp callbacks

------------------------------------------------------------------------
r129 | ajapted | 2012-11-11 22:37:48 +1100 (Sun, 11 Nov 2012) | 3 lines

CMD_BuildNodes: use Fl::check() to ensure window gets shown before the
node building begins.

------------------------------------------------------------------------
r128 | ajapted | 2012-11-11 22:28:37 +1100 (Sun, 11 Nov 2012) | 2 lines

Version bump to 0.81

------------------------------------------------------------------------
r127 | ajapted | 2012-11-11 22:27:04 +1100 (Sun, 11 Nov 2012) | 2 lines

svn:ignore

------------------------------------------------------------------------
r126 | ajapted | 2012-11-11 22:14:56 +1100 (Sun, 11 Nov 2012) | 2 lines

TODO tidy up.

------------------------------------------------------------------------
r125 | ajapted | 2012-11-11 21:50:49 +1100 (Sun, 11 Nov 2012) | 2 lines

Makefile: added ui_nodes.o to the build.

------------------------------------------------------------------------
r124 | ajapted | 2012-11-11 21:50:23 +1100 (Sun, 11 Nov 2012) | 2 lines

CMD_BuildNodes: bit more work on dialog window....

------------------------------------------------------------------------
r123 | ajapted | 2012-11-11 21:24:40 +1100 (Sun, 11 Nov 2012) | 2 lines

CMD_BuildNodes: handle the &quot;(Hexen)&quot; suffix when determining map name.

------------------------------------------------------------------------
r122 | ajapted | 2012-11-11 21:22:48 +1100 (Sun, 11 Nov 2012) | 4 lines

Initial work on a UI_NodeDialog window, which will show the progress of
building nodes and the output from the node builder, as well as have
CANCEL and OK buttons.  Very skeletal so far....

------------------------------------------------------------------------
r121 | ajapted | 2012-11-11 20:56:55 +1100 (Sun, 11 Nov 2012) | 2 lines

CMD_BuildNodes: extract map name from progress-bar text.

------------------------------------------------------------------------
r120 | ajapted | 2012-11-11 20:50:14 +1100 (Sun, 11 Nov 2012) | 3 lines

CMD_BuildNodes: added interface code to glBSP and the function which does
all the heavy lifting (DM_BuildNodes).  Mainly copy'n'paste from OBLIGE.

------------------------------------------------------------------------
r119 | ajapted | 2012-11-11 20:26:20 +1100 (Sun, 11 Nov 2012) | 4 lines

Makefile: logic for building and linking the glBSP code.

Also added conditional lines for FLTK in a non-standard place.

------------------------------------------------------------------------
r118 | ajapted | 2012-11-11 20:21:46 +1100 (Sun, 11 Nov 2012) | 2 lines

Deleted Makefile.opt -- added the extra bits into 'Makefile' (in a conditional section).

------------------------------------------------------------------------
r117 | ajapted | 2012-11-11 19:15:58 +1100 (Sun, 11 Nov 2012) | 4 lines

glbsp code: encapsulated all code into a 'glbsp' namespace.

Also removed the 'Glbsp' prefix from a few API functions.

------------------------------------------------------------------------
r116 | ajapted | 2012-11-11 19:00:47 +1100 (Sun, 11 Nov 2012) | 2 lines

Checked in a copy of glBSP 2.27 source code.

------------------------------------------------------------------------
r115 | ajapted | 2012-11-11 18:25:04 +1100 (Sun, 11 Nov 2012) | 2 lines

CMD_BuildNodes: make sure we have a PWAD.

------------------------------------------------------------------------
r114 | ajapted | 2012-11-11 16:53:06 +1100 (Sun, 11 Nov 2012) | 4 lines

Preliminary work on &quot;Build Nodes&quot; command (in File menu, CTRL-B key).
This will invoke an external nodes builder (glbsp for now), show the
output, then quit.

------------------------------------------------------------------------
r113 | ajapted | 2012-11-10 23:10:38 +1100 (Sat, 10 Nov 2012) | 3 lines

1. Keyboard shortcuts T/F/O/S/L open browser at specific kind
2. Made MIN_BROWSER_W a bit narrower (280 --&gt; 260)

------------------------------------------------------------------------
r112 | ajapted | 2012-11-10 23:08:54 +1100 (Sat, 10 Nov 2012) | 2 lines

Browser: tweaked position of 'Pics' button.

------------------------------------------------------------------------
r111 | ajapted | 2012-11-10 22:35:25 +1100 (Sat, 10 Nov 2012) | 2 lines

Added 'INSTALL.txt' document (mostly empty).

------------------------------------------------------------------------
r110 | ajapted | 2012-11-10 22:16:58 +1100 (Sat, 10 Nov 2012) | 2 lines

Tweaked calculations in zoom_fit().

------------------------------------------------------------------------
r109 | ajapted | 2012-11-10 22:16:17 +1100 (Sat, 10 Nov 2012) | 2 lines

Fixed initial zoom (it was computed while browser was still present).

------------------------------------------------------------------------
r108 | ajapted | 2012-11-10 21:57:45 +1100 (Sat, 10 Nov 2012) | 3 lines

Makefiles: updated 'install' target with commands to install the desktop
and icon files, using the XDG tools (in the xdg-utils package).

------------------------------------------------------------------------
r107 | ajapted | 2012-11-10 21:11:24 +1100 (Sat, 10 Nov 2012) | 3 lines

DESKTOP file: Removed 'Application' from Categories, as the
desktop-file-validate program warned it was deprecated.

------------------------------------------------------------------------
r106 | ajapted | 2012-11-10 19:47:55 +1100 (Sat, 10 Nov 2012) | 2 lines

Desktop file: added StartupNotify=false

------------------------------------------------------------------------
r105 | ajapted | 2012-11-10 19:07:08 +1100 (Sat, 10 Nov 2012) | 2 lines

TODO and CHANGELOG update.

------------------------------------------------------------------------
r104 | ajapted | 2012-11-10 18:45:49 +1100 (Sat, 10 Nov 2012) | 4 lines

In game defs, allow texture and flat group to be uppercase, and match
these against the 'X' category.  This is a very simple way to allow
textures and flats to belong (or not) to one additional group.

------------------------------------------------------------------------
r103 | ajapted | 2012-11-10 18:41:05 +1100 (Sat, 10 Nov 2012) | 2 lines

Browser: made initial width a bit wider (show 4 flats instead of 3).

------------------------------------------------------------------------
r102 | ajapted | 2012-11-10 17:15:25 +1100 (Sat, 10 Nov 2012) | 2 lines

DOOM game def: assigned SKY1/2/3 and F_SKY1 into 'Natural' category.

------------------------------------------------------------------------
r101 | ajapted | 2012-11-10 16:42:14 +1100 (Sat, 10 Nov 2012) | 2 lines

PLUTONIA game defs: assigned categories for all the new textures.

------------------------------------------------------------------------
r100 | ajapted | 2012-11-10 16:24:53 +1100 (Sat, 10 Nov 2012) | 3 lines

TNT game def: placed all the new TNT textures into categories, including
two new categories &quot;Crates&quot; and &quot;Egypt&quot;.

------------------------------------------------------------------------
r99 | ajapted | 2012-11-10 15:37:20 +1100 (Sat, 10 Nov 2012) | 3 lines

DOOM defs: fixed the 'SW2XXX' textures which were lacking a category
line for them -- should be same as their 'SW1' counterparts.

------------------------------------------------------------------------
r98 | ajapted | 2012-11-10 15:32:18 +1100 (Sat, 10 Nov 2012) | 2 lines

CHANGELOG: tweaked layout (use two spaces)

------------------------------------------------------------------------
r97 | ajapted | 2012-11-10 15:21:22 +1100 (Sat, 10 Nov 2012) | 2 lines

Update for TODO.txt and CHANGES.txt

------------------------------------------------------------------------
r96 | ajapted | 2012-11-10 15:18:45 +1100 (Sat, 10 Nov 2012) | 4 lines

Render: strafe left/right when the ALT (or META) key is pressed
(in addition to the RMB).  It is not ideal, since window manager
will typically steal the ALT + RMB combination for themselves.

------------------------------------------------------------------------
r95 | ajapted | 2012-11-10 15:00:50 +1100 (Sat, 10 Nov 2012) | 3 lines

When searching for IWADs, check for uppercase'd name (like &quot;DOOM.WAD&quot;).
This also required lowercasing it when determining the Game name.

------------------------------------------------------------------------
r94 | ajapted | 2012-11-10 14:56:50 +1100 (Sat, 10 Nov 2012) | 2 lines

Utils: added y_strlowr() and rewrote y_strupr().

------------------------------------------------------------------------
r93 | ajapted | 2012-11-10 14:34:50 +1100 (Sat, 10 Nov 2012) | 6 lines

Improved IWAD finding logic:
1. if the -iwad parameter has no extension, add &quot;.wad&quot;
2. if the -iwad parameter is a bare name, look in iwad search path
3. added ~/.eureka/iwads directory to search path
4. when searching, look for other iwad names (e.g. &quot;doom.wad&quot; and &quot;tnt.wad&quot;)

------------------------------------------------------------------------
r92 | ajapted | 2012-11-10 13:54:12 +1100 (Sat, 10 Nov 2012) | 3 lines

1. Require a valid home_dir
2. Create extra subdirs in the home dir (&quot;iwads/&quot;, &quot;games/&quot; etc)

------------------------------------------------------------------------
r91 | ajapted | 2012-11-10 13:26:44 +1100 (Sat, 10 Nov 2012) | 3 lines

Refactored code into DetermineLevel() for finding what level to use,
and added support for plain numbers (e.g. -warp 15).

------------------------------------------------------------------------
r90 | ajapted | 2012-11-10 13:23:20 +1100 (Sat, 10 Nov 2012) | 3 lines

WAD code: implemented FindLevelByNumber() method for Wad_file, which
will look for a match against &quot;MAP##&quot; or &quot;E#M#&quot; level names.

------------------------------------------------------------------------
r89 | ajapted | 2012-11-10 12:57:00 +1100 (Sat, 10 Nov 2012) | 2 lines

When level name is not specified, find the first one in the PWAD or IWAD.

------------------------------------------------------------------------
r88 | ajapted | 2012-11-10 12:12:27 +1100 (Sat, 10 Nov 2012) | 2 lines

WAD code: added API for reading level list.

------------------------------------------------------------------------
r87 | ajapted | 2012-11-10 12:07:55 +1100 (Sat, 10 Nov 2012) | 2 lines

WAD code: added 'FindFirstLevel' method to Wad_file class.

------------------------------------------------------------------------
r86 | ajapted | 2012-11-10 11:57:50 +1100 (Sat, 10 Nov 2012) | 3 lines

1. renamed Editor_Loop --&gt; Main_Loop, moved into main.cc
2. start with browser disabled (turn off after creating main_win)

------------------------------------------------------------------------
r85 | ajapted | 2012-11-09 23:08:49 +1100 (Fri, 09 Nov 2012) | 3 lines

UI_Scroll: use clip_children(1) to prevent contents from drawing over
other parts of the GUI.

------------------------------------------------------------------------
r84 | ajapted | 2012-11-09 22:54:44 +1100 (Fri, 09 Nov 2012) | 2 lines

Browser: tweaked layout of images

------------------------------------------------------------------------
r83 | ajapted | 2012-11-09 22:41:21 +1100 (Fri, 09 Nov 2012) | 2 lines

UI_Scroll: added ability to horizontally resize child widgets.

------------------------------------------------------------------------
r82 | ajapted | 2012-11-09 22:21:17 +1100 (Fri, 09 Nov 2012) | 2 lines

UI_Scroll: make sure scrollbar gets vertically resized.

------------------------------------------------------------------------
r81 | ajapted | 2012-11-09 22:18:41 +1100 (Fri, 09 Nov 2012) | 2 lines

UI_Scroll: fixed Remove_first() which erroneously removed the scrollbar.

------------------------------------------------------------------------
r80 | ajapted | 2012-11-09 21:42:46 +1100 (Fri, 09 Nov 2012) | 4 lines

UI_Scroll: made it a subclass of Fl_Group (it is not really possible
with FLTK to make container widgets any other way).  Renamed the group
like methods to use an uppercase letter (Add, Remove, Init_Sizes, etc).

------------------------------------------------------------------------
r79 | ajapted | 2012-11-08 21:52:31 +1100 (Thu, 08 Nov 2012) | 2 lines

UI_Scroll: more work on scrolling -- it is working pretty well now.

------------------------------------------------------------------------
r78 | ajapted | 2012-11-08 19:29:29 +1100 (Thu, 08 Nov 2012) | 2 lines

UI_Scroll: got ability to scroll working, via new reposition_all() method.

------------------------------------------------------------------------
r77 | ajapted | 2012-11-08 19:20:12 +1100 (Thu, 08 Nov 2012) | 4 lines

UI_Scroll: the init_sizes() method now calculates the bottom of all child
widgets.  Added a callback for the scrollbar (all it does currently is
redraw).

------------------------------------------------------------------------
r76 | ajapted | 2012-11-08 15:57:56 +1100 (Thu, 08 Nov 2012) | 2 lines

Browser: added an undrawn resize box to control resizing.

------------------------------------------------------------------------
r75 | ajapted | 2012-11-07 20:38:29 +1100 (Wed, 07 Nov 2012) | 2 lines

UI_Scroll: draw the box.

------------------------------------------------------------------------
r74 | ajapted | 2012-11-07 20:00:02 +1100 (Wed, 07 Nov 2012) | 4 lines

Browser: partial work to transition to new UI_Scroll widget, renamed
the 'pack' field --&gt; 'scroll', removed the resize_buttons() and
fix_scrollbar_order() hacks, and disabled a few things.

------------------------------------------------------------------------
r73 | ajapted | 2012-11-07 19:57:38 +1100 (Wed, 07 Nov 2012) | 3 lines

UI_Scroll widget: fleshed out some methods, and added a few delegates
e.g. children() which merely passes through to pack-&gt;children().

------------------------------------------------------------------------
r72 | ajapted | 2012-11-07 19:37:48 +1100 (Wed, 07 Nov 2012) | 5 lines

Browser: update the image list when resized (reposition them).

This commit includes an attempt to get text buttons horizontally resized,
but it doesn't work since Fl_Scroll is an utter piece of crap.

------------------------------------------------------------------------
r71 | ajapted | 2012-11-07 19:12:17 +1100 (Wed, 07 Nov 2012) | 2 lines

Began work on a decent scroll widget (Fl_Scroll is fucked).

------------------------------------------------------------------------
r70 | ajapted | 2012-11-07 15:35:01 +1100 (Wed, 07 Nov 2012) | 3 lines

Browser: tweak to size and layout, e.g. moved 'X' button to left side and
added invisible resize box to the right.

------------------------------------------------------------------------
r69 | ajapted | 2012-11-07 14:50:30 +1100 (Wed, 07 Nov 2012) | 3 lines

Fixed UI_Tile event propagation, the FL_NO_BOX 'limiter' was stealing
events from the canvas widget.

------------------------------------------------------------------------
r68 | ajapted | 2012-11-07 14:03:40 +1100 (Wed, 07 Nov 2012) | 2 lines

CHANGELOG: added browser resize feature.

------------------------------------------------------------------------
r67 | ajapted | 2012-11-07 14:03:23 +1100 (Wed, 07 Nov 2012) | 2 lines

TODO update.

------------------------------------------------------------------------
r66 | ajapted | 2012-11-07 14:00:09 +1100 (Wed, 07 Nov 2012) | 4 lines

Implemented the resize behavior of UI_Tile, which tries to maintain the
width of the right widget (the browser), and remembers that width when
it is hidden so it can be restored.

------------------------------------------------------------------------
r65 | ajapted | 2012-11-07 13:36:41 +1100 (Wed, 07 Nov 2012) | 3 lines

Implemented new method to show/hide the browser (methods of UI_Tile).
Did a bit of work on resize() behavior and handling the limiter box.

------------------------------------------------------------------------
r64 | ajapted | 2012-11-07 13:15:51 +1100 (Wed, 07 Nov 2012) | 2 lines

Use the new UI_Tile widget (constructing the main window).

------------------------------------------------------------------------
r63 | ajapted | 2012-11-07 13:08:37 +1100 (Wed, 07 Nov 2012) | 3 lines

Began work on UI_Tile widget, a variant on Fl_Tile which will provide
better resize behavior and handle the ability to show/hide the browser.

------------------------------------------------------------------------
r62 | ajapted | 2012-11-07 11:10:45 +1100 (Wed, 07 Nov 2012) | 2 lines

Added a basic logo image.

------------------------------------------------------------------------
r61 | ajapted | 2012-11-07 11:09:50 +1100 (Wed, 07 Nov 2012) | 2 lines

Added a basic icon: eureka.xpm

------------------------------------------------------------------------
r60 | ajapted | 2012-11-01 18:46:49 +1100 (Thu, 01 Nov 2012) | 2 lines

Created a basic .desktop file.

------------------------------------------------------------------------
r59 | ajapted | 2012-11-01 18:41:01 +1100 (Thu, 01 Nov 2012) | 2 lines

Added top-level 'misc' folder.

------------------------------------------------------------------------
r58 | ajapted | 2012-11-01 12:45:39 +1100 (Thu, 01 Nov 2012) | 2 lines

Ignore blank/comment lines in persistent data files.

------------------------------------------------------------------------
r57 | ajapted | 2012-11-01 12:43:41 +1100 (Thu, 01 Nov 2012) | 2 lines

Create the cache folder (in home_dir).

------------------------------------------------------------------------
r56 | ajapted | 2012-11-01 12:42:39 +1100 (Thu, 01 Nov 2012) | 2 lines

Use proper path for cache data (i.e. home_dir).

------------------------------------------------------------------------
r55 | ajapted | 2012-10-25 15:04:11 +1100 (Thu, 25 Oct 2012) | 2 lines

TODO update / tidy up.

------------------------------------------------------------------------
r54 | ajapted | 2012-10-25 15:03:21 +1100 (Thu, 25 Oct 2012) | 4 lines

Config: improved output of dump_command_line_options(), use new 'arg_desc'
field of option structure to provide a short description of the argument
which the option takes.  Reordered the list, and removed 'is_file' thang.

------------------------------------------------------------------------
r53 | ajapted | 2012-10-25 12:11:49 +1100 (Thu, 25 Oct 2012) | 4 lines

Game defs: look in the &quot;common&quot; folder when an UGH file is not found in the
specified folder (like &quot;games&quot;).  This is mainly for include directives,
and needed for the recent move of shared files to the common folder.

------------------------------------------------------------------------
r52 | ajapted | 2012-10-25 10:47:57 +1100 (Thu, 25 Oct 2012) | 2 lines

Makefiles: install the new 'common' folder.

------------------------------------------------------------------------
r51 | ajapted | 2012-10-25 10:47:22 +1100 (Thu, 25 Oct 2012) | 2 lines

Moved 'doom_specials.ugh' and 'doom_common.ugh' --&gt; common/ folder.

------------------------------------------------------------------------
r50 | ajapted | 2012-10-25 10:44:04 +1100 (Thu, 25 Oct 2012) | 2 lines

Added 'common' folder -- for definitions shared between game defs.

------------------------------------------------------------------------
r49 | ajapted | 2012-10-24 23:37:44 +1100 (Wed, 24 Oct 2012) | 2 lines

TODO update.

------------------------------------------------------------------------
r48 | ajapted | 2012-10-24 20:08:49 +1100 (Wed, 24 Oct 2012) | 3 lines

Improved dump_command_line_options(), entries need 'h' flag to be displayed,
and the '&lt;' flag prints a line break.

------------------------------------------------------------------------
r47 | ajapted | 2012-10-24 19:46:43 +1100 (Wed, 24 Oct 2012) | 2 lines

Implemented the --help and --version options.

------------------------------------------------------------------------
r46 | ajapted | 2012-10-24 18:08:40 +1100 (Wed, 24 Oct 2012) | 2 lines

tweak to error dialog.

------------------------------------------------------------------------
r45 | ajapted | 2012-10-24 18:06:28 +1100 (Wed, 24 Oct 2012) | 2 lines

Config: better handling of lines with extraneous arguments.

------------------------------------------------------------------------
r44 | ajapted | 2012-10-24 17:22:27 +1100 (Wed, 24 Oct 2012) | 6 lines

Config handling:
1. simplified OPT_BOOLEAN handling in config files
2. added &quot;WARNING&quot; prefix to some log messages
3. replaced '\0' with 0
4. renamed OPT_STRINGPTRLIST --&gt; OPT_STRING_LIST (etc).

------------------------------------------------------------------------
r43 | ajapted | 2012-10-24 17:05:37 +1100 (Wed, 24 Oct 2012) | 4 lines

Config handling:
1. use FatalError() instead of LogPrintf() for some stuff
2. removed OPT_STRINGPTRACC and OPT_UNSIGNED -- simplify the code.

------------------------------------------------------------------------
r42 | ajapted | 2012-10-24 16:42:03 +1100 (Wed, 24 Oct 2012) | 2 lines

Error handling polishing.

------------------------------------------------------------------------
r41 | ajapted | 2012-10-24 15:03:14 +1100 (Wed, 24 Oct 2012) | 3 lines

Added code files 'ui_dialog' which implements DLG_ShowError().
Source was OBLIGE code.

------------------------------------------------------------------------
r40 | ajapted | 2012-10-24 14:56:22 +1100 (Wed, 24 Oct 2012) | 2 lines

FatalError: print message to log file and call DLG_ShowError().

------------------------------------------------------------------------
r39 | ajapted | 2012-10-24 14:49:11 +1100 (Wed, 24 Oct 2012) | 2 lines

Wad: imlemented MasterDir_CloseAll() function.

------------------------------------------------------------------------
r38 | ajapted | 2012-10-23 22:09:18 +1100 (Tue, 23 Oct 2012) | 2 lines

Worked on improving the FatalError() logic....

------------------------------------------------------------------------
r37 | ajapted | 2012-10-23 21:33:42 +1100 (Tue, 23 Oct 2012) | 2 lines

Added 'CHANGES.txt' document -- keep track of recent changes.

------------------------------------------------------------------------
r36 | ajapted | 2012-10-23 20:50:09 +1100 (Tue, 23 Oct 2012) | 2 lines

Removed last vestiges of err() function.

------------------------------------------------------------------------
r35 | ajapted | 2012-10-23 19:31:30 +1100 (Tue, 23 Oct 2012) | 5 lines

Config:
1. replace err() with LogPrintf()
2. show strerror(errno) in some messages
3. fixed warnings about &amp;&amp; inside ||

------------------------------------------------------------------------
r34 | ajapted | 2012-10-22 22:31:16 +1100 (Mon, 22 Oct 2012) | 2 lines

Made 'BugError' just be an alias for FatalError().

------------------------------------------------------------------------
r33 | ajapted | 2012-10-22 22:24:52 +1100 (Mon, 22 Oct 2012) | 2 lines

Replaced 'warn' function with LogPrintf.

------------------------------------------------------------------------
r32 | ajapted | 2012-10-22 22:11:12 +1100 (Mon, 22 Oct 2012) | 3 lines

Config: fixed crashing bug with handling loose files (argv and argc were
not iterated properly).  The same bug also exists in Yadex 1.7.0.

------------------------------------------------------------------------
r31 | ajapted | 2012-10-22 20:47:18 +1100 (Mon, 22 Oct 2012) | 2 lines

Config: tweaked handling of loose files, and code reformatting.

------------------------------------------------------------------------
r30 | ajapted | 2012-10-22 20:44:08 +1100 (Mon, 22 Oct 2012) | 3 lines

Config: removed hack of first entry in options[] being used for loose
filenames.  Instead handle them explicitly.

------------------------------------------------------------------------
r29 | ajapted | 2012-10-22 20:26:52 +1100 (Mon, 22 Oct 2012) | 2 lines

Makefiles: prevent an install error (since there are currently no mods).

------------------------------------------------------------------------
r28 | ajapted | 2012-10-22 20:25:40 +1100 (Mon, 22 Oct 2012) | 3 lines

About box: tweaked Yadex reference -- I don't want to give the impression
that Eureka is a continuation of Yadex or is compatible with Yadex.

------------------------------------------------------------------------
r27 | ajapted | 2012-10-22 19:46:27 +1100 (Mon, 22 Oct 2012) | 3 lines

Docs: added History_1.txt and History_2.txt -- contains the commit history
from the EDGE repository and AwwPorts repository (respectively).

------------------------------------------------------------------------
r26 | ajapted | 2012-10-22 17:19:19 +1100 (Mon, 22 Oct 2012) | 2 lines

Makefiles: install the 'mods' folder too (like 'games' and 'ports').

------------------------------------------------------------------------
r25 | ajapted | 2012-10-22 17:15:34 +1100 (Mon, 22 Oct 2012) | 2 lines

Use DebugPrintf() in most places instead of fprintf(stderr).

------------------------------------------------------------------------
r24 | ajapted | 2012-10-22 17:04:23 +1100 (Mon, 22 Oct 2012) | 2 lines

Config: fixed --log option (had wrong type, BOOLEAN).

------------------------------------------------------------------------
r23 | ajapted | 2012-10-22 15:47:00 +1100 (Mon, 22 Oct 2012) | 3 lines

Version bumped to 0.80, in honor of creating a real sourceforge project
and installation of the pmwiki web-site (etc).

------------------------------------------------------------------------
r22 | ajapted | 2012-10-22 15:44:45 +1100 (Mon, 22 Oct 2012) | 3 lines

Log file: when output is the terminal, don't print the '=== START OF LOGS ==='
message and similar end message.

------------------------------------------------------------------------
r21 | ajapted | 2012-10-22 15:39:15 +1100 (Mon, 22 Oct 2012) | 3 lines

Config files: re-implemented the parse_config_file_user() and
parse_config_file_default() functions.

------------------------------------------------------------------------
r20 | ajapted | 2012-10-22 15:22:57 +1100 (Mon, 22 Oct 2012) | 2 lines

tweakage and movage.

------------------------------------------------------------------------
r19 | ajapted | 2012-10-22 14:22:15 +1100 (Mon, 22 Oct 2012) | 8 lines

Rework of log file handling:
1. the --log option specifies a log file, use stdout as fallback
2. the --quiet option suppresses the stdout fallback
3. be sure to LogClose() in error handlers
4. added --debug option to enable debug messages
5. debug messages either go to log file (if used), else stderr
6. added 'init_progress' global var

------------------------------------------------------------------------
r18 | ajapted | 2012-10-22 13:28:25 +1100 (Mon, 22 Oct 2012) | 2 lines

Options: better handling of --version (same way as --help).

------------------------------------------------------------------------
r17 | ajapted | 2012-10-22 13:21:45 +1100 (Mon, 22 Oct 2012) | 2 lines

Removed unused 'Quieter' option / var.

------------------------------------------------------------------------
r16 | ajapted | 2012-10-21 22:35:58 +1100 (Sun, 21 Oct 2012) | 8 lines

Option parsing:
1. revert previous commit, the 'long_name' can now be used with either
   single or double dashes (e.g. --iwad or just -iwad).  I remembered
   that the options were meant to mimic what DOOM.EXE accepts.
2. handle --version a bit better
3. provide short options for common options: -f (-file), -w (-warp), etc..
4. reordered entries in options[] table, more common ones near the top.

------------------------------------------------------------------------
r15 | ajapted | 2012-10-21 22:14:51 +1100 (Sun, 21 Oct 2012) | 3 lines

Option parsing: require short options be a single letter, and long options
begin with double dashes, e.g. --iwad.

------------------------------------------------------------------------
r14 | ajapted | 2012-10-21 21:58:22 +1100 (Sun, 21 Oct 2012) | 4 lines

1. Determine home_dir/install_dir BEFORE parsing config files or normal options
2. Support --home and --install options (override the automatic logic)
3. Renamed --config_file to just --config

------------------------------------------------------------------------
r13 | ajapted | 2012-10-21 21:21:47 +1100 (Sun, 21 Oct 2012) | 4 lines

Look for &quot;.ugh&quot; definition files in two places: (1) home_dir and (2) install_dir.
(In that order too).  This is part of the transition to using proper unixy
file location conventions.

------------------------------------------------------------------------
r12 | ajapted | 2012-10-21 21:16:40 +1100 (Sun, 21 Oct 2012) | 2 lines

Added 'mods' folder (empty).

------------------------------------------------------------------------
r11 | ajapted | 2012-10-20 22:26:52 +1100 (Sat, 20 Oct 2012) | 2 lines

Show the home_dir and install_dir (on stderr), and reformatted that code.

------------------------------------------------------------------------
r10 | ajapted | 2012-10-20 22:17:41 +1100 (Sat, 20 Oct 2012) | 3 lines

Added new code files 'lib_file.*' -- contain various file utilities.
Source was OBLIGE code, reformatted and tweaked.

------------------------------------------------------------------------
r9 | ajapted | 2012-10-20 22:07:20 +1100 (Sat, 20 Oct 2012) | 3 lines

Added the following string utilities (from OBLIGE code) :
   StringNew(), StringDup(), StringPrintf(), StringFree().

------------------------------------------------------------------------
r8 | ajapted | 2012-10-20 22:00:56 +1100 (Sat, 20 Oct 2012) | 2 lines

Renamed code files: yutil.* --&gt; lib_util.*

------------------------------------------------------------------------
r7 | ajapted | 2012-10-20 21:48:47 +1100 (Sat, 20 Oct 2012) | 3 lines

Added 'home_dir' and 'install_dir' global vars, and code to determine
what their values should be.

------------------------------------------------------------------------
r6 | ajapted | 2012-10-20 18:50:12 +1100 (Sat, 20 Oct 2012) | 2 lines

Makefile: removed FLTK_PREFIX stuff.

------------------------------------------------------------------------
r5 | ajapted | 2012-10-20 17:46:15 +1100 (Sat, 20 Oct 2012) | 2 lines

Disabled reading the eureka.cfg file (that mechanism is under review).

------------------------------------------------------------------------
r4 | ajapted | 2012-10-20 17:12:29 +1100 (Sat, 20 Oct 2012) | 2 lines

Created 'Makefile.opt' for FLTK installed the /opt folder.

------------------------------------------------------------------------
r3 | ajapted | 2012-10-20 15:40:19 +1100 (Sat, 20 Oct 2012) | 2 lines

Initial check-in of existing Eureka code (from the AwwPorts repository).

------------------------------------------------------------------------
r2 | ajapted | 2012-10-20 15:36:36 +1100 (Sat, 20 Oct 2012) | 2 lines

Test check-in: README.txt

------------------------------------------------------------------------
r1 | allura | 2012-10-18 22:39:16 +1100 (Thu, 18 Oct 2012) | 1 line

Initial commit.



====================================================
    DEVELOPMENT IN AWWPORTS REPOSITORY
====================================================

------------------------------------------------------------------------
r3135 | ajapted | 2012-10-17

Makefile.unix: implemented 'install' and 'uninstall' targets.

------------------------------------------------------------------------
r3134 | ajapted | 2012-10-17

TODO update.

------------------------------------------------------------------------
r3133 | ajapted | 2012-10-17

Eureka: created a Makefile.unix -- will be used to build and install
a normal unixy binary.  Main difference so far is that it links
against a system-wide version of FLTK.

------------------------------------------------------------------------
r3132 | ajapted | 2012-10-16

Eureka: handle a pwad filename given without -file.
For example: ./eureka foo.wad

------------------------------------------------------------------------
r3131 | ajapted | 2012-10-16

tweak

------------------------------------------------------------------------
r2744 | ajapted | 2012-07-16

Eureka: TODO item.

------------------------------------------------------------------------
r1468 | ajapted | 2012-05-15

try to unfuck this BZR repository.....

------------------------------------------------------------------------
r1467 | ajapted | 2012-05-15

Eureka / EDGE: various fixes and improvement to new linetypes.

------------------------------------------------------------------------
r1466 | ajapted | 2012-05-15

Eureka / EDGE: fixed remaining linetypes, e.g. rts scripting, sliding doors,
aligners, etc..

------------------------------------------------------------------------
r1465 | ajapted | 2012-05-15

Eureka / EDGE: worked on linetypes, e.g. new keyed doors, hub exits, etc..

------------------------------------------------------------------------
r1462 | ajapted | 2012-05-14

Eureka / EDGE: added all the sector types.

------------------------------------------------------------------------
r1461 | ajapted | 2012-05-14

Eureka / EDGE: added remaining missing things: dog, glows, stealth monsters.

------------------------------------------------------------------------
r1460 | ajapted | 2012-05-14

Eureka / EDGE: fixed category for slopes, and added some missing things
(Jetpack, green keys, new armors).

------------------------------------------------------------------------
r1459 | ajapted | 2012-05-14

Eureka / Odamex: added Blue/Red player starts and Static_Init things (333 to 335).

------------------------------------------------------------------------
r1458 | ajapted | 2012-05-14

Eureka: more work to ODAMEX definitions (sector types, etc etc...)

------------------------------------------------------------------------
r1457 | ajapted | 2012-05-14

Eureka: added slope linetypes to EDGE definition.

------------------------------------------------------------------------
r1456 | ajapted | 2012-05-14

Eureka: partial work on ODAMEX support : ports/odamex.ugh

------------------------------------------------------------------------
r1455 | ajapted | 2012-05-14

Eureka: added bare-bone game definitions for Absolution (Doom64 TC),
Blasphemer and HacX.

------------------------------------------------------------------------
r1453 | ajapted | 2012-04-24

Eureka / DOOM defs: fixed linetypes 33 and 34 (red and yellow locked doors)
which had swapped descriptions.

------------------------------------------------------------------------
r1452 | ajapted | 2012-04-18

Eureka: fixed W_FindPatchLump() fallback method to try _any_ lump with
the matching name (instead of just sprites).  This fixes the missing
textures with the Doom64 TC.

------------------------------------------------------------------------
r1451 | ajapted | 2012-04-18

Eureka: added a LoadTexture_SinglePatch() function to texture loading code
which turned out not to be necessary -- but kept for possible future use.

------------------------------------------------------------------------
r1450 | ajapted | 2012-03-23

Eureka / DOOM: somehow the 'Computer map' pickup disappeared from the
definition files -- added it back in.

------------------------------------------------------------------------
r1425 | ajapted | 2012-02-17

Eureka: moved 0.74 changelog --&gt; docs/ directory.

------------------------------------------------------------------------
r1424 | ajapted | 2012-02-17

makefile tweak.

------------------------------------------------------------------------
r1423 | ajapted | 2012-02-17

Eureka: Changelog tweakage.

------------------------------------------------------------------------
r1422 | ajapted | 2012-02-17

Eureka: add revision numbers to changelogs.

------------------------------------------------------------------------
r1421 | ajapted | 2012-02-17

Eureka: CHANGELOG update.

------------------------------------------------------------------------
r1420 | ajapted | 2012-02-17

Eureka: improved the ABOUT box.

------------------------------------------------------------------------
r1419 | ajapted | 2012-02-17

tweakage.

------------------------------------------------------------------------
r1418 | ajapted | 2012-02-17

Eureka: experimented with an 'alternate_look' setting.

------------------------------------------------------------------------
r1417 | ajapted | 2012-02-17

Eureka: tweaked widget positions on the Info bar.

------------------------------------------------------------------------
r1416 | ajapted | 2012-02-17

Eureka: TODO update.

------------------------------------------------------------------------
r1415 | ajapted | 2012-02-17

Eureka: TODO update.

------------------------------------------------------------------------
r1414 | ajapted | 2012-02-17

Eureka: persistence tweak.

------------------------------------------------------------------------
r1413 | ajapted | 2012-02-17

Eureka: persist the rendering On/Off state.

------------------------------------------------------------------------
r1412 | ajapted | 2012-02-17

Eureka: improved layout of sidedefs in LineDef panel (they were a bit cramped).

------------------------------------------------------------------------
r1411 | ajapted | 2012-02-17

Eureka: fixed LineDef panel not updating after &quot;ADD&quot;/&quot;DEL&quot; buttons.

------------------------------------------------------------------------
r1410 | ajapted | 2012-02-17

Eureka: CHANGELOG update (sidedef &quot;ADD&quot; and &quot;DEL&quot; buttons).

------------------------------------------------------------------------
r1409 | ajapted | 2012-02-17

Eureka: e_cutpaste::UnlinkSideFromLine() --&gt; x_loop::LD_RemoveSideDef().
The sidedef &quot;DEL&quot; button uses this to handle sidedef deletion better.

------------------------------------------------------------------------
r1408 | ajapted | 2012-02-17

Eureka: improved &quot;ADD&quot; sidedef button, try GetOppositeSector() to get
the new sector for the sidedef, and if that fails then use NumSec - 1.

------------------------------------------------------------------------
r1407 | ajapted | 2012-02-17

Eureka: changelog (etc) update.

------------------------------------------------------------------------
r1406 | ajapted | 2012-02-17

Eureka: implemented the -port option.

------------------------------------------------------------------------
r1405 | ajapted | 2012-02-17

Eureka: version bump to 0.74

------------------------------------------------------------------------
r1404 | ajapted | 2012-02-17

Eureka: TODO update.

------------------------------------------------------------------------
r1403 | ajapted | 2012-02-17

Eureka: basic implementation of &quot;ADD&quot; button for sidedefs.

------------------------------------------------------------------------
r1402 | ajapted | 2012-02-17

Eureka: implemented the &quot;DEL&quot; button for sidedefs.

------------------------------------------------------------------------
r1401 | ajapted | 2012-02-16

Eureka: in LINEDEF panel, added &quot;ADD&quot; and &quot;DEL&quot; buttons to sidedefs
(with only one visible at a time).  Currently they do nothing.

------------------------------------------------------------------------
r1400 | ajapted | 2012-02-16

Eureka / Browser: parsing code for persistence (cat, search, etc).

------------------------------------------------------------------------
r1399 | ajapted | 2012-02-16

Eureka: persist which Browser panel is open (if any).

------------------------------------------------------------------------
r1398 | ajapted | 2012-02-16

tweak.

------------------------------------------------------------------------
r1397 | ajapted | 2012-02-16

Eureka: docco update (sector insertion improvements).

------------------------------------------------------------------------
r1396 | ajapted | 2012-02-16

Eureka: improved SECTOR insertion : (a) copy properties from a selected
sector, or if none then a neighbor sector.  (b) if CTRL is pressed, then
the new area BECOMES the same sector as the one selected.

------------------------------------------------------------------------
r1395 | ajapted | 2012-02-16

minor comment.

------------------------------------------------------------------------
r1394 | ajapted | 2012-02-16

Eureka: fixed UI_Pic handling of a certain flat (CEIL4_1 IIRC) which
was showing bright cyan in parts that were black (palette color #247).

------------------------------------------------------------------------
r1393 | ajapted | 2012-02-16

docco update.

------------------------------------------------------------------------
r1392 | ajapted | 2012-02-16

Eureka: big rework on CloseLoop_Complex() to fix some failure cases,
especially when extending an island within a sector.

Also fixed a failure case in CloseLoop_Simple() when surrounding an
existing shape WHILE new shape is inside a sector -- we need to
assign a sector to both loops for that.

------------------------------------------------------------------------
r1391 | ajapted | 2012-02-15

Eureka: fixed bug where closing a line-loop around an existing shape
did not apply the new sector to the outside of that shape.

------------------------------------------------------------------------
r1390 | ajapted | 2012-02-15

Eureka: code tidying, and removed 'e' pointer from UI_Canvas class.

------------------------------------------------------------------------
r1389 | ajapted | 2012-02-15

Eureka / TODO: update.

------------------------------------------------------------------------
r1388 | ajapted | 2012-02-15

Eureka / CHANGELOG: update.

------------------------------------------------------------------------
r1387 | ajapted | 2012-02-15

Eureka: tweakage (e.g. persistent messages).

------------------------------------------------------------------------
r1386 | ajapted | 2012-02-15

Eureka / DOOM config: rearranged linegroups.

------------------------------------------------------------------------
r1385 | ajapted | 2012-02-15

Eureka / Browser: skip the trigger (W1, SR, etc).when sorting line
specials alphabetically.

------------------------------------------------------------------------
r1384 | ajapted | 2012-02-15

Eureka / Browser: implemented different SORT methods, and a callback
so that changing the Sort setting will update the list.

------------------------------------------------------------------------
r1383 | ajapted | 2012-02-15

Eureka / Browser: fixed display of '&amp;' in linetype descriptions.
Added padding to numbers for Thing/Line/Sector types.

------------------------------------------------------------------------
r1382 | ajapted | 2012-02-15

Eureka / Browser: added code to SORT the items (currently the only method
is alphabetically).

------------------------------------------------------------------------
r1381 | ajapted | 2012-02-15

Eureka / Browser: updated WriteUser() to write the search string and
values for the Sort and Pics widgets.

------------------------------------------------------------------------
r1380 | ajapted | 2012-02-15

Eureka / Browser: added a 'Sort' choice and 'Pics' toggle button to
certain browser panels.  They currently do NOTHING.

------------------------------------------------------------------------
r1379 | ajapted | 2012-02-15

Eureka: worked on persisting the state of the Browser panels.

------------------------------------------------------------------------
r1378 | ajapted | 2012-02-14

Eureka: fixed bug persisting the 3D preview (view.Sin and view.Cos were
not being updated properly).

------------------------------------------------------------------------
r1377 | ajapted | 2012-02-14

Eureka: updated CHANGELOG.

------------------------------------------------------------------------
r1376 | ajapted | 2012-02-14

Eureka: persist the current edit mode.

------------------------------------------------------------------------
r1375 | ajapted | 2012-02-14

Eureka: persist more Render3D state: gamma, texturing, lighting, etc...

------------------------------------------------------------------------
r1374 | ajapted | 2012-02-13

Eureka: properly handle no persistent user state for a map, via new
M_DefaultUserState() function which zooms out to show whole map,
sets the camera to the player thing, etc....

------------------------------------------------------------------------
r1373 | ajapted | 2012-02-13

tweak.

------------------------------------------------------------------------
r1372 | ajapted | 2012-02-13

Eureka: make sure the -file pwad exists.

------------------------------------------------------------------------
r1371 | ajapted | 2012-02-13

Eureka: fixed Grid_ParseUser() to update the UI widgets (info bar, etc).

------------------------------------------------------------------------
r1370 | ajapted | 2012-02-12

Eureka: tweaked filename for user state persistence.

------------------------------------------------------------------------
r1369 | ajapted | 2012-02-12

Eureka: separated out some code to Editor_Init() function, and call it
earlier than Editor_Loop() so that the user state from LoadLevel() can
work properly.

------------------------------------------------------------------------
r1368 | ajapted | 2012-02-12

Eureka: implemented M_LoadUserState().

------------------------------------------------------------------------
r1367 | ajapted | 2012-02-12

Eureka: implemented a M_ParseLine() function as the general way to
break a line into tokens.  The strings must be freed with M_FreeLine().

------------------------------------------------------------------------
r1366 | ajapted | 2012-02-12

Eureka: more work on persisting &quot;user state&quot; when saving and loading maps
The parsing and writing logic for the GRID and RENDER systems is now in
place, but not yet complete.

------------------------------------------------------------------------
r1365 | ajapted | 2012-02-12

Eureka: more work on persisting &quot;user state&quot; when saving and loading maps
The parsing and writing logic for the GRID and RENDER systems is now in
place, but not yet complete.

------------------------------------------------------------------------
r1364 | ajapted | 2012-02-12

Eureka: for File/Export function, ask for the map slot _AFTER_ asking
for the destination filename.

------------------------------------------------------------------------
r1363 | ajapted | 2012-02-12

Eureka: began work on mechanism to persist user state for a map, stuff
like the camera position and angle, grid position and scale and step,
browser categories, etc etc.....

------------------------------------------------------------------------
r1362 | ajapted | 2012-02-12

Eureka: added 'cache' directory.

------------------------------------------------------------------------
r1361 | ajapted | 2012-02-12

Eureka: code to compute the adler CRC when loading and saving a map.

This required changing the lump processing order in LoadLevel() so that
it matches SaveLevel() -- however it cannot do certain checks as it did
before (e.g. check for invalid sector numbers in sidedefs), these must
be done in a separate pass which hasn't been implemented yet.

------------------------------------------------------------------------
r1360 | ajapted | 2012-02-12

Eureka / Adler-32: tweaks.

------------------------------------------------------------------------
r1359 | ajapted | 2012-02-12

Eureka / Adler-32: added an 'extra' field which is the 32-bit sum of
the 16-bit S2 field, modulo a large prime number (0xFFFEFFF9).  This
should make collisions a lot less likely, but definitely not as good
as a proper CRC-64 implementation.

------------------------------------------------------------------------
r1358 | ajapted | 2012-02-12

Eureka: fixed #includes from renamed file: lib_crc --&gt; lib_adler

------------------------------------------------------------------------
r1357 | ajapted | 2012-02-12

Eureka: renamed code file: lib_crc --&gt; lib_adler

------------------------------------------------------------------------
r1356 | ajapted | 2012-02-09

Eureka: TODO (etc) update.

------------------------------------------------------------------------
r1355 | ajapted | 2012-02-09

Eureka: when dragging/scaling/rotating vertices, draw the linedefs too.

Changed dynamic rotate (CTRL + Mouse2) to not scale, just rotate.

------------------------------------------------------------------------
r1354 | ajapted | 2012-02-08

Eureka: renamed typedef: obj_type_t --&gt; obj_type_e

------------------------------------------------------------------------
r1353 | ajapted | 2012-02-08

Eureka / DOOM: renamed some Ammunition things.

------------------------------------------------------------------------
r1352 | ajapted | 2012-02-08

Eureka / DOOM: removed &quot;PU:&quot; prefix from pickup items, moved backpack
into the Bonus category, and some minor renaming.

------------------------------------------------------------------------
r1351 | ajapted | 2012-02-08

Eureka: TODO update.

------------------------------------------------------------------------
r1350 | ajapted | 2012-02-08

Eureka: implemented MasterDir_Remove().  This should fix the crash issue
(and a quick test did not reproduce the crash).

------------------------------------------------------------------------
r1349 | ajapted | 2012-02-08

Eureka: removed obsolete file: w_structs.h

------------------------------------------------------------------------
r1348 | ajapted | 2012-02-08

Eureka: removed most stuff from w_structs.h (obsolete), and moved the
two actually used definitions --&gt; w_rawdef.h

------------------------------------------------------------------------
r1347 | ajapted | 2012-02-08

Eureka: updated all header files to have consistent guards (i.e. the
#ifndef XXX #define XXX ... #endif paradigm).

------------------------------------------------------------------------
r1346 | ajapted | 2012-02-08

Eureka: replaced 'img_dim_t' typedef with good old 'int'.

------------------------------------------------------------------------
r1345 | ajapted | 2012-02-07

tweak

------------------------------------------------------------------------
r1344 | ajapted | 2012-02-07

Eureka: ChangeLog / TODO update.

------------------------------------------------------------------------
r1343 | ajapted | 2012-02-07

Eureka: for File/New, no need to ask for a map slot when there's no
current PWAD, as the File/Save function will do File/Export which
always asks for the map slot.

------------------------------------------------------------------------
r1342 | ajapted | 2012-02-07

Eureka: show the current WAD and map name in the window title bar.

------------------------------------------------------------------------
r1341 | ajapted | 2012-02-07

Eureka: TODO twiddling.

------------------------------------------------------------------------
r1340 | ajapted | 2012-02-07

Eureka: committed current change-log.

------------------------------------------------------------------------
r1339 | ajapted | 2012-02-07

Eureka: the clipboard persists when changing maps, allowing copy-n-paste
from one map/wad to another map/wad.

------------------------------------------------------------------------
r1338 | ajapted | 2012-02-07

Eureka: renamed variables: Warp --&gt; Level_name, also Game --&gt; Game_name
and Port --&gt; Port_name.

------------------------------------------------------------------------
r1337 | ajapted | 2012-02-07

Eureka: snap_to_grid is now the default.

------------------------------------------------------------------------
r1336 | ajapted | 2012-02-07

tweak.

------------------------------------------------------------------------
r1335 | ajapted | 2012-02-05

Eureka: when highlighting the nearest vertex, handle grid-snap mode so
that the bbox we check has the same size as the grid step.  This ensures
we can close a line loop properly, instead of placing a vertex on top of
an existing vertex.

Bug reported by Lance MDR Rocket.

------------------------------------------------------------------------
r1334 | ajapted | 2012-02-05

Eureka: when creating a square sector (outside of map), make it occupy a
single grid square.

------------------------------------------------------------------------
r1333 | ajapted | 2012-02-02

Eureka: moved some documents into new docs/ folder.

------------------------------------------------------------------------
r1332 | ajapted | 2012-02-02

Eureka: WISHLIST update.

------------------------------------------------------------------------
r1331 | ajapted | 2012-02-02

Eureka: added docs/ folder.

------------------------------------------------------------------------
r1330 | ajapted | 2012-02-01

Eureka: TODO update.

------------------------------------------------------------------------
r1329 | ajapted | 2012-02-01

Eureka: disable debugging messages in LOG file.

------------------------------------------------------------------------
r1328 | ajapted | 2012-02-01

Eureka: fixed year in About box text.

------------------------------------------------------------------------
r1327 | ajapted | 2012-02-01

Eureka: disabled some debugging stderr messages.

------------------------------------------------------------------------
r1326 | ajapted | 2012-02-01

tweak.

------------------------------------------------------------------------
r1325 | ajapted | 2012-02-01

Eureka: added changelog for v0.72

------------------------------------------------------------------------
r1324 | ajapted | 2012-02-01

tweak

------------------------------------------------------------------------
r1323 | ajapted | 2012-02-01

Eureka: updated NEW_WORKFLOW document, various other doc tweaks.

------------------------------------------------------------------------
r1322 | ajapted | 2012-02-01

tweak

------------------------------------------------------------------------
r1321 | ajapted | 2012-02-01

tweak.

------------------------------------------------------------------------
r1320 | ajapted | 2012-02-01

Eureka: fixed FreshLevel() to apply the default textures (etc).

------------------------------------------------------------------------
r1319 | ajapted | 2012-02-01

Eureka: fixed bug in recent commit (Export code).

------------------------------------------------------------------------
r1318 | ajapted | 2012-02-01

Eureka: silenced a few compiler warnings.

------------------------------------------------------------------------
r1317 | ajapted | 2012-02-01

Eureka: tweaked messages when loading/saving/exporting a map.

------------------------------------------------------------------------
r1316 | ajapted | 2012-02-01

Eureka: disabled some unimplemented Menu commands.

------------------------------------------------------------------------
r1315 | ajapted | 2012-02-01

Eureka / DOOM: changed default ceiling texture to CEIL3_5.

------------------------------------------------------------------------
r1314 | ajapted | 2012-02-01

Eureka: more stuff for WISHLIST....

------------------------------------------------------------------------
r1313 | ajapted | 2012-01-31

Eureka: added MasterDir_Add() and MasterDir_Remove() functions
(note the latter is not implemented yet).

------------------------------------------------------------------------
r1312 | ajapted | 2012-01-31

Eureka: improved logic in File/Open function when the user selects a
new WAD file -- in particular we only change 'edit_wad' and update the
master directory if the operation is successful.

Improved File/Export code with the MasterDir_Add/Remove calls.

------------------------------------------------------------------------
r1311 | ajapted | 2012-01-31

Eureka: tidying up...

------------------------------------------------------------------------
r1310 | ajapted | 2012-01-31

Eureka: small fix.

------------------------------------------------------------------------
r1309 | ajapted | 2012-01-31

Eureka: yet another TODO / WISHLIST update.

------------------------------------------------------------------------
r1308 | ajapted | 2012-01-31

Eureka: improved logic for DetermineIWAD(), handle $DOOMWADDIR and
when -iwad merely specifies a directory.

------------------------------------------------------------------------
r1307 | ajapted | 2012-01-31

Eureka / Wad_file: fixed ::Open() with mode 'a' to only create the
file when it doesn't exist (errno == ENOENT).  Before it would try
to create the file on other errors (such as no permission to R/W).

------------------------------------------------------------------------
r1306 | ajapted | 2012-01-31

Eureka: changed -file option to only accept a single PWAD.  Later on
there will be a -merge option for adding resource wads.

------------------------------------------------------------------------
r1305 | ajapted | 2012-01-31

Eureka: ensure new lumps have uppercase names.

------------------------------------------------------------------------
r1304 | ajapted | 2012-01-31

Eureka: TODO and WISHLIST update.

------------------------------------------------------------------------
r1303 | ajapted | 2012-01-31

Eureka: updated README for upcoming test package.

------------------------------------------------------------------------
r1302 | ajapted | 2012-01-31

Eureka: tweaked FEATURES.txt

------------------------------------------------------------------------
r1301 | ajapted | 2012-01-31

Eureka: when creating new sectors, give them proper default values,
especially the default floor and ceiling textures.  Similarly for
new sidedefs.

------------------------------------------------------------------------
r1300 | ajapted | 2012-01-31

Eureka: TODO / WISHLIST update.

------------------------------------------------------------------------
r1299 | ajapted | 2012-01-31

Eureka: use the new 'g_default_thing' global when inserting things,
and removed the other one.

------------------------------------------------------------------------
r1298 | ajapted | 2012-01-30

Eureka: added 'default_thing' value to DOOM and HERETIC game defs.

------------------------------------------------------------------------
r1297 | ajapted | 2012-01-30

Eureka: code to parse a 'default_thing' line in game definitions.

------------------------------------------------------------------------
r1296 | ajapted | 2012-01-30

Eureka: added 'default_textures' line to DOOM and HERETIC game defs.

------------------------------------------------------------------------
r1295 | ajapted | 2012-01-30

Eureka: code to parse 'default_textures' line in game definitions.

------------------------------------------------------------------------
r1294 | ajapted | 2012-01-30

Eureka: support for a 'sky_color' field in game definition files.

------------------------------------------------------------------------
r1293 | ajapted | 2012-01-30

Eureka: removed a couple of unused globals.

------------------------------------------------------------------------
r1292 | ajapted | 2012-01-30

tweak

------------------------------------------------------------------------
r1291 | ajapted | 2012-01-30

Eureka: more tidying of obsolete config options...

------------------------------------------------------------------------
r1290 | ajapted | 2012-01-30

Eureka: removed most of the obsolete config settings.

------------------------------------------------------------------------
r1289 | ajapted | 2012-01-30

Eureka: dead code removal.

------------------------------------------------------------------------
r1288 | ajapted | 2012-01-30

Eureka: dead code removal.

------------------------------------------------------------------------
r1287 | ajapted | 2012-01-30

Eureka: removed 'Expert' global variable.

------------------------------------------------------------------------
r1286 | ajapted | 2012-01-30

Eureka / Port defs: consistently have 'BOOM:' or 'EDGE:' in the names
of the Boom and Edge specific linetypes, things, etc...

------------------------------------------------------------------------
r1285 | ajapted | 2012-01-30

Eureka: added a DeterminePort() function.

------------------------------------------------------------------------
r1284 | ajapted | 2012-01-30

Eureka: added 'ports/vanilla.ugh' definition, which is empty except for
comments (and doesn't need anything).

------------------------------------------------------------------------
r1283 | ajapted | 2012-01-29

Eureka: TODO update.

------------------------------------------------------------------------
r1282 | ajapted | 2012-01-29

Eureka: properly flip linedefs when inserting a sector and the line(s)
would have ended up with no right side (only a left side).

------------------------------------------------------------------------
r1281 | ajapted | 2012-01-29

Eureka: when auto-splitting a sector, ensure neither line loop faces outward.

------------------------------------------------------------------------
r1280 | ajapted | 2012-01-29

Eureka: noted a bug with rendering mid-masked textures.

------------------------------------------------------------------------
r1279 | ajapted | 2012-01-29

tweak

------------------------------------------------------------------------
r1278 | ajapted | 2012-01-29

Eureka.cfg : removed the obsolete iwad stuff.

------------------------------------------------------------------------
r1277 | ajapted | 2012-01-29

Eureka: have a single -iwad parameter (instead of -iwad1, -iwad2 etc....)

------------------------------------------------------------------------
r1276 | ajapted | 2012-01-29

tweakage.

------------------------------------------------------------------------
r1275 | ajapted | 2012-01-29

Eureka: WISHLIST update.

------------------------------------------------------------------------
r1274 | ajapted | 2012-01-29

Eureka: determine the 'Game' value from the IWAD filename.

------------------------------------------------------------------------
r1273 | ajapted | 2012-01-29

Eureka: for File/Export function, add &quot;.wad&quot; if filename has no extension.

------------------------------------------------------------------------
r1272 | ajapted | 2012-01-29

Eureka: code tweak (use FileExists utility function).

------------------------------------------------------------------------
r1271 | ajapted | 2012-01-29

Eureka / yutils: removed a few unused functions (fncmp, spec_path) and
renamed a few functions (e.g. TimeGetMillies).

------------------------------------------------------------------------
r1270 | ajapted | 2012-01-28

Eureka: TODO update.

------------------------------------------------------------------------
r1269 | ajapted | 2012-01-28

Eureka / Wad_file: added PathName() and IsReadOnly() methods.

------------------------------------------------------------------------
r1268 | ajapted | 2012-01-28

Eureka: made the Wad_file::Open() method mimic the fopen() semantics,
it now has a 'mode' parameter which can be 'r', 'w' or 'a'.

Hence removed the ::Create() method from the public API.

------------------------------------------------------------------------
r1267 | ajapted | 2012-01-28

Eureka: some work to set 'Game' value differently, it will be based on
the IWAD filename instead of being in the CFG file.

------------------------------------------------------------------------
r1266 | ajapted | 2012-01-28

Eureka: for File/Open function, implemented choosing a WAD file to load
and improved the wording on the question.

------------------------------------------------------------------------
r1265 | ajapted | 2012-01-28

Eureka: for File/Open command, clear the MadeChanges flag and pan/zoom
the canvas to show the whole level.

------------------------------------------------------------------------
r1264 | ajapted | 2012-01-28

Eureka: partial work on File/Open (CTRL-O) functionality.  It really
needs is a new widget, HOWEVER for now I will make do with fl_input and
Confirm/Notify dialogs.

------------------------------------------------------------------------
r1263 | ajapted | 2012-01-28

dead code removal.

------------------------------------------------------------------------
r1262 | ajapted | 2012-01-27

tweakage.

------------------------------------------------------------------------
r1261 | ajapted | 2012-01-27

Eureka: for EXPORT function, if selected wad already exists then we just
save the map into that wad, but if the MAP already exists in that wad
then get confirmation from the user to overwrite it.

------------------------------------------------------------------------
r1260 | ajapted | 2012-01-27

Eureka: more Wishes.... sigh...

------------------------------------------------------------------------
r1259 | ajapted | 2012-01-27

Eureka: for EXPORT function, ask user for map-slot name and use it,
and also make the exported WAD the current PWAD (set 'edit_wad' global).

------------------------------------------------------------------------
r1258 | ajapted | 2012-01-27

Eureka: new global 'Replacer' remembers when the user created a new map
(via File/New or CTRL-N) __AND__ it would replace an existing level in
the current PWAD.

When doing File/Save (CTRL-S), check for Replacer and confirm whether
the user really wants to replace the existing map.

Improved File/New operation to ask for a map name.

------------------------------------------------------------------------
r1257 | ajapted | 2012-01-27

Eureka: bit of work on wad handling, the 'base_wad' and 'edit_wad' global
variables have the current IWAD (required) and current PWAD (optional).

------------------------------------------------------------------------
r1256 | ajapted | 2012-01-27

Eureka / Games: renamed 'doom1.ugh' --&gt; 'doom.ugh', to match the IWAD
filename (DOOM.WAD)

------------------------------------------------------------------------
r1255 | ajapted | 2012-01-27

Eureka / Games: added game definitions for FINAL DOOM (tnt.ugh and
plutonia.ugh).  They merely include the DOOM 2 definitions, although
eventually they will need stuff for their new textures.

------------------------------------------------------------------------
r1254 | ajapted | 2012-01-27

Eureka: tweaked color of camera arrow.

------------------------------------------------------------------------
r1253 | ajapted | 2012-01-27

Eureka: implemented 'Go To Camera' function (bound to END key).

------------------------------------------------------------------------
r1252 | ajapted | 2012-01-27

Eureka: version bump to 0.72

------------------------------------------------------------------------
r1251 | ajapted | 2012-01-27

Eureka / README: document middle click functions (scale etc).

------------------------------------------------------------------------
r1250 | ajapted | 2012-01-27

Eureka: TODO update.

------------------------------------------------------------------------
r1249 | ajapted | 2012-01-27

Eureka: show proper location and angle of camera.

------------------------------------------------------------------------
r1248 | ajapted | 2012-01-27

Eureka: size of the camera arrow now depends on current map scale.

------------------------------------------------------------------------
r1247 | ajapted | 2012-01-27

Eureka: partial work on drawing the camera (a pink arrow)...

------------------------------------------------------------------------
r1246 | ajapted | 2012-01-27

Eureka: worked on semantics for wad handling (the File/ menu) and how
the current &quot;game&quot; is defined.

------------------------------------------------------------------------
r1245 | ajapted | 2012-01-26

Eureka / Scaling: fixed bug where a rotation remains in-effect after
releasing the CTRL key.

------------------------------------------------------------------------
r1244 | ajapted | 2012-01-26

Eureka / Scaling: properly handle modifiers: none = keep_aspect,
SHIFT = any aspect, CTRL = rotate.

------------------------------------------------------------------------
r1243 | ajapted | 2012-01-26

Eureka / Scaling: various fixes...

------------------------------------------------------------------------
r1242 | ajapted | 2012-01-26

Eureka: use new scale_param_t stuff in UI_Canvas class.

------------------------------------------------------------------------
r1241 | ajapted | 2012-01-26

Eureka: added a scale_param_t structure with an Apply() method to
transform a coordinate value.  Updated all CMD_ScaleObjects2() code to
use this structure and method (rather than mid_x etc... parameters).

------------------------------------------------------------------------
r1240 | ajapted | 2012-01-26

TODO bits...

------------------------------------------------------------------------
r1239 | ajapted | 2012-01-26

Eureka: TODO update.

------------------------------------------------------------------------
r1238 | ajapted | 2012-01-26

Eureka: moved next/prev/jump code into CMD_NextObject(), CMD_PrevObject()
and CMD_JumpToObject() functions in e_path.cc/h file, and updated menu
to call them.

------------------------------------------------------------------------
r1237 | ajapted | 2012-01-26

Eureka: dead code removal.

------------------------------------------------------------------------
r1236 | ajapted | 2012-01-26

Eureka: use 'V' key for the mirror vertically function (not 'I').

------------------------------------------------------------------------
r1235 | ajapted | 2012-01-26

Eureka: Implemented 'Invert Selection' function (CTRL + I).

------------------------------------------------------------------------
r1234 | ajapted | 2012-01-26

Eureka: moved sel_op_e enum from main.h --&gt; m_bitvec.h

------------------------------------------------------------------------
r1233 | ajapted | 2012-01-26

minor fix.

------------------------------------------------------------------------
r1232 | ajapted | 2012-01-26

WISH-LIST: console idea.

------------------------------------------------------------------------
r1231 | ajapted | 2012-01-25

tweaks.

------------------------------------------------------------------------
r1230 | ajapted | 2012-01-25

Eureka: for 'Export Map' function, properly handle CANCEL and ERROR
returns from the file chooser (notify user), and actually use the
filename selected, and notify user if creating the file failed.

------------------------------------------------------------------------
r1229 | ajapted | 2012-01-25

Eureka: factored out a Main_ConfirmQuit() function, and use it for the
'New Level' function too (so the user does not lose their changes).

------------------------------------------------------------------------
r1228 | ajapted | 2012-01-25

Eureka: TODO update (scaling stuff).

------------------------------------------------------------------------
r1227 | ajapted | 2012-01-25

Eureka / Scaling: experimental code for dynamic Rotation....

------------------------------------------------------------------------
r1226 | ajapted | 2012-01-25

Eureka / Scaling: fixed the scaling calculations in Scaled_Coord() and
UI_Canvas::ScaleUpdate().

------------------------------------------------------------------------
r1225 | ajapted | 2012-01-25

Eureka / Scaler: factored out some common mirror logic so it can be
used for the dynamic scaling code too (when scale_x or y is negative).

Implemented the actual scaling in new CMD_ScaleObjects2() function.

For some functions in x_mirror, pass 'selection_c' by reference
instead of as a pointer.

------------------------------------------------------------------------
r1224 | ajapted | 2012-01-25

Eureka / Scaling: properly compute middle point of objects.

------------------------------------------------------------------------
r1223 | ajapted | 2012-01-25

Eureka: renamed some stuff, e.g. centre_of_objs() --&gt; Objs_CalcMiddle()
bbox_of_objects() --&gt; Objs_CalcBBox(), and a few other things.

------------------------------------------------------------------------
r1222 | ajapted | 2012-01-25

Eureka / Scaling: added code to draw scaled LineDefs and Sectors.

------------------------------------------------------------------------
r1221 | ajapted | 2012-01-25

Eureka / Scaling: proper logic to draw the scaled selection, and added
support for a 'keep_aspect' mode (hold down SHIFT key).

------------------------------------------------------------------------
r1220 | ajapted | 2012-01-25

Eureka: initial work on ability to Scale objects via middle mouse button,
working very similarly to dragging objects...

------------------------------------------------------------------------
r1219 | ajapted | 2012-01-25

Eureka: WISHLIST bits...

------------------------------------------------------------------------
r1218 | ajapted | 2012-01-25

Eureka: improved Quantization algorithm, for vertices we analyse the
linedefs and remember the orientations (V_HORIZ, V_VERT etc), and have
better QuantSnapX/Y() grid methods.

------------------------------------------------------------------------
r1217 | ajapted | 2012-01-25

Eureka: for Quantization of vertices, added logic to keep horizontal
lines horizontal and vertical lines vertical.

------------------------------------------------------------------------
r1216 | ajapted | 2012-01-25

dead code removal.

------------------------------------------------------------------------
r1215 | ajapted | 2012-01-25

Eureka: preliminary code for Quantize_Vertices().

------------------------------------------------------------------------
r1214 | ajapted | 2012-01-24

Eureka: worked on Quantization function, for now only for Things.

The significant aspects are:
(1) leave the unsuccessfully moved things selected (and beep)
(2) never move a thing directly on top of another one
(3) if the nearest corner is unavailable, try the other corners

[these rules will apply to vertex quantization too, and then some]

------------------------------------------------------------------------
r1213 | ajapted | 2012-01-22

Eureka: TODO item.

------------------------------------------------------------------------
r1212 | ajapted | 2012-01-22

Eureka: notes for a better (feasible) quantization algorithm.

------------------------------------------------------------------------
r1211 | ajapted | 2012-01-22

Eureka: experimental code for the 'File/New' menu command, and tweaked
some other menu bits.

------------------------------------------------------------------------
r1210 | ajapted | 2012-01-22

Eureka / TODO: moved numerous items to the WISH-LIST, keeping the TODO
for stuff which I intend to implemented before the next test package.

------------------------------------------------------------------------
r1209 | ajapted | 2012-01-18

tweak.

------------------------------------------------------------------------
r1208 | ajapted | 2012-01-18

Eureka: call the FLTK load_system_icons() function in InitFLTK().
Doesn't seem to have done anything though (no icons in the file chooser).

------------------------------------------------------------------------
r1207 | ajapted | 2012-01-18

Eureka: better logic for menu 'Zoom In/Out' functions via CMD_Zoom()
and CMD_ZoomWholeLevel() functions.  Tweaked some other menu bits.

------------------------------------------------------------------------
r1206 | ajapted | 2012-01-18

Eureka: test code for using FL_Native_File_Chooser....

------------------------------------------------------------------------
r1205 | ajapted | 2012-01-18

Eureka: partial work on the &quot;Export Map&quot; function, i.e. saving the level
into a brand spanking new wad file.  No file selection dialog yet!

------------------------------------------------------------------------
r1204 | ajapted | 2012-01-18

Eureka: removed 'action' field from UI_MainWin class, have a 'want_quit'
global variable instead.

------------------------------------------------------------------------
r1203 | ajapted | 2012-01-17

Eureka: fixed (restored?) deleting things in a sector when deleting
that very sector.  The things are kept (with the linedefs) in the
&quot;keep unused&quot; mode, i.e. when the SHIFT key is held down.

------------------------------------------------------------------------
r1202 | ajapted | 2012-01-17

Eureka: various updates to README, TODO, WISHLIST.

------------------------------------------------------------------------
r1201 | ajapted | 2012-01-17

Eureka: fixed bug when saving a map more than once, the wrong lumps
could get removed and hence end up with multiple versions of the map
in the output wad file.

------------------------------------------------------------------------
r1200 | ajapted | 2012-01-17

minor code reformatting.

------------------------------------------------------------------------
r1199 | ajapted | 2012-01-17

Eureka: began work on texture alignment functions....

------------------------------------------------------------------------
r1198 | ajapted | 2012-01-17

Eureka / selection_c class: added a 'first_obj' field which remembers
the very first object added to the selection.  It is -1 for an empty
selection or when that object gets cleared.  The find_first() method
will return that object if valid, and the find_second() method had been
updated to handle it properly too.

Reduced MAX_STORE_SEL from 32 --&gt; 24, as I think this will speed up
certain operations that make heavy use of selection queries.

Did some code formatting (like semicolons in for loops).

------------------------------------------------------------------------
r1197 | ajapted | 2012-01-17

Eureka: changed &quot;rotate 90^ clockwise&quot; key to 'R', leaving 'X' free for
texture alignment function.

------------------------------------------------------------------------
r1196 | ajapted | 2012-01-17

Eureka: made grid size button a bit wider.

------------------------------------------------------------------------
r1195 | ajapted | 2012-01-16

Eureka: kicked the &quot;Auto&quot; grid choice code to the curb.

------------------------------------------------------------------------
r1194 | ajapted | 2012-01-16

Eureka: mostly finished grid &quot;AUTO&quot; mode, but it sucks since you cannot
see what the current grid step is, so it's gonna get the boot.

------------------------------------------------------------------------
r1193 | ajapted | 2012-01-16

Eureka: fixed wrong initial color of Free/Snap button.

------------------------------------------------------------------------
r1192 | ajapted | 2012-01-16

Eureka: partial work on an &quot;AUTO&quot; mode for the grid, where the grid step
automatically follows the current scale.  It replaces the &quot;locked&quot; flag,
and is now a choice in the Grid setting, so removed the &quot;Locked&quot; choice
in the Snap widget.

------------------------------------------------------------------------
r1191 | ajapted | 2012-01-16

Eureka: added ToggleSnap() and ToggleAuto() methods to Grid_State_c.

------------------------------------------------------------------------
r1190 | ajapted | 2012-01-16

TODO update.

------------------------------------------------------------------------
r1189 | ajapted | 2012-01-16

Eureka: made the 'h' key toggle through the alternate grid mode too
(i.e. normal --&gt; simple --&gt; none).  This replaces the 'P' key function.

------------------------------------------------------------------------
r1188 | ajapted | 2012-01-16

Eureka: don't highlight a split_line if one of its vertices is selected.

------------------------------------------------------------------------
r1187 | ajapted | 2012-01-13

Eureka: in &quot;simple&quot; grid mode, make the X and Y axis lines (at X=0 and
at Y=0) a brighter blue than the rest.  Can help to orientate yourself.

------------------------------------------------------------------------
r1186 | ajapted | 2012-01-12

Eureka: default for grid snapping is now &quot;FREE&quot;.

------------------------------------------------------------------------
r1185 | ajapted | 2012-01-11

Eureka: the digits '1' to '9' now set the GRID step, usually 2^n
(i.e. 2, 4, 8, etc) but '8' is 192 units and '9' is 256 units.

------------------------------------------------------------------------
r1184 | ajapted | 2012-01-09

Eureka: notes in TODO.txt and tidying up.

------------------------------------------------------------------------
r1183 | ajapted | 2012-01-09

Eureka: TODO update (iwad stuff, grid keys).

------------------------------------------------------------------------
r1182 | ajapted | 2012-01-08

Eureka: implemented auto-sectoring when EXTENDING off an existing
structure.

------------------------------------------------------------------------
r1181 | ajapted | 2012-01-08

Eureka: got automatic splitting of sectors working! :-)

------------------------------------------------------------------------
r1180 | ajapted | 2012-01-08

Eureka: TODO update.

------------------------------------------------------------------------
r1179 | ajapted | 2012-01-08

Eureka / basis: replaced LD_WhatSec() function with LineDef::WhatSector().

------------------------------------------------------------------------
r1178 | ajapted | 2012-01-08

Eureka / basis: changed TouchesSector() method to take a sector number
instead of a Sector pointer.

------------------------------------------------------------------------
r1177 | ajapted | 2012-01-08

Eureka: bit more work on ClosedLoop_Complex() logic....

------------------------------------------------------------------------
r1176 | ajapted | 2012-01-08

Eureka: began work on logic when adding a new linedef to a vertex with
two or more existing linedefs (auto-split OR auto-sectoring).
Wrote the TwoNeighboringLinedefs() code and tested it.

------------------------------------------------------------------------
r1175 | ajapted | 2012-01-08

Eureka / basis: added LineDef::TouchesVertex() method.

------------------------------------------------------------------------
r1174 | ajapted | 2012-01-08

Eureka / lineloop: fixed a logic error in LookForIsland() code.

------------------------------------------------------------------------
r1173 | ajapted | 2012-01-08

Eureka / lineloop: removed obsolete super_find_sector_model() code.

------------------------------------------------------------------------
r1172 | ajapted | 2012-01-08

Eureka / lineloop: implemented FacesSector() method for islands.

------------------------------------------------------------------------
r1171 | ajapted | 2012-01-08

Eureka: new Insert_LineDef() function factors out the linedef creation
bits from the Insert_Vertex() code.

Began work on logic to auto-insert and auto-split sectors when adding
new linedefs.  New ClosedSimpleLoop() function handles the case of
closing a simple loop (last vertex ends up with only two linedefs).

------------------------------------------------------------------------
r1170 | ajapted | 2012-01-08

Eureka / lineloop: made AssignSectorToLoop() part of public API.

------------------------------------------------------------------------
r1169 | ajapted | 2012-01-08

Eureka / lineloop: added clear() method, use it at start of TraceLineLoop().

------------------------------------------------------------------------
r1168 | ajapted | 2012-01-08

Eureka / lineloop: added AllNew() and NeighboringSector() methods.

------------------------------------------------------------------------
r1167 | ajapted | 2012-01-08

Eureka: added 'ignore_new' flag to TraceLineLoop() function, this will
cause &quot;new&quot; linedefs (ones without any sidedefs) to be ignored.

------------------------------------------------------------------------
r1166 | ajapted | 2012-01-06

Eureka / lineloop: added SameSector() method.

------------------------------------------------------------------------
r1165 | ajapted | 2012-01-06

Eureka / lineloop: added TotalLength() method.

------------------------------------------------------------------------
r1164 | ajapted | 2012-01-06

Eureka: updated README.txt

------------------------------------------------------------------------
r1163 | ajapted | 2012-01-06

Eureka / lineloop: determine the 'faces_outward' flag by computing the
average angle between lines in the loop (done in TraceLineLoop).

Fixed get() and get_just_line() methods to check the islands too,
which is vital to make FindIslands() work properly.

Fixed AssignSectorToSpace() to handle islands too.

------------------------------------------------------------------------
r1162 | ajapted | 2012-01-06

Eureka / lineloop: reworked TraceLineLoop() code for new class.

------------------------------------------------------------------------
r1161 | ajapted | 2012-01-06

Eureka / lineloop: reworked the FindIslands() logic for new class.

------------------------------------------------------------------------
r1160 | ajapted | 2012-01-06

Eureka / lineloop: destructor now frees the islands.  Moved code around.

------------------------------------------------------------------------
r1159 | ajapted | 2012-01-06

Eureka / lineloop: rewrote the CalcBounds() method, which was previously
a function called BoundsOfLinePath().

------------------------------------------------------------------------
r1158 | ajapted | 2012-01-06

Eureka: more work on lineloop_c code, e.g. get() and push_back() methods.

------------------------------------------------------------------------
r1157 | ajapted | 2012-01-06

Eureka: added #include &quot;x_loop.h&quot; where needed.

------------------------------------------------------------------------
r1156 | ajapted | 2012-01-06

Eureka: began work on a lineloop_c class for representing a line-loop
(an ordered list of linedef/side pairs).

------------------------------------------------------------------------
r1155 | ajapted | 2012-01-06

Eureka / Makefiles: added 'x_loop' code file to the build.

------------------------------------------------------------------------
r1154 | ajapted | 2012-01-06

Eureka: fixed #includes in x_loop.cc (restored needed, removed uneeded).

------------------------------------------------------------------------
r1153 | ajapted | 2012-01-06

Eureka: moved AssignSectorToSpace() function and related code from
s_misc.cc/h --&gt; x_loop.cc/h (new files).

------------------------------------------------------------------------
r1152 | ajapted | 2012-01-05

Eureka / TODO: some notes about line-loop modalities....

------------------------------------------------------------------------
r1151 | ajapted | 2012-01-05

Eureka: fixed bug with dragging a vertex and splitting a line, the
dragged vertex was not moving to the new position.

------------------------------------------------------------------------
r1150 | ajapted | 2012-01-05

tweak.

------------------------------------------------------------------------
r1149 | ajapted | 2012-01-05

Eureka: (tentative commit) : for LoadDefinitions() allow a line or
thing or texture/flat to have an unknown group -- print a warning to
the log file instead of FatalError.

This was prompted by the issue where port-specific stuff (e.g. Boom)
was referencing groups that don't exist in a game (e.g. Heretic).
I will look for a cleaner way to handle that kind of incompatibility.

------------------------------------------------------------------------
r1148 | ajapted | 2012-01-05

Eureka / HERETIC: added missing 'sky_flat' value.

------------------------------------------------------------------------
r1147 | ajapted | 2012-01-05

Eureka: WISHLIST update.

------------------------------------------------------------------------
r1146 | ajapted | 2012-01-05

Eureka / Browser: implemented '!' in search box for negation.

------------------------------------------------------------------------
r1145 | ajapted | 2012-01-05

Eureka: minor TODO stuff.

------------------------------------------------------------------------
r1144 | ajapted | 2012-01-05

Eureka / DOOM: renamed category letters:
   l --&gt; p (lifts)
   L --&gt; l (light related)
   F --&gt; r (raising floors)
   C --&gt; h (crusher)
   E --&gt; x (extrafloor)

------------------------------------------------------------------------
r1143 | ajapted | 2012-01-05

Eureka / HERETIC: changed stairs group letter to 'u' (&quot;up&quot;), and added a
new group 's' for 'Sounds' (which the ambient sounds were already using).

------------------------------------------------------------------------
r1142 | ajapted | 2012-01-05

Eureka / DOOM: sorted linetypes into groups, removed the 'D' group
(use 'd' for normal and fast doors), and have a single group 'k' for
keyed doors.  Moved linetype 85 (scroll wall right) into Boom defs.

------------------------------------------------------------------------
r1141 | ajapted | 2012-01-05

Eureka / HERETIC: finished adjusting the line types, using different
letters than Yadex did (e.g. 'h' for crushers, 'p' for lifts, 'r' for
raising floors -- avoiding upper case letters).

------------------------------------------------------------------------
r1140 | ajapted | 2012-01-05

Eureka / HERETIC: worked on linetypes, pasted line info from YADEX's
game definition and sorted them into groups.

------------------------------------------------------------------------
r1139 | ajapted | 2012-01-05

Eureka / HERETIC: finished thing sprites and added the correct sizes.
(It would've been a lot easier to copy/paste from YADEX, duh!).

------------------------------------------------------------------------
r1138 | ajapted | 2012-01-05

Eureka / HERETIC: a few more sprites....

------------------------------------------------------------------------
r1137 | ajapted | 2012-01-05

Eureka / HERETIC: worked on sprite names for things, and fixed the id
number for the 'Wings of Wrath' (was 23, should be 83).

------------------------------------------------------------------------
r1136 | ajapted | 2012-01-05

Eureka: worked on thing info for HERETIC game definition....

------------------------------------------------------------------------
r1135 | ajapted | 2012-01-05

Eureka: began work on a HERETIC game definition file....

------------------------------------------------------------------------
r1134 | ajapted | 2012-01-04

Eureka: fixed grid-toggle key ('h') not updating the infobar widget.

------------------------------------------------------------------------
r1133 | ajapted | 2012-01-04

Eureka: fixed the Grid menu's &quot;OFF&quot; choice.

------------------------------------------------------------------------
r1132 | ajapted | 2012-01-04

Eureka: WISHLIST update.

------------------------------------------------------------------------
r1131 | ajapted | 2012-01-04

Eureka: added new document 'NEW_WORKFLOW.txt', describing some of the
significant differences between Eureka and its precedessor Yadex.

------------------------------------------------------------------------
r1130 | ajapted | 2012-01-04

Eureka: TODO update.

------------------------------------------------------------------------
r1129 | ajapted | 2012-01-04

Eureka: updated MergeVertex() to handle a linedef which exists between
the two vertices -- the new logic ensures it gets deleted.

------------------------------------------------------------------------
r1128 | ajapted | 2012-01-04

Eureka: TODO update.

------------------------------------------------------------------------
r1127 | ajapted | 2012-01-04

Eureka: never highlight the same vertex as the one we are dragging,
preventing an fatal error when trying to merge a vertex onto itself.

------------------------------------------------------------------------
r1126 | ajapted | 2012-01-04

Eureka: implemented merging vertices when dragging a single vertex onto
an existing vertex.

------------------------------------------------------------------------
r1125 | ajapted | 2012-01-04

Eureka: fixed the UI_Canvas widget to draw both a a highlight and a
dragged selection at the same time.  The logic in UpdateHighlight() is
what's responsible for keeping it sane.

------------------------------------------------------------------------
r1124 | ajapted | 2012-01-04

tweaks.

------------------------------------------------------------------------
r1123 | ajapted | 2012-01-04

Eureka: improved the UpdateHighlight() code, with a check for dragging
and splitting off the panel stuff into a new UpdatePanel() function.

------------------------------------------------------------------------
r1122 | ajapted | 2012-01-04

Eureka: added Editor_State_c field 'drag_single_vertex', normally -1 but
contains a vertex number when dragging just a single vertex.

------------------------------------------------------------------------
r1121 | ajapted | 2012-01-04

Eureka: more DOOM definition tweaks....

------------------------------------------------------------------------
r1120 | ajapted | 2012-01-04

Eureka: moved most DOOM 2 specific textures and flats into doom2.ugh

------------------------------------------------------------------------
r1119 | ajapted | 2012-01-04

tidying up.

------------------------------------------------------------------------
r1118 | ajapted | 2012-01-04

Eureka: moved rest of BOOM stuff from doom_specials.ugh --&gt; boom.ugh

------------------------------------------------------------------------
r1117 | ajapted | 2012-01-04

Eureka: moved all the EDGE-specific stuff and some BOOM-specific stuff
out of the DOOM game definitions and into their own port definitions.

------------------------------------------------------------------------
r1116 | ajapted | 2012-01-04

Eureka: moved DOOM 2 specific things from doom_common.ugh --&gt; doom2.ugh,
which includes the Super Shotgun, Megasphere, Boss-brain stuff, extra
gore decorations, and the DOOM 2 specific monsters like the Archvile,
Mancubus etc....

------------------------------------------------------------------------
r1115 | ajapted | 2012-01-03

Eureka: merged 'doom_tex.ugh' back into 'doom_common.ugh'.

All these shenanigans is to allow some DOOM engine games (such as
Chex Quest, HacX, and Harmony) to use the common engine stuff but
specify their own thing types and flats/textures.

------------------------------------------------------------------------
r1114 | ajapted | 2012-01-03

Eureka: moved some stuff from doom_tex.ugh --&gt; doom1/2.ugh

------------------------------------------------------------------------
r1113 | ajapted | 2012-01-03

Eureka: separated out the line/sector specials from doom_common.ugh
into a new file: 'doom_specials.ugh'.

------------------------------------------------------------------------
r1112 | ajapted | 2012-01-03

Eureka: moved the flat/texture definitions out of doom_common.ugh and
into a new file 'doom_tex.ugh'.

------------------------------------------------------------------------
r1111 | ajapted | 2012-01-03

Eureka: added 'doom1.ugh' and 'doom2.ugh' game definitions, which so
far do little more than simply include the common file.  Work still
needs to be done to properly separate everything....

------------------------------------------------------------------------
r1110 | ajapted | 2012-01-03

Eureka: renamed game config file: doom2.ugh --&gt; doom_common.ugh
(as the bulk of that file will be stuff in common to both games).

------------------------------------------------------------------------
r1109 | ajapted | 2012-01-03

Eureka: implemented 'include' directive for &quot;.ugh&quot; definition files.

This will be handy for:
   (a) common stuff between DOOM 1 and DOOM 2
   (b) ports which are boom compatible

------------------------------------------------------------------------
r1108 | ajapted | 2012-01-03

Eureka: worked on &quot;ugh&quot; definition file loading, supply a folder name
as well as the filename to the LoadDefinitions() function, with some
test code which loads the &quot;ports/boom&quot; definition file.

------------------------------------------------------------------------
r1107 | ajapted | 2012-01-03

Eureka: added a mods/ directory.

------------------------------------------------------------------------
r1106 | ajapted | 2012-01-03

WISHLIST tweak.

------------------------------------------------------------------------
r1105 | ajapted | 2012-01-03

Eureka: renamed configs/ folder --&gt; games/

------------------------------------------------------------------------
r1104 | ajapted | 2012-01-03

Eureka: moved BOOM and EDGE definition files --&gt; ports/

------------------------------------------------------------------------
r1103 | ajapted | 2012-01-03

Eureka: added 'ports' directory, a place for source-port definitions.

------------------------------------------------------------------------
r1102 | ajapted | 2012-01-03

Eureka: added '192' as a grid size.

------------------------------------------------------------------------
r1101 | ajapted | 2012-01-03

Eureka: draw vertices in proper colors when selected and/or highlighted
(previously they remained green, only the box around them has the proper
color).  Also made vertices more visible (solid area at centre).

------------------------------------------------------------------------
r1100 | ajapted | 2012-01-03

TODO update.

------------------------------------------------------------------------
r1099 | ajapted | 2012-01-03

Eureka: reworked colors of linedefs (UI_Canvas), white is used for
single-sided lines (instead of lines with the blocking flag), and
white is used in VERTEX mode too now.

In LINEDEF mode, cyan is used for double-sided lines which have
the blocking flag.

------------------------------------------------------------------------
r1098 | ajapted | 2012-01-03

Eureka: implemented CMD_CorrectSector().

------------------------------------------------------------------------
r1097 | ajapted | 2012-01-03

Eureka: when splitting a linedef with a new vertex, ensure the vertex
lies directly on the linedef (i.e. not slightly off the side).  This
only applies when grid snapping is OFF.

------------------------------------------------------------------------
r1096 | ajapted | 2012-01-03

Eureka: began work to make 'c' key be a &quot;correct sector&quot; function.

------------------------------------------------------------------------
r1095 | ajapted | 2012-01-03

Eureka / Utilities: added PerpDist() and AlongDist(), and removed some
unused stuff.

------------------------------------------------------------------------
r1094 | ajapted | 2012-01-03

Eureka: implemented MoveCoordOntoLineDef() function.

------------------------------------------------------------------------
r1093 | ajapted | 2012-01-03

Eureka: experimented with an alternate grid (simple squares), which
can be toggled via 'P' key (need a better key or mechanism though).

------------------------------------------------------------------------
r1092 | ajapted | 2012-01-03

Eureka: made the single-quote key (') move the 3D camera to the cursor
position.

------------------------------------------------------------------------
r1091 | ajapted | 2012-01-03

Eureka: changed LighterColor() to be less bright.

------------------------------------------------------------------------
r1090 | ajapted | 2012-01-03

Eureka: added code to create a 'bright_map' table, which maps palette
colors to a brighter (closer to white) color in the palette.  This
could potentially be used in the 3D preview to highlight stuff.

------------------------------------------------------------------------
r1089 | ajapted | 2012-01-03

Eureka: deleting a single vertex attached to TWO linedefs (no more, no less)
is now a special case which merges the linedefs together.

------------------------------------------------------------------------
r1088 | ajapted | 2012-01-03

Eureka: TODO update.

------------------------------------------------------------------------
r1087 | ajapted | 2012-01-03

Eureka: changed DisconnectLineDefs logic so that the selected linedefs
get any new vertices (existing geometry keeps the existing vertices).

------------------------------------------------------------------------
r1086 | ajapted | 2012-01-03

Eureka: implemented the logic for 'DisconnectLineDefs', which works
somewhat different than disconnecting vertices since we want to keep
all linedefs in the selection connected and only disconnect from
linedefs NOT in the selection.

------------------------------------------------------------------------
r1085 | ajapted | 2012-01-03

tidy up.

------------------------------------------------------------------------
r1084 | ajapted | 2012-01-03

Eureka: added 'd' command to README.txt

------------------------------------------------------------------------
r1083 | ajapted | 2012-01-03

Eureka: fixed problems in the DisconnectVertex code, and improved the
logic in CalcDisconnectCoord().  Also assigned to 'd' key (was 'D').

------------------------------------------------------------------------
r1082 | ajapted | 2012-01-02

Eureka: implemented a 'D' command to Disconnect linedefs.  Untested.

------------------------------------------------------------------------
r1081 | ajapted | 2012-01-02

Eureka: version bump to 0.70 -- good progress with vertex stuff.

------------------------------------------------------------------------
r1080 | ajapted | 2012-01-02

Eureka: just some algorithm notes...

------------------------------------------------------------------------
r1079 | ajapted | 2012-01-02

Eureka: yet another TODO update.

------------------------------------------------------------------------
r1078 | ajapted | 2012-01-02

Eureka: when adding a linedef between two existing vertices, reselect
the second one IFF it was isolated (not connected to any linedefs).

------------------------------------------------------------------------
r1077 | ajapted | 2012-01-02

Eureka: minor renaming, CastVerty --&gt; CastVert.

------------------------------------------------------------------------
r1076 | ajapted | 2012-01-02

Eureka: use RGB_RED() etc macros instead of directly manipulating color values.

------------------------------------------------------------------------
r1075 | ajapted | 2012-01-02

Eureka: added DarkerColor() function.

------------------------------------------------------------------------
r1074 | ajapted | 2012-01-02

Eureka: renamed pcolour_t --&gt; rgb_color_t

------------------------------------------------------------------------
r1073 | ajapted | 2012-01-02

Eureka: made DARKGREY and LIGHTGREY a bit brighter, and DARKGREY is
used for things now (removed THING_REM constant).

------------------------------------------------------------------------
r1072 | ajapted | 2012-01-02

Eureka: implemented dragging a vertex onto a linedef to split it.

------------------------------------------------------------------------
r1071 | ajapted | 2012-01-02

Eureka: use &quot;highlighted()&quot; instead of &quot;! highlighted.is_nil()&quot;

------------------------------------------------------------------------
r1070 | ajapted | 2012-01-02

Eureka / Browser: added a 'X' close button at top right.

------------------------------------------------------------------------
r1069 | ajapted | 2012-01-02

Eureka: for user interface use 'Linedef' instead of 'LineDef'.

------------------------------------------------------------------------
r1068 | ajapted | 2012-01-02

Eureka: TODO update.

------------------------------------------------------------------------
r1067 | ajapted | 2012-01-02

Eureka: made ^U be the main key to unselect everything, instead of END.
The back-quota key (`) remains an alternative to ^U, as well as just
clicking in an empty spot.

Made the '0' key be an alternative for HOME key (centre map, zoom out).

------------------------------------------------------------------------
r1066 | ajapted | 2012-01-02

Eureka: when dragging, require the pointer to move at least 6 pixels
before the drag is considered valid.  This prevents accidentally moving
an object when all you wanted to do was select it.

------------------------------------------------------------------------
r1065 | ajapted | 2012-01-02

Eureka: TODO update.

------------------------------------------------------------------------
r1064 | ajapted | 2012-01-02

Eureka: never highlight a 'split_line' when a vertex is highlighted.

Fixed updating the split_line while dragging a single vertex (however
the ability to split the line after the drag is not implemented yet).

------------------------------------------------------------------------
r1063 | ajapted | 2012-01-02

Eureka: code reformatting of 'for' loops, have a space before the ';' separators.

------------------------------------------------------------------------
r1062 | ajapted | 2012-01-02

Eureka: added SIDE_RIGHT and SIDE_LEFT constants.

------------------------------------------------------------------------
r1061 | ajapted | 2012-01-02

Eureka: removed unused constant 'Y_NULL'.

------------------------------------------------------------------------
r1060 | ajapted | 2012-01-02

Eureka: TODO update.

------------------------------------------------------------------------
r1059 | ajapted | 2012-01-02

Eureka: when adding vertices, prevent creating zero-length linedefs,
and when a vertex is highlighted and nothing is selected then merely
select that vertex -- this allows using the SPACE key to begin the
process of adding linedefs, which is quite convenient.

------------------------------------------------------------------------
r1058 | ajapted | 2012-01-02

Eureka: when using 'x' key to split linedefs, don't selected the new
linedefs if they were not selected before.

------------------------------------------------------------------------
r1057 | ajapted | 2012-01-01

tweak.

------------------------------------------------------------------------
r1056 | ajapted | 2012-01-01

Eureka: pass size to CreateSquare().

------------------------------------------------------------------------
r1055 | ajapted | 2012-01-01

tweak.

------------------------------------------------------------------------
r1054 | ajapted | 2012-01-01

Eureka: got the 'Choose' buttons in the Line/Sector/Thing panels working
[they open up the browser on the appropriate list of types].

------------------------------------------------------------------------
r1053 | ajapted | 2012-01-01

tweak.

------------------------------------------------------------------------
r1052 | ajapted | 2012-01-01

Eureka / 3D View: removed &quot;walking&quot; mode, the 'w' key now just moves
the camera Z to the ground + viewheight.

------------------------------------------------------------------------
r1051 | ajapted | 2012-01-01

Eureka: changed the sector height +/- buttons step from 16 to 8.
(It needs to be configurable though).

------------------------------------------------------------------------
r1050 | ajapted | 2011-12-31

Eureka: fixed silly bug in Drag_UpdateObjectDist().

------------------------------------------------------------------------
r1049 | ajapted | 2011-12-31

Eureka: fixed dragging of objects to honor snapping, and use a focus
object as returned by GetDrawFocus().

------------------------------------------------------------------------
r1048 | ajapted | 2011-12-31

Eureka: fixed bug in GetDragFocus() -- uninitialized variables.

------------------------------------------------------------------------
r1047 | ajapted | 2011-12-31

Eureka: minor renaming: mapx --&gt; map_x, mapy --&gt; map_y

------------------------------------------------------------------------
r1046 | ajapted | 2011-12-31

Eureka: improved GetDragFocus() code in two major ways:
  (1) check ALL the objects in the selection

  (2) when snapping is active, check if the majority of the objects
      are on the grid -- if so then only pick a coordinate which is
      also on the grid.

------------------------------------------------------------------------
r1045 | ajapted | 2011-12-31

Eureka: added OnGrid() method to test if a point is on the grid.

------------------------------------------------------------------------
r1044 | ajapted | 2011-12-31

Eureka: implemented GetDragFocus() which returns the coordinate of
the selected object which will be used as the focus for dragging
(especially when grid-snapping, that coordinate will snap to the grid).

------------------------------------------------------------------------
r1043 | ajapted | 2011-12-30

Eureka: TODO update.

------------------------------------------------------------------------
r1042 | ajapted | 2011-12-30

Makefile: lowercased program name: Eureka --&gt; eureka

------------------------------------------------------------------------
r972 | ajapted | 2011-12-11

Eureka: TODO update.

------------------------------------------------------------------------
r960 | ajapted | 2011-12-09

Eureka / Browser: ability to scroll browser with PGUP and PGDN keys.

------------------------------------------------------------------------
r959 | ajapted | 2011-12-09

Eureka: minor reformatting.

------------------------------------------------------------------------
r958 | ajapted | 2011-12-09

Eureka / Browser: fixed scrolling anomalies.

------------------------------------------------------------------------
r957 | ajapted | 2011-12-08

Eureka: mucho tweakage of 'About' window appearance.

------------------------------------------------------------------------
r956 | ajapted | 2011-12-08

Eureka: implemented a basic 'About' window.

New code files: ui_about.cc/h and ui_hyper.cc/h

------------------------------------------------------------------------
r955 | ajapted | 2011-12-07

Eureka: TODO update.

------------------------------------------------------------------------
r954 | ajapted | 2011-12-07

Eureka: when adding a vertex which BOTH splits a line and adds a line,
don't reselect the new vertex.

------------------------------------------------------------------------
r953 | ajapted | 2011-12-07

color tweak.

------------------------------------------------------------------------
r952 | ajapted | 2011-12-07

Eureka: implemented being able to split a linedef in Vertex mode by
simply hovering over a linedef and pressing INSERT.

------------------------------------------------------------------------
r951 | ajapted | 2011-12-07

Eureka: fixed the logic to highlight a to-be-split linedef.

------------------------------------------------------------------------
r950 | ajapted | 2011-12-07

Eureka: worked on logic to find the linedef which would be split by a new
vertex.

------------------------------------------------------------------------
r949 | ajapted | 2011-12-07

Eureka: worked on logic to highlight a linedef which would be split
by a newly inserted vertex.

------------------------------------------------------------------------
r948 | ajapted | 2011-12-07

Eureka: when adding linedefs in Vertex mode, don't select the second
vertex when it wasn't a new vertex (i.e. after closing off an area).

------------------------------------------------------------------------
r947 | ajapted | 2011-12-07

Eureka: TODO update.

------------------------------------------------------------------------
r946 | ajapted | 2011-12-07

Eureka / README: describe 'e' / 'E' keys for SECTOR mode.

------------------------------------------------------------------------
r945 | ajapted | 2011-12-07

Eureka: when selecting contiguous sectors, never go through closed doors.

------------------------------------------------------------------------
r944 | ajapted | 2011-12-07

Eureka: implemented new command 'e' / 'E' in SECTORS mode which selects
contiguous sectors with the same floor height / texture.

------------------------------------------------------------------------
r943 | ajapted | 2011-12-07

Eureka: implemented 'E' key which selects lines in a path which all
share the same texture.

------------------------------------------------------------------------
r942 | ajapted | 2011-12-07

Eureka: made 'e' key (Select-lines-in-path) use additive mode.

The CTRL-E key is also the same function (compatibility with Yadex),
though it still could be nabbed for a better use in the future.

------------------------------------------------------------------------
r941 | ajapted | 2011-12-07

Eureka: TODO + WISHLIST update.

------------------------------------------------------------------------
r940 | ajapted | 2011-12-07

Eureka: have a Browser_Key() and Grid_Key() function.

------------------------------------------------------------------------
r939 | ajapted | 2011-12-06

Eureka: worked on having a Global_Key() function which handles all
global stuff (such as 'b' to toggle the Browser panel).  Editor_Key()
will be reserved for commands that modify the map or grid.

------------------------------------------------------------------------
r938 | ajapted | 2011-12-06

Eureka: fixed sidedef info (in LineDef panel) not being updated when
picking new textures on selected linedefs.

------------------------------------------------------------------------
r937 | ajapted | 2011-12-06

Eureka: honor grid snapping when pasting + pointer is outside window.

------------------------------------------------------------------------
r936 | ajapted | 2011-12-06

Eureka: fixed Paste (^V) and Copy (o) commands to honor grid snapping,
and improved method to find the &quot;centre&quot; vertex or thing (return the
coordinate of an actual vertex or thing in the group) -- hence if the
copied group was all aligned to the grid, the pasted one will be too.

------------------------------------------------------------------------
r935 | ajapted | 2011-12-06

Eureka: provide a function to check if clipboard contains stuff.

------------------------------------------------------------------------
r934 | ajapted | 2011-12-06

Eureka: when inserting sectors, don't clone the currently selected one
unless the SHIFT key is pressed.  When inserting linedef, check whether
a linedef between the two vertices exists already.

Removed the crufty old InsertNewObject() code.

------------------------------------------------------------------------
r933 | ajapted | 2011-12-06

Eureka: implemented key (CTRL-U or CTRL-K) to clear the search box.

------------------------------------------------------------------------
r932 | ajapted | 2011-12-06

Eureka / Browser: implemented 'c' key to cycle through categories,
and the 'C' key to reset category to &quot;ALL&quot;.

------------------------------------------------------------------------
r931 | ajapted | 2011-12-06

Eureka: yet another TODO / WISHLIST update.

------------------------------------------------------------------------
r930 | ajapted | 2011-12-06

Eureka / Browser: support categories for Thing Types and Line Types.

------------------------------------------------------------------------
r929 | ajapted | 2011-12-06

Eureka / Browser: support categories for Textures and Flats.

------------------------------------------------------------------------
r928 | ajapted | 2011-12-06

Eureka / Browser: worked on getting the Category / Search working, and
removed various old crud.

------------------------------------------------------------------------
r927 | ajapted | 2011-12-06

Eureka: version bump, really good progress with the Browser.

------------------------------------------------------------------------
r926 | ajapted | 2011-12-06

Eureka: show mid-masked textures with a bright CYAN background.

------------------------------------------------------------------------
r925 | ajapted | 2011-12-06

Eureka: added panel_W, browser_W fields to UI_Window class.

------------------------------------------------------------------------
r924 | ajapted | 2011-12-06

tweaks.

------------------------------------------------------------------------
r923 | ajapted | 2011-12-06

Eureka: force the Kromulent Factor (KF) = 1 for time being.

------------------------------------------------------------------------
r922 | ajapted | 2011-12-06

Eureka: TODO / WISHLIST update.

------------------------------------------------------------------------
r921 | ajapted | 2011-12-06

Eureka / Browser: make it wider, enough for 4 flats or two 128-wide textures.

------------------------------------------------------------------------
r920 | ajapted | 2011-12-06

Eureka: when loading textures, skip the very first entry (#0) since it's
not really usable -- in the DOOM engine the #0 texture is never drawn.

------------------------------------------------------------------------
r919 | ajapted | 2011-12-06

Eureka / Browser: have two constructors for Browser_Item: simple one
for text buttons (e.g. Thing Types) and second one for picture buttons
(Textures and Flats).  The textual buttons are now working again.

------------------------------------------------------------------------
r918 | ajapted | 2011-12-06

Eureka / Browser: show flat and texture names underneath the pic.

------------------------------------------------------------------------
r917 | ajapted | 2011-12-05

Eureka: TODO update.

------------------------------------------------------------------------
r916 | ajapted | 2011-12-05

Eureka / Browser: fixed bug with funny gaps at the top (the Filter method
was visited the scrollbar widgets since they were not the last ones).

Made the background of scrolling part be BLACK for textures and flats.
Various tweaks and tidying of the code.

------------------------------------------------------------------------
r915 | ajapted | 2011-12-05

Eureka / Browser: fixed the side-by-side packing logic in Filter().

------------------------------------------------------------------------
r914 | ajapted | 2011-12-05

Eureka / Menu: added FL_MENU_INACTIVE to the divider lines, and tidied
up some junk in there.

------------------------------------------------------------------------
r913 | ajapted | 2011-12-05

Eureka: TODO / WISHLIST stuff.

------------------------------------------------------------------------
r912 | ajapted | 2011-12-05

Eureka / Browser: worked on Filter() logic and side-by-side packing...

------------------------------------------------------------------------
r911 | ajapted | 2011-12-05

Eureka / Browser: partial work on handling the Category setting....

------------------------------------------------------------------------
r910 | ajapted | 2011-12-04

Eureka / Browser: code to setup the Category choices for each browser box.
(the choice is not used yet however).

------------------------------------------------------------------------
r909 | ajapted | 2011-12-04

Eureka / README: a couple more fixes.

------------------------------------------------------------------------
r908 | ajapted | 2011-12-04

Eureka / README: small fix.

------------------------------------------------------------------------
r907 | ajapted | 2011-12-04

Eureka / Browser: fixed the Texture/Flat browser not showing anything,
we need to Populate() the browser boxes _after_ loading all the flats
and textures from the wad(s).

------------------------------------------------------------------------
r906 | ajapted | 2011-12-04

Eureka / Browser: various fixes, the new structure is now working OK.

------------------------------------------------------------------------
r905 | ajapted | 2011-12-04

Eureka / Browser: worked on new structure, where UI_Browser is a container
widget which contains (and controls) a bunch of UI_Browser_Box widgets.

------------------------------------------------------------------------
r904 | ajapted | 2011-12-04

Eureka: created empty &quot;boom.ugh&quot; and &quot;edge.ugh&quot; engine config files
(in preparation to move the specific pieces out of doom2.ugh).

------------------------------------------------------------------------
r903 | ajapted | 2011-12-04

Eureka: moved DOOM2 game configuration file --&gt; configs/ folder.

------------------------------------------------------------------------
r902 | ajapted | 2011-12-04

Eureka: addid configs/ folder.

------------------------------------------------------------------------
r901 | ajapted | 2011-12-04

Eureka: fixes for the new Browser menu...

------------------------------------------------------------------------
r900 | ajapted | 2011-12-04

Eureka: added a &quot;Browser&quot; menu on the main menu bar, worked on code to
support it.

------------------------------------------------------------------------
r899 | ajapted | 2011-12-04

Eureka / Canvas: tweaked size of Knobby lines.

------------------------------------------------------------------------
r898 | ajapted | 2011-12-04

Eureka / Browser: worked on a UI_Browser_Menu class.

------------------------------------------------------------------------
r897 | ajapted | 2011-12-04

Eureka: TODO update.

------------------------------------------------------------------------
r896 | ajapted | 2011-12-04

tweak.

------------------------------------------------------------------------
r895 | ajapted | 2011-12-03

Eureka: when making category menu strings, also return the group letters
so they can be used to filter the browser items.

------------------------------------------------------------------------
r894 | ajapted | 2011-12-03

tweak.

------------------------------------------------------------------------
r893 | ajapted | 2011-12-03

Eureka: capitalize 'OTHER' in browser categories.

------------------------------------------------------------------------
r892 | ajapted | 2011-12-03

Eureka: fixed missing '|' in category string conversion.

------------------------------------------------------------------------
r891 | ajapted | 2011-12-03

Eureka: added code to convert the descriptions in linegroups (etc)
into a menu string which can be used in an Fl_Choice widget.

------------------------------------------------------------------------
r890 | ajapted | 2011-12-03

Eureka: updated game config loader to handle 'texturegroup', 'texture'
and 'flat' definitions.

------------------------------------------------------------------------
r889 | ajapted | 2011-12-03

Eureka / DOOM2 config: use '-' (not 'x') as letter for &quot;Other&quot; category,
and added the '-' as a thinggroup and a texturegroup too.

------------------------------------------------------------------------
r888 | ajapted | 2011-12-03

Eureka / DOOM2 config: finished texture/flat section, tweaked things section.

------------------------------------------------------------------------
r887 | ajapted | 2011-12-02

Eureka / DOOM2 config: worked on texture categories.

------------------------------------------------------------------------
r886 | ajapted | 2011-11-30

Eureka / 3D view: experimental code to draw a highlight border around
a solid surface (lower, upper, floor, ceiling).

------------------------------------------------------------------------
r885 | ajapted | 2011-11-30

Eureka: moved some color #defines --&gt; im_color.h

------------------------------------------------------------------------
r884 | ajapted | 2011-11-30

Eureka / DOOM2 config: tweaked descriptions of some linetypes.

------------------------------------------------------------------------
r883 | ajapted | 2011-11-30

Eureka / DOOM2 config: gave some things prefixes, e.g. &quot;MON:&quot; for monsters,
&quot;PU:&quot; for pickups and &quot;WP:&quot; for weapons.

------------------------------------------------------------------------
r882 | ajapted | 2011-11-30

Eureka / Browser: tweaked layout.

------------------------------------------------------------------------
r881 | ajapted | 2011-11-30

Eureka: made the Browser a bit wider (to make things fit more comfortably).

------------------------------------------------------------------------
r880 | ajapted | 2011-11-30

Version bump to 0.666 in honor of Texture/Flat browser working.

------------------------------------------------------------------------
r879 | ajapted | 2011-11-30

Eureka / Browser: only allow Right click to change sector ceilings
(not SHIFT or middle click) -- for consistency with linedef handling.

------------------------------------------------------------------------
r878 | ajapted | 2011-11-30

Eureka / Browser: imlemented logic for setting textures on two-sided
lines.  Left click adjusts lowers and Right click adjusts uppers, and
Middle click sets mid-masked textures (on both sides).  For lowers
and uppers we pick the side that faces out, but SHIFT key picks the
opposite side.  Also some logic for handling windows nicely (change
BOTH lower and upper, but only with Left click).

------------------------------------------------------------------------
r877 | ajapted | 2011-11-30

Eureka: the normal select-lines-in-path (on 'e' key) now doesn't unmerge
if the original line was selected, since the whole selection gets cleared
anyway.  New way is more useful when lots of lines are selected and you
only want the new path to be selected.

------------------------------------------------------------------------
r876 | ajapted | 2011-11-30

Eureka / Browser: got texture setting on one-sided linedefs working.

------------------------------------------------------------------------
r875 | ajapted | 2011-11-30

Eureka: tweaked UI_Sector:SetTexture() code (check if count &gt; 0).

------------------------------------------------------------------------
r874 | ajapted | 2011-11-30

Eureka / Browser: got texture setting for floors and ceilings working,
where a left click sets the floor and a right click sets the ceilings.

------------------------------------------------------------------------
r873 | ajapted | 2011-11-30

Eureka / Browser: partial worked on ability to set flat and textures on
sectors and linedefs via the browser.  Changed button to Fl_Repeat_Button
since that widget lets us check what buttons / modifiers were used.
(The standard Fl_Button callback gets done on RELEASE --&gt; no buttons).

------------------------------------------------------------------------
r872 | ajapted | 2011-11-30

Eureka: renamed code file: selpath --&gt; e_path

------------------------------------------------------------------------
r871 | ajapted | 2011-11-30

Eureka: renamed code file: selpath --&gt; e_path

------------------------------------------------------------------------
r870 | ajapted | 2011-11-30

Eureka: added keys for CMD_SelectLinesInPath : 'e' for normal mode,
CTRL-E for the additive mode.

------------------------------------------------------------------------
r869 | ajapted | 2011-11-30

Eureka: for selecting lines in a path, have 'additive' parameter which
does not forget the current selection.  The 'one_sided' mode proved to
be fairly useless, hence removed that logic.

------------------------------------------------------------------------
r868 | ajapted | 2011-11-30

Eureka: finished CMD_SelectLinesInPath() : logic to get starting line.

------------------------------------------------------------------------
r867 | ajapted | 2011-11-30

Eureka: added TwoSided() method to LineDef class.

------------------------------------------------------------------------
r866 | ajapted | 2011-11-30

Eureka: implemented 'one_sided' mode for CMD_SelectLinesInPath().

------------------------------------------------------------------------
r865 | ajapted | 2011-11-30

Eureka: wrote new logic for selecting linedefs in a path.

------------------------------------------------------------------------
r864 | ajapted | 2011-11-29

Eureka: changed INSERT alternate key from 'a' --&gt; SPACE, and changed
the Clear Selection key from SPACE --&gt; END or backquote.

------------------------------------------------------------------------
r863 | ajapted | 2011-11-29

Eureka / Browser: worked on positioning the Flat and Texture pics.

------------------------------------------------------------------------
r862 | ajapted | 2011-11-29

Eureka: made the browser panel a bit wider.

------------------------------------------------------------------------
r861 | ajapted | 2011-11-29

Eureka: upgrade to FLTK 1.3.0 (this is required since the texture browser
was overflowing the 16-bit widget coordinates of FLTK 1.1.x).

------------------------------------------------------------------------
r860 | ajapted | 2011-11-29

Eureka / Browser: fixed searching to handle '^' and '$' properly
(they are not handled by fl_filename_match).

------------------------------------------------------------------------
r859 | ajapted | 2011-11-29

Eureka: version bump, in honor of progress with the Browser.

------------------------------------------------------------------------
r858 | ajapted | 2011-11-29

Eureka: implemented setting Thing and Sector types via the browser.

------------------------------------------------------------------------
r857 | ajapted | 2011-11-29

Eureka: TODO update.

------------------------------------------------------------------------
r856 | ajapted | 2011-11-29

Eureka / 3D Preview: allow 'b' key to toggle the browser.

------------------------------------------------------------------------
r855 | ajapted | 2011-11-29

Eureka: saving the map now clears MadeChanges, preventing the wrong
message about the map having unsaved changes when going to quit.

------------------------------------------------------------------------
r854 | ajapted | 2011-11-29

Eureka: re-implemented a swap-flats command for sectors, bound to 'w' key.

------------------------------------------------------------------------
r853 | ajapted | 2011-11-28

Eureka: TODO updated.

------------------------------------------------------------------------
r852 | ajapted | 2011-11-28

Eureka / Browser: can now change Linedef types via the browser!

------------------------------------------------------------------------
r851 | ajapted | 2011-11-28

Eureka: ensure a new object (added with 'a' / INS) gets selected.

------------------------------------------------------------------------
r850 | ajapted | 2011-11-28

Eureka / Browser: clear search string when mode changes due to a new edit mode.

------------------------------------------------------------------------
r849 | ajapted | 2011-11-28

Eureka / Browser: make each browser item into a button.

------------------------------------------------------------------------
r848 | ajapted | 2011-11-28

Eureka: renamed methods: SetMode() --&gt; NewEditMode()

------------------------------------------------------------------------
r847 | ajapted | 2011-11-28

Eureka / Browser: change the browser mode (Textures / Flats / Things)
when the edit mode changes to LineDefs / Sectors / Things bzw.

------------------------------------------------------------------------
r846 | ajapted | 2011-11-28

Eureka / Browser: worked on support for Textures and Flats.  Only the
names are being shown so far....

------------------------------------------------------------------------
r845 | ajapted | 2011-11-28

Eureka / Browser: clear search box when changing Mode.

------------------------------------------------------------------------
r844 | ajapted | 2011-11-28

Eureka / Browser: implemented the search function.

------------------------------------------------------------------------
r843 | ajapted | 2011-11-28

Eureka / Doom2 config: tweaked some descriptions, especially the zero
linedef type and sector type.

------------------------------------------------------------------------
r842 | ajapted | 2011-11-28

Eureka / Browser: fixed missing end() from Browser_Item constructor,
and for search box update the list whenever it changes.

------------------------------------------------------------------------
r841 | ajapted | 2011-11-28

Eureka / Browser: use to callback to update the list when the mode,
category or search box changes.

------------------------------------------------------------------------
r840 | ajapted | 2011-11-28

Eureka / Browser: code to populate the list with ThingTypes, LineTypes
and SectorTypes.

------------------------------------------------------------------------
r839 | ajapted | 2011-11-28

Eureka / Browser: began work to populate the browser with useful stuff
like line_types and thing_types.

------------------------------------------------------------------------
r838 | ajapted | 2011-11-28

Eureka: comment tweak.

------------------------------------------------------------------------
r837 | ajapted | 2011-11-28

Eureka: tweaked gap at bottom of side panel + right end of menu bar.

------------------------------------------------------------------------
r836 | ajapted | 2011-11-28

Eureka / Browser: dead code removal.

------------------------------------------------------------------------
r835 | ajapted | 2011-11-28

Eureka: worked on Browser widget, use Fl_Scroll for the scrolling list.

------------------------------------------------------------------------
r834 | ajapted | 2011-11-28

Eureka: more work to fix Browser size when resizing.

------------------------------------------------------------------------
r833 | ajapted | 2011-11-27

Eureka: needed to call init_sizes() in window's ShowBrowser() method
since the widgets got rearranged.

------------------------------------------------------------------------
r832 | ajapted | 2011-11-27

Eureka / README: minor fix.

------------------------------------------------------------------------
r831 | ajapted | 2011-11-27

Eureka / Makefile: fixed 'make clean' target.

------------------------------------------------------------------------
r830 | ajapted | 2011-11-27

Eureka: document tweaks.

------------------------------------------------------------------------
r829 | ajapted | 2011-11-27

Eureka: TODO update.

------------------------------------------------------------------------
r828 | ajapted | 2011-11-27

Eureka: make sure all quit methods (ESCAPE key, File menu, window close
button) work the same way, and ask for confirmation if the map has been
modified.

------------------------------------------------------------------------
r827 | ajapted | 2011-11-27

Eureka: fixed the current map name (right side of infobar).

------------------------------------------------------------------------
r826 | ajapted | 2011-11-27

Eureka: fixed the infobar &quot;lock&quot; widget to update the editor state
(i.e. grid.snap and grid.locked) when changed.

------------------------------------------------------------------------
r825 | ajapted | 2011-11-27

Eureka / README: note requirement of doom2.wad, various tweaks.

------------------------------------------------------------------------
r824 | ajapted | 2011-11-27

Eureka / README: added copyright / license section.

------------------------------------------------------------------------
r823 | ajapted | 2011-11-27

Eureka / README: more work, new &quot;RUNNING&quot; section etc...

------------------------------------------------------------------------
r822 | ajapted | 2011-11-27

Eureka: moved keyboard command list from FEATURES.txt --&gt; README.txt
and added some extra ones (especially for 3D preview).

------------------------------------------------------------------------
r821 | ajapted | 2011-11-27

Eureka: began work on a basic README.txt document.

------------------------------------------------------------------------
r820 | ajapted | 2011-11-27

Eureka: added basic INSTALL.txt document.

------------------------------------------------------------------------
r819 | ajapted | 2011-11-27

Eureka: code formatting tweak.

------------------------------------------------------------------------
r818 | ajapted | 2011-11-27

Eureka: minor tweak

------------------------------------------------------------------------
r817 | ajapted | 2011-11-27

Eureka: version bump.

------------------------------------------------------------------------
r816 | ajapted | 2011-11-27

TODO / WISHLIST twiddling....

------------------------------------------------------------------------
r815 | ajapted | 2011-11-27

Eureka: fixed wrong values with light &quot;-&quot; button (in Sector panel).

------------------------------------------------------------------------
r814 | ajapted | 2011-11-27

Eureka / Render3D: implemented low-detail mode (toggle via F5 key).

------------------------------------------------------------------------
r813 | ajapted | 2011-11-27

Eureka / Render3D: implemented a &quot;lo-res&quot; mode.

------------------------------------------------------------------------
r812 | ajapted | 2011-11-27

Eureka: added 'lib_linux' folder.

------------------------------------------------------------------------
r811 | ajapted | 2011-11-27

Eureka: moved MEMORY.txt document --&gt; attic/

------------------------------------------------------------------------
r810 | ajapted | 2011-11-27

Eureka: added 'attic' folder.

------------------------------------------------------------------------
r809 | ajapted | 2011-11-27

Eureka / Makefile: fixed location of exe.

------------------------------------------------------------------------
r808 | ajapted | 2011-11-27

Eureka / Makefile: updated for top-level and obj_linux folder.

------------------------------------------------------------------------
r807 | ajapted | 2011-11-27

Eureka: added 'obj_linux' folder for the build process.

------------------------------------------------------------------------
r806 | ajapted | 2011-11-27

Eureka: TODO update.

------------------------------------------------------------------------
r805 | ajapted | 2011-11-27

Eureka: moved Makefile to top level.

------------------------------------------------------------------------
r804 | ajapted | 2011-11-27

Eureka / Render3D: enable 'lighting' by default.

------------------------------------------------------------------------
r803 | ajapted | 2011-11-27

Eureka / Render3D: support for aspect-ratio correction.

------------------------------------------------------------------------
r802 | ajapted | 2011-11-27

Eureka / Render3D: tweaked mouse scrolling (future option to allow both
angular and Z movement at same time).

------------------------------------------------------------------------
r801 | ajapted | 2011-11-27

Eureka: fixed 3D preview to handle resizing the main window.

------------------------------------------------------------------------
r800 | ajapted | 2011-11-27

Eureka: draw &quot;knobby&quot; linedefs (only in LineDef and Vertex mode).

------------------------------------------------------------------------
r799 | ajapted | 2011-11-26

Eureka: fixed vertical stretching of info panels (Things etc) when
resizing the main window.

------------------------------------------------------------------------
r543 | ajapted | 2010-09-24

MEMORY doc: changed COPY_GROUP to a more general 'GROUP' object, and
renamed EDIT_GROUP --&gt; EDIT_SET.

------------------------------------------------------------------------
r542 | ajapted | 2010-09-24

MEMORY doc: described the edit operations, added STRING objects.

------------------------------------------------------------------------
r541 | ajapted | 2010-09-24

MEMORY document: added lots more detail.

------------------------------------------------------------------------
r540 | ajapted | 2010-09-24

Added MEMORY.txt : document the memory model for map objects.

------------------------------------------------------------------------
r539 | ajapted | 2010-09-24

Makefile: library folder is now 'lib_linux'

------------------------------------------------------------------------
r538 | ajapted | 2010-09-24

FIXED (thank dog!) the ESCAPE key quitting unconditionally.

------------------------------------------------------------------------
r528 | ajapted | 2010-05-16

tweak

------------------------------------------------------------------------
r449 | ajapted | 2009-12-02

Eureka: temporary hack (level loading stuff).

------------------------------------------------------------------------
r448 | ajapted | 2009-12-02

Use FLTK 1.1.10

------------------------------------------------------------------------
r445 | ajapted | 2009-11-09

Eureka: implemented showing and hiding the Browser panel (via 'b' key).

------------------------------------------------------------------------
r444 | ajapted | 2009-11-09

Eureka: bit more work on Browser stuff.

------------------------------------------------------------------------
r443 | ajapted | 2009-11-09

Eureka: worked on the UI_Browser widget, the top section now has a choice
button for the current type (Textures, Flats, etc), plus a choice button
for the current group (useful for things), plus a search field, and lastly
a check button on whether to show images or not.  [PROTOTYPE ONLY]

------------------------------------------------------------------------
r442 | ajapted | 2009-11-08

Eureka: renamed UI_FlatTexList --&gt; UI_Browser (et cetera).

------------------------------------------------------------------------
r441 | ajapted | 2009-11-08

Eureka: renamed code files: ui_flattex --&gt; ui_browser

------------------------------------------------------------------------
r440 | ajapted | 2009-11-08

TODO update.

------------------------------------------------------------------------
r439 | ajapted | 2009-11-08

Eureka: draw an selected AND highlighted object in a different color, and
changed the selection color to a sky-blue.

------------------------------------------------------------------------
r438 | ajapted | 2009-11-08

Eureka: implemented mirror commands for the Edit menu.

------------------------------------------------------------------------
r437 | ajapted | 2009-11-08

Eureka: fixed Paste from the menu to place new items at centre of canvas.

------------------------------------------------------------------------
r436 | ajapted | 2009-11-08

noted a bug.

------------------------------------------------------------------------
r435 | ajapted | 2009-11-08

Eureka: implemented key to Flip linedefs.

------------------------------------------------------------------------
r434 | ajapted | 2009-11-08

todo tweakage.

------------------------------------------------------------------------
r433 | ajapted | 2009-11-08

Eureka: improved FindIslands() code to handle when the initial path is
itself an island, whereby it reaches out to the outer area.

------------------------------------------------------------------------
r432 | ajapted | 2009-11-08

Eureka: finding islands: fixed a bug (erroneous check on sidedefs).

------------------------------------------------------------------------
r431 | ajapted | 2009-11-08

Eureka: FindIslands() : recompute bbox on each call (it can change when
islands reach out to other geometry).

------------------------------------------------------------------------
r430 | ajapted | 2009-11-08

Eureka: further work on finding islands...

------------------------------------------------------------------------
r429 | ajapted | 2009-11-08

Eureka: fixed logic in OppositeLineDef() : result_side was wrong.

------------------------------------------------------------------------
r428 | ajapted | 2009-11-07

Eureka: preliminary work on Island-finding algorithm (for sector insertion).

------------------------------------------------------------------------
r427 | ajapted | 2009-11-07

Eureka: decreases the mapslack for highlighting a vertex, making it less
likely to accidentally join the wrong vertex while inserting lines (etc).

------------------------------------------------------------------------
r426 | ajapted | 2009-11-07

Eureka: fixed problem with &quot;ugly&quot; 45-degree lines, caused by width = 1
parameter in fl_line_style().  Using width = 0 produces nicer results.

------------------------------------------------------------------------
r425 | ajapted | 2009-11-07

Eureka: fixed bug with wrong initial grid step in the InfoBar.

------------------------------------------------------------------------
r424 | ajapted | 2009-11-07

Eureka: properly update the side panel after map changes.

------------------------------------------------------------------------
r423 | ajapted | 2009-11-07

Eureka: made sure linedefs inserted in vertex mode have Impassible flag.

------------------------------------------------------------------------
r422 | ajapted | 2009-11-07

Eureka: fixed re-selection after inserting a sector (into a space).

------------------------------------------------------------------------
r421 | ajapted | 2009-11-07

reformatted code.

------------------------------------------------------------------------
r420 | ajapted | 2009-11-07

Eureka: when inserting a sector, fixup linedefs which become 2-sided
(add 2S flag, clear impassible flag, make middle texture &quot;-&quot;).

------------------------------------------------------------------------
r419 | ajapted | 2009-11-07

Eureka: version bumped to 0.61

------------------------------------------------------------------------
r418 | ajapted | 2009-11-07

Eureka: try harder to find a usable texture when linedef becomes
one-sided (check the to-be-removed sidedef too).

------------------------------------------------------------------------
r417 | ajapted | 2009-11-07

Eureka: for sector deletions, make sure to fix-up any linedefs which
become one-sided (update 2S and impassible flag, middle texture, and
flip if needed).

------------------------------------------------------------------------
r416 | ajapted | 2009-11-07

Eureka: e_cutpaste.cc : added new DoRemoveSideFromLine() function, and
moved all the CMD_Delete() code to the bottom of the file.

------------------------------------------------------------------------
r415 | ajapted | 2009-11-07

Eureka: made SHIFT + DELETE keep any unused bits (vertices etc).

------------------------------------------------------------------------
r414 | ajapted | 2009-11-07

Eureka: pass keymod_e to EditorKey() and similar functions.

------------------------------------------------------------------------
r413 | ajapted | 2009-11-07

Eureka: when deleting sectors, find and delete Linedefs which would be
unused afterwards -- and in turn unused vertices and sidedefs.

------------------------------------------------------------------------
r412 | ajapted | 2009-11-07

Eureka: remove unused sidedefs when deleting linedefs (same logic as
for vertices).

------------------------------------------------------------------------
r411 | ajapted | 2009-11-07

Eureka: reworked code to delete unused vertices when deleting linedefs.

------------------------------------------------------------------------
r410 | ajapted | 2009-11-07

Eureka: BASIS: no longer delete a linedef when it ends up with no sides,
that was too heavy handed (such linedefs are not valid for DOOM engines
but is allowed inside the editor).

------------------------------------------------------------------------
r409 | ajapted | 2009-11-07

Eureka: worked on making deletion of linedefs and sectors also remove
any vertices and/or sidedefs which would end up unused after deletion.
Also merged CMD_Delete() and CMD_FullDelete() into one function.

------------------------------------------------------------------------
r408 | ajapted | 2009-11-07

Eureka: ConvertSelection() now handles LINES-&gt;SIDES and SECTORS-&gt;SIDES.

------------------------------------------------------------------------
r407 | ajapted | 2009-11-07

Eureka: added new selection_c::unmerge() and intersect() methods.

------------------------------------------------------------------------
r406 | ajapted | 2009-11-06

TODO twiddling.

------------------------------------------------------------------------
r405 | ajapted | 2009-11-06

tweaks

------------------------------------------------------------------------
r404 | ajapted | 2009-11-06

Eureka: improved vertex insertion to merely add a linedef when two
vertices are selected (or one selected and one highlighted).

------------------------------------------------------------------------
r403 | ajapted | 2009-11-06

Eureka: added 'find_first' and 'find_second' methods to selection_c class.

------------------------------------------------------------------------
r402 | ajapted | 2009-11-06

Eureka: made the HOME key centre-and-zoom-out the map (instead of '0').

------------------------------------------------------------------------
r401 | ajapted | 2009-11-06

Eureka: the 'a' key is now equivalent to INSERT key (was 'i' before).

------------------------------------------------------------------------
r400 | ajapted | 2009-11-06

Eureka: bit more work on Sector insertions.

------------------------------------------------------------------------
r399 | ajapted | 2009-11-05

todo update.

------------------------------------------------------------------------
r398 | ajapted | 2009-11-05

Eureka: tweaked the key-binding list (FEATURES.txt)

------------------------------------------------------------------------
r397 | ajapted | 2009-11-05

Eureka: fixed some bugs in the AssignSectorToSpace() code.

------------------------------------------------------------------------
r396 | ajapted | 2009-11-05

Eureka: implemented DoAssignSector() function, for sector insertion code.

------------------------------------------------------------------------
r395 | ajapted | 2009-11-05

Eureka: worked on fixing the code which traces a closed path of linedefs
to determine where to place a new (or existing) sector reference.

------------------------------------------------------------------------
r394 | ajapted | 2009-11-05

tweaks.

------------------------------------------------------------------------
r393 | ajapted | 2009-11-05

Eureka: initial code for new OppositeLineDef() function.

------------------------------------------------------------------------
r392 | ajapted | 2009-11-05

Eureka: use new PointOutsideOfMap() check for creating a square when
inserting in Sector mode.

------------------------------------------------------------------------
r391 | ajapted | 2009-11-05

dead code removal.

------------------------------------------------------------------------
r390 | ajapted | 2009-11-05

Eureka: x_hover: added PointOutsideOfMap() utility function, and updated
the header file with the other new functions.

------------------------------------------------------------------------
r389 | ajapted | 2009-11-05

Eureka: improved get_cur_sector() logic by casting both vertical and
horizontal rays to find the closest linedef.

------------------------------------------------------------------------
r388 | ajapted | 2009-11-05

Eureka: fixed bugs in ClosestLine_CastingVerty() function.

------------------------------------------------------------------------
r387 | ajapted | 2009-11-05

Eureka: improved the ClosestLine_CastingXXX functions to (a) check both
casting directions, e.g. right AND left, and (b) return which side the
test point is on (1, 0, -1).

------------------------------------------------------------------------
r386 | ajapted | 2009-11-05

Eureka: x_hover.cc: separated code into new ClosestLineDef_CastingRight()
function, and added new ClosestLineDef_CastingUp() function.

------------------------------------------------------------------------
r385 | ajapted | 2009-11-05

Eureka: renamed map bounds global vars again: MapBound_[lh][xy]

------------------------------------------------------------------------
r384 | ajapted | 2009-11-05

code tidying.

------------------------------------------------------------------------
r383 | ajapted | 2009-11-05

Eureka: no need to invalidate the Selection when the inserted or deleted
object is above the max_obj().

------------------------------------------------------------------------
r382 | ajapted | 2009-11-05

Eureka: added fast max_obj() method to selection_c class, and renamed
the slow_count() method --&gt; count_obj().

------------------------------------------------------------------------
r381 | ajapted | 2009-11-05

Eureka: further work on adjusting move/scroll speeds based on whether
SHIFT or CTRL keys are pressed.

------------------------------------------------------------------------
r380 | ajapted | 2009-11-04

Eureka render mode: more control over speed of forward/back/strafe keys
(CTRL faster, SHIFT slower).  Changed fly up/down keys to PGUP and PGDN.

Renamed key_mod_e --&gt; keymod_e

------------------------------------------------------------------------
r379 | ajapted | 2009-11-04

Eureka: for 3D preview, made SHIFT and CTRL control the speed of moving
forward/backwards when using the mousewheel.

------------------------------------------------------------------------
r378 | ajapted | 2009-11-04

Eureka: added key_mod_e enumeration (KM_SHIFT, KM_CTRL etc).

------------------------------------------------------------------------
r377 | ajapted | 2009-11-04

Eureka: created new WISHLIST.txt document.

------------------------------------------------------------------------
r376 | ajapted | 2009-11-04

TODO update.

------------------------------------------------------------------------
r375 | ajapted | 2009-11-04

Eureka: made sane the usage of h1 and h2 fields of DrawSurf.

------------------------------------------------------------------------
r374 | ajapted | 2009-11-04

Eureka renderer: fixed y_offset for Mid-Masked textures, YAY!

------------------------------------------------------------------------
r373 | ajapted | 2009-11-04

Eureka: ignore self-referenced lines in 3D renderer.

------------------------------------------------------------------------
r372 | ajapted | 2009-11-04

Eureka: much better mid-masked textures in 3D preview.

------------------------------------------------------------------------
r371 | ajapted | 2009-11-04

reformatted some code.

------------------------------------------------------------------------
r370 | ajapted | 2009-11-04

Eureka: preliminary work on rendering mid-masked textures...

------------------------------------------------------------------------
r369 | ajapted | 2009-11-04

Eureka: worked on improving the x_hover.cc code.

------------------------------------------------------------------------
r368 | ajapted | 2009-11-04

Eureka: disabled experimental new 'get_cur_sector', which did not work
properly in several situations (cf MAP02 of TNT).

------------------------------------------------------------------------
r367 | ajapted | 2009-11-04

Eureka: renamed DistanceToLineDef() --&gt; ApproxDistToLineDef().

------------------------------------------------------------------------
r366 | ajapted | 2009-11-04

Eureka: experimental new way to determine current sector at a point.

------------------------------------------------------------------------
r365 | ajapted | 2009-11-04

Eureka: removed unused utility function.

------------------------------------------------------------------------
r364 | ajapted | 2009-11-04

dead code removal.

------------------------------------------------------------------------
r363 | ajapted | 2009-11-04

Eureka: implemented a DistanceToLineDef() function.

Did some tidying in x_hover.cc

------------------------------------------------------------------------
r362 | ajapted | 2009-11-04

Eureka: moved some code in x_hover.cc

------------------------------------------------------------------------
r361 | ajapted | 2009-11-04

Eureka: make sure the Total value in each side panel is kept up-to-date.

------------------------------------------------------------------------
r360 | ajapted | 2009-11-04

Eureka: fixed input widgets on the side panels so that the ENTER key does
not jump to another widget, instead staying in that input widget.

------------------------------------------------------------------------
r359 | ajapted | 2009-11-04

Eureka: added list of needed Config items to the TODO.

------------------------------------------------------------------------
r358 | ajapted | 2009-11-04

Eureka: prevent ENTER key doing the 'Unselect All' command.

------------------------------------------------------------------------
r357 | ajapted | 2009-11-04

Eureka: tweaked speed of mouse-wheel forward/back in 3D preview.

------------------------------------------------------------------------
r356 | ajapted | 2009-11-04

Eureka: fixed (Un)select-All commands to update the side panel.

------------------------------------------------------------------------
r355 | ajapted | 2009-11-03

Eureka: show more info (strerror) in LOG.txt when a pwad cannot be opened.

------------------------------------------------------------------------
r354 | ajapted | 2009-11-03

tweak.

------------------------------------------------------------------------
r353 | ajapted | 2009-11-03

Eureka: fixed loading maps with lowercase texture or flat names in the
sidedefs or sectors -- they are silently converted to uppercase.

------------------------------------------------------------------------
r352 | ajapted | 2009-11-03

Eureka: support ON_CEILING things in the 3D preview.

------------------------------------------------------------------------
r351 | ajapted | 2009-11-03

Eureka: doom2 game config: lit up the keys and armor vests (added 'l' flag).

------------------------------------------------------------------------
r350 | ajapted | 2009-11-03

Eureka: draw Invis and Lit things properly in the 3D preview.

------------------------------------------------------------------------
r349 | ajapted | 2009-11-03

Eureka: game config: parse new 'l' and 'c' flags for things ('l' for Lit
things, 'c' for Ceiling things), and changed 's' --&gt; 'i' (Invis).

------------------------------------------------------------------------
r348 | ajapted | 2009-11-03

Eureka: updated game file (doom2.ugh), giving lit objects the 'l' flags
and on-ceiling objects the 'c' flag, and changed 's' flag --&gt; 'i'.

Also separated out the EDGE specific things.

------------------------------------------------------------------------
r347 | ajapted | 2009-11-03

Eureka: handle mouse motion/clicks better when the 3D preview is shown.

------------------------------------------------------------------------
r346 | ajapted | 2009-11-03

todo stuff

------------------------------------------------------------------------
r345 | ajapted | 2009-11-03

Eureka: renderer: better code to keep track of what sectors each thing
is in, recalculating when the number of things or sectors change, or
by the user pressing CTRL-L.

------------------------------------------------------------------------
r344 | ajapted | 2009-11-03

Eureka: can now bump gamma with F11 key (in 3D render view).

------------------------------------------------------------------------
r343 | ajapted | 2009-11-03

minor code reformatting.

------------------------------------------------------------------------
r342 | ajapted | 2009-11-03

Eureka: implemented renderer effect where N/S walls are brighter and
E/W walls are darker than normal.

------------------------------------------------------------------------
r341 | ajapted | 2009-11-03

Eureka: r_render.cc: misc tidying, replaced fucking 0 with NULL, etc..

------------------------------------------------------------------------
r340 | ajapted | 2009-11-02

todo tweak

------------------------------------------------------------------------
r339 | ajapted | 2009-11-02

Eureka: support for Lighting in the 3D preview.

------------------------------------------------------------------------
r338 | ajapted | 2009-11-02

Eureka: added code to load the COLORMAP lump.

------------------------------------------------------------------------
r337 | ajapted | 2009-11-02

Eureka: more reformatting in r_render.cc

------------------------------------------------------------------------
r336 | ajapted | 2009-11-02

Eureka: reformatted the code in r_render.cc

------------------------------------------------------------------------
r335 | ajapted | 2009-11-02

Eureka: added useful mode for Vertex/LineDef inserting: if _one_ vertex
is selected, then insert a new one, add a joining linedef, and re-select
the new vertex.  Also split thing, sector creation into separate funcs.

------------------------------------------------------------------------
r334 | ajapted | 2009-11-02

Eureka: added bare-bones code to create a new square-shape sector.

------------------------------------------------------------------------
r333 | ajapted | 2009-11-02

Eureka: renamed variables: MapMinX/Y, MapMaxX/Y --&gt; Map_lx/y, Map_hx/y.

------------------------------------------------------------------------
r332 | ajapted | 2009-11-02

Eureka: debugging code to draw the level's Bounding box.

------------------------------------------------------------------------
r331 | ajapted | 2009-11-02

Eureka: implemented code (via MapStuff_NotifyXXX functions) to keep the
level bounds (MapMinX/Y and MapMaxX/Y globals) up-to-date.

------------------------------------------------------------------------
r330 | ajapted | 2009-11-02

Eureka: fixed Pasted objects to be selected (this broke due to recent
work on basis notifications).

------------------------------------------------------------------------
r329 | ajapted | 2009-11-02

Eureka: free textures at exit.

------------------------------------------------------------------------
r328 | ajapted | 2009-11-02

Eureka: fixed finding player for renderer when level has Voodoo dolls.

------------------------------------------------------------------------
r327 | ajapted | 2009-11-02

Eureka: fixed bugs in bitvec_c and selection_c classes.

------------------------------------------------------------------------
r326 | ajapted | 2009-11-02

Eureka: fixed memory leak in bitvec_c::resize() code.

------------------------------------------------------------------------
r325 | ajapted | 2009-11-02

Eureka: updated CMD_SelectAll() for recent selection_c changes.

------------------------------------------------------------------------
r324 | ajapted | 2009-11-02

Eureka: implemented new bitvec_c::resize() method.

------------------------------------------------------------------------
r323 | ajapted | 2009-11-02

Eureka: selection_c class: make the bitvector grow as needed, instead of
relying on NumObjects() which changes all the time.

------------------------------------------------------------------------
r322 | ajapted | 2009-11-01

TODO update.

------------------------------------------------------------------------
r321 | ajapted | 2009-11-01

Eureka: beginnings of the code for ObjectBox_NotifyXXX() functions.

------------------------------------------------------------------------
r320 | ajapted | 2009-11-01

Eureka: fixed assertion error due to recent changes.

------------------------------------------------------------------------
r319 | ajapted | 2009-11-01

Eureka: dead code removal (all the 'changed_a_xxxx' variables etc).

------------------------------------------------------------------------
r318 | ajapted | 2009-11-01

Eureka: implemented XXX_Notify() functions for the current Selection.

------------------------------------------------------------------------
r317 | ajapted | 2009-11-01

Eureka: call XXX_NotifyBegin() and XXX_NotifyEnd() functions from the Basis.

------------------------------------------------------------------------
r316 | ajapted | 2009-11-01

Eureka: more work on new BASIS notification framework (Clipboard bits).

------------------------------------------------------------------------
r315 | ajapted | 2009-11-01

Eureka: BASIS: partial work on new way of notifying other code about
changes/insertions/deletions of map structures.

------------------------------------------------------------------------
r314 | ajapted | 2009-11-01

Eureka: tweaked turning rate when using RMB.

------------------------------------------------------------------------
r313 | ajapted | 2009-11-01

Eureka: added NumObjects() utility function to the Basis.

------------------------------------------------------------------------
r312 | ajapted | 2009-11-01

Eureka: implemented the 'Select All' command (in edit menu).

------------------------------------------------------------------------
r311 | ajapted | 2009-11-01

Eureka: fixed a bug in selection_c::ConvertToBitvec().

------------------------------------------------------------------------
r310 | ajapted | 2009-11-01

Eureka: fixed bug using wrong NumXXX values in UI_ThingBox and UI_VertexBox.

------------------------------------------------------------------------
r309 | ajapted | 2009-11-01

todo tweak

------------------------------------------------------------------------
r308 | ajapted | 2009-11-01

Eureka: bit more work on having map changes updated all the widgets (etc).

------------------------------------------------------------------------
r307 | ajapted | 2009-11-01

Eureka: BASIS: new 'appended_an_object' variable.

------------------------------------------------------------------------
r306 | ajapted | 2009-10-31

Eureka: worked on a system (in the Basis) of remembering various types of
changes, so that various widgets (e.g. the canvas) can be updated with new
information automatically.

------------------------------------------------------------------------
r305 | ajapted | 2009-10-31

Eureka: can now turn and move up/down in the 3D preview with the mouse (RMB).

------------------------------------------------------------------------
r304 | ajapted | 2009-10-31

Eureka: UI_Nombre: improved the format (e.g. use '#' before the number).

------------------------------------------------------------------------
r303 | ajapted | 2009-10-31

Eureka: disabled the thing 'ExFloor' widget for now (punted feature).

------------------------------------------------------------------------
r302 | ajapted | 2009-10-31

Eureka: made '0' key be centre-and-zoom-out function, and disabled the
plain centre-map feature (on '`' key) as it seems not very useful.

------------------------------------------------------------------------
r301 | ajapted | 2009-10-31

Eureka: implemented ability to scroll the map with the mouse (RMB).

------------------------------------------------------------------------
r300 | ajapted | 2009-10-30

Eureka: fixed X-Offsets when splitting linedefs.

------------------------------------------------------------------------
r299 | ajapted | 2009-10-30

Eureka: re-implemented 'x' command to Split linedefs.

------------------------------------------------------------------------
r298 | ajapted | 2009-10-30

todo / docco update.

------------------------------------------------------------------------
r297 | ajapted | 2009-10-30

Eureka: the code trying to &quot;fix&quot; bad quantization didn't work and was very
inadequate.  Disabled for now, until better algorithms can be employed.

------------------------------------------------------------------------
r296 | ajapted | 2009-10-30

Eureka: worked on command to Quantize objects to the grid.

------------------------------------------------------------------------
r295 | ajapted | 2009-10-30

Eureka: added grid::ForceSnapX/Y methods.

------------------------------------------------------------------------
r294 | ajapted | 2009-10-30

Eureka: for 2x scaling, use the bottom left corner of the bbox as the
scaling origin, which is better at preserving grid snappage.

------------------------------------------------------------------------
r293 | ajapted | 2009-10-30

Eureka: implemented CMD_ScaleObjects() for 2x and 1/2 scaling.

------------------------------------------------------------------------
r292 | ajapted | 2009-10-30

Eureka: dead code removal (old flip_mirror stuff).

------------------------------------------------------------------------
r291 | ajapted | 2009-10-30

Eureka: implemented the Rotate-by-90-degrees commands.

------------------------------------------------------------------------
r290 | ajapted | 2009-10-30

Eureka: changed mirror keys to 'H' and 'I'.

------------------------------------------------------------------------
r289 | ajapted | 2009-10-30

Eureka: implemented Mirror command (horizontal and vertical).

------------------------------------------------------------------------
r288 | ajapted | 2009-10-30

Eureka: began work on commands to Mirror and Rotate90 objects.

------------------------------------------------------------------------
r287 | ajapted | 2009-10-30

Eureka: improved bbox_of_objects() to use the known radius of things.

------------------------------------------------------------------------
r286 | ajapted | 2009-10-30

Eureka: implemented new bbox_of_objects() function.

------------------------------------------------------------------------
r285 | ajapted | 2009-10-30

Eureka: re-implemented the centre_of_objects() function.

------------------------------------------------------------------------
r284 | ajapted | 2009-10-30

todo stuff.

------------------------------------------------------------------------
r283 | ajapted | 2009-10-30

commenting.

------------------------------------------------------------------------
r282 | ajapted | 2009-10-30

Eureka: implemented re-selected new objects after a Paste.

------------------------------------------------------------------------
r281 | ajapted | 2009-10-30

Eureka: added frob_range() method to selection_c class.

------------------------------------------------------------------------
r280 | ajapted | 2009-10-29

todo twiddle.

------------------------------------------------------------------------
r279 | ajapted | 2009-10-29

Eureka: began creating a list of keyboard commands.

------------------------------------------------------------------------
r278 | ajapted | 2009-10-29

todo twiddle.

------------------------------------------------------------------------
r277 | ajapted | 2009-10-29

debugging tidying.

------------------------------------------------------------------------
r276 | ajapted | 2009-10-29

Eureka: when dragging Sectors, drag their containing Things too.

------------------------------------------------------------------------
r275 | ajapted | 2009-10-29

Eureka: Dragging: actually move the objects after the drag.

------------------------------------------------------------------------
r274 | ajapted | 2009-10-29

Eureka: disable texture listbox for time being.

------------------------------------------------------------------------
r273 | ajapted | 2009-10-29

Eureka: worked on Dragging objects to new places.

------------------------------------------------------------------------
r272 | ajapted | 2009-10-29

Eureka: use 'obj_type_t' instead of 'int' for GetCurObject() parameter.

------------------------------------------------------------------------
r271 | ajapted | 2009-10-29

Eureka: use '0' key instead of '`' for zoom-and-centre-map function.

------------------------------------------------------------------------
r270 | ajapted | 2009-10-29

Eureka: removed unused variable: rulers.

------------------------------------------------------------------------
r269 | ajapted | 2009-10-29

Eureka: restored spin-thing keys to 'w' and 'x'.

------------------------------------------------------------------------
r268 | ajapted | 2009-10-29

Eureka: made clipboard handle sector Insertions like it handles deletions,
allowing the copied objects to survive longer (e.g. after undo).

------------------------------------------------------------------------
r267 | ajapted | 2009-10-29

Eureka: improved the way the clipboard reacts to Sector insertions and
deletions.  In particular, the clipboard can be preserved after a sector
is deleted (by adjusting the references).

------------------------------------------------------------------------
r266 | ajapted | 2009-10-29

Eureka: fixed thing positions when Pasting a copied sector.

------------------------------------------------------------------------
r265 | ajapted | 2009-10-29

debugging tweak.

------------------------------------------------------------------------
r264 | ajapted | 2009-10-29

Eureka: implemented Paste for linedefs and sectors (which involves creating
associated objects like vertices and sidedefs, and updating the references).

------------------------------------------------------------------------
r263 | ajapted | 2009-10-29

Eureka: further work on Cut'n'Paste code...

------------------------------------------------------------------------
r262 | ajapted | 2009-10-29

Eureka: implemented logic for Copying a group of linedefs or sectors
(and all associated objects) into the clipboard.

------------------------------------------------------------------------
r261 | ajapted | 2009-10-29

Eureka: Basis: no need to invalidate the clipboard when inserting new
Sectors at the very end of the array.

------------------------------------------------------------------------
r260 | ajapted | 2009-10-29

Eureka: support for Cut/Paste of vertices and RTS triggers.

------------------------------------------------------------------------
r259 | ajapted | 2009-10-29

Eureka: fixed pasting Things to move them to their new position (and
when multiple things are in the clipboard, find their centre).

------------------------------------------------------------------------
r258 | ajapted | 2009-10-29

Eureka: better handling of CTRL + letter keys.

------------------------------------------------------------------------
r257 | ajapted | 2009-10-29

Eureka: rewrote 'o' key command to use CMD_Copy + CMD_Paste.

------------------------------------------------------------------------
r256 | ajapted | 2009-10-29

Eureka: Basis: added RawCopy() methods to each class (Thing, Vertex etc).

------------------------------------------------------------------------
r255 | ajapted | 2009-10-29

Eureka: implemented CMD_Copy and CMD_Paste for THINGS.

------------------------------------------------------------------------
r254 | ajapted | 2009-10-29

Eureka: Basis: notify clipboard when sectors are deleted or inserted.

------------------------------------------------------------------------
r253 | ajapted | 2009-10-29

Eureka: fixed bugs in CMD_FullDelete().

------------------------------------------------------------------------
r252 | ajapted | 2009-10-29

Eureka: mainly commenting (new Cut'n'Paste code).

------------------------------------------------------------------------
r251 | ajapted | 2009-10-29

Eureka: moved CMD_Delete() code into e_cutpaste.cc file, and implemented
the CMD_FullDelete() which deletes things in sector mode.

------------------------------------------------------------------------
r250 | ajapted | 2009-10-28

Eureka: made ConvertSelection() into a general purpose function which
converts from one selection_c to another.

------------------------------------------------------------------------
r249 | ajapted | 2009-10-28

Eureka: BA_ClearAll() now clears the Clipboard too.

------------------------------------------------------------------------
r248 | ajapted | 2009-10-28

Eureka: preliminary clipboard_data_c class.

------------------------------------------------------------------------
r247 | ajapted | 2009-10-28

Eureka: updated menu code to use new Cut'n'Paste API.

------------------------------------------------------------------------
r246 | ajapted | 2009-10-28

update

------------------------------------------------------------------------
r245 | ajapted | 2009-10-28

Eureka: began work on Cut 'n' Paste functionality.

------------------------------------------------------------------------
r244 | ajapted | 2009-10-28

Eureka: properly handle mouse leaving the canvas area (e.g. unset the
currently highlighted object).

------------------------------------------------------------------------
r243 | ajapted | 2009-10-28

Eureka: force custom FLTK color scheme (default with Xfce looked pretty bad).

------------------------------------------------------------------------
r242 | ajapted | 2009-10-28

Eureka: fixed some warnings from GCC 4.3

------------------------------------------------------------------------
r241 | ajapted | 2009-10-26

Eureka: bit of work on SuperSectorSelector() code.

------------------------------------------------------------------------
r240 | ajapted | 2009-10-25

Eureka: changed default thing type to 2014 (from 3004).

------------------------------------------------------------------------
r239 | ajapted | 2009-10-25

Eureka: ability to Insert new things.

------------------------------------------------------------------------
r238 | ajapted | 2009-10-25

Eureka: for selection_c::clear() method, added unused but potentially
useful &quot;slow&quot; version which maintains the order of selections.

------------------------------------------------------------------------
r237 | ajapted | 2009-10-25

Eureka: ability to insert new vertices.

------------------------------------------------------------------------
r236 | ajapted | 2009-10-25

Eureka: don't push empty undo_group_cs onto the undo stack.

------------------------------------------------------------------------
r235 | ajapted | 2009-10-25

Eureka: began work on ability to insert new objects.

------------------------------------------------------------------------
r234 | ajapted | 2009-10-25

Eureka: small fix.

------------------------------------------------------------------------
r233 | ajapted | 2009-10-25

Eureka: implemented trickiest selection conversions: L-&gt;S and V-&gt;S.

------------------------------------------------------------------------
r232 | ajapted | 2009-10-25

Eureka: implemented V-&gt;L selection conversion.

------------------------------------------------------------------------
r231 | ajapted | 2009-10-25

Eureka: implemented S-&gt;L, S-&gt;V and L-&gt;V selection conversions.

------------------------------------------------------------------------
r230 | ajapted | 2009-10-25

Eureka: moved ConvertSelection() from editloop.cc --&gt; selectn.cc

------------------------------------------------------------------------
r229 | ajapted | 2009-10-25

TODO update

------------------------------------------------------------------------
r228 | ajapted | 2009-10-25

Eureka: implemented selection conversion when going from sector mode to
things mode.  Made the SPACE key unselect everything.

------------------------------------------------------------------------
r227 | ajapted | 2009-10-25

Eureka: fixed BA_Delete() handling of bound objects, it was sufficient to
simply delete them before the main object.  Also changed sidedef deletion
behavior to delete the _linedef_ if it would end up with no sides at all.

------------------------------------------------------------------------
r226 | ajapted | 2009-10-25

Eureka: changed color of &quot;error&quot; linedefs to bright red (from pink).

------------------------------------------------------------------------
r225 | ajapted | 2009-10-25

Eureka: fixed bug in RawInsertLineDef() -- assertion checked wrong value.

------------------------------------------------------------------------
r224 | ajapted | 2009-10-25

Eureka: fixed BA_Delete() which was trying to delete the wrong bound
objects (they needed to be collected before applying the deletion).

------------------------------------------------------------------------
r223 | ajapted | 2009-10-25

Eureka: fix highlighted (Panel'd) object after deletion.

------------------------------------------------------------------------
r222 | ajapted | 2009-10-25

Eureka: move the DeleteFinally() stuff out of the edit_op_c destructor
and into a 'Destroy' method which gets called explicitly by the undo_group
destructor.  This fixes serious problems caused by the destructor being
called on temporaries of edit_op_c objects.

------------------------------------------------------------------------
r221 | ajapted | 2009-10-25

Eureka: reimplemented deletion of objects.

------------------------------------------------------------------------
r220 | ajapted | 2009-10-25

TODO tweak

------------------------------------------------------------------------
r219 | ajapted | 2009-10-25

Eureka: disable optimisations for time being (as a debugging aide).

------------------------------------------------------------------------
r218 | ajapted | 2009-10-25

Eureka: fixed problem in Undo/Redo code (clearing the history/future
arrays) that lead to assertion failures in subsequent operations.

------------------------------------------------------------------------
r217 | ajapted | 2009-10-25

Eureka: disabled some uncompilable code.

------------------------------------------------------------------------
r216 | ajapted | 2009-10-25

Eureka: TODO twiddles.

------------------------------------------------------------------------
r213 | ajapted | 2009-10-25

Moved 'eureka' folder to top level (out of tools/)

------------------------------------------------------------------------
r212 | ajapted | 2009-10-13

Eureka: version bump.

------------------------------------------------------------------------
r211 | ajapted | 2009-10-13

TODO update.

------------------------------------------------------------------------
r210 | ajapted | 2009-10-13

Eureka: fixed changing mode via the button on the Info Bar.

------------------------------------------------------------------------
r209 | ajapted | 2009-10-13

Eureka: fixed issues with initial editing mode.

------------------------------------------------------------------------
r208 | ajapted | 2009-10-13

Eureka: tweaked deltas for raising/lowering floors and ceilings.

------------------------------------------------------------------------
r207 | ajapted | 2009-10-13

Eureka: implemented typing in texture names in the SideDef panels.

------------------------------------------------------------------------
r206 | ajapted | 2009-10-13

Eureka: implemented x_offset/y_offset input boxes in SideDef panel.

------------------------------------------------------------------------
r205 | ajapted | 2009-10-13

updated TODO

------------------------------------------------------------------------
r204 | ajapted | 2009-10-13

Eureka: implemented sector input box for the SideDef Panel.

------------------------------------------------------------------------
r203 | ajapted | 2009-10-13

Eureka: updated UI_SideBox::TexFromWidget() to internalise the string.

------------------------------------------------------------------------
r202 | ajapted | 2009-10-13

Eureka: got the automap flags in the LineDef panel working.

------------------------------------------------------------------------
r201 | ajapted | 2009-10-13

Eureka: implemented ability in LineDef Panel to change type, tag and
most of the flags -- supporting multiple linedefs too.

------------------------------------------------------------------------
r200 | ajapted | 2009-10-13

Eureka: ui_thing.cc: renamed opt_callback_data_c --&gt; thing_opt_CB_data_c

------------------------------------------------------------------------
r199 | ajapted | 2009-10-13

Dead code removal.

------------------------------------------------------------------------
r198 | ajapted | 2009-10-13

tweaks

------------------------------------------------------------------------
r197 | ajapted | 2009-10-13

Eureka: small fixes: made FlatFromWidget() uppercase the name, and fixed
GetCurrentObjects() to set the correct object type on the selection_c.

------------------------------------------------------------------------
r196 | ajapted | 2009-10-13

Eureka: implemented typing in texture names in the Sector panel.

------------------------------------------------------------------------
r195 | ajapted | 2009-10-13

Eureka: implemented the 'Type' and 'Tag' input boxes in the Sector panel.

------------------------------------------------------------------------
r194 | ajapted | 2009-10-13

minor fix

------------------------------------------------------------------------
r193 | ajapted | 2009-10-13

Eureka: implemented typing a value into light input box in Sector panel.

------------------------------------------------------------------------
r192 | ajapted | 2009-10-13

Eureka: implemented the light up/down buttons in the Sector panel,
via new CMD_AdjustLight() function in e_sector.cc

------------------------------------------------------------------------
r191 | ajapted | 2009-10-13

Eureka: moved CMD_MoveFloors() and CMD_MoveCeilings() into e_sector.cc

------------------------------------------------------------------------
r190 | ajapted | 2009-10-13

Eureka: renamed 'spin_things' function --&gt; 'CMD_SpinThings', and moved
some of the logic there (GetCurrentObjects etc), simplifying other code.

------------------------------------------------------------------------
r189 | ajapted | 2009-10-13

Eureka: worked on keys and buttons to move sector floors/ceilings, via
new CMD_MoveFloors() and CMD_MoveCeilings() functions.

------------------------------------------------------------------------
r188 | ajapted | 2009-10-13

Eureka: reimplemented the floor_h, ceil_h and headroom input boxes in
the Sector Panel (support multiple selected sectors).

------------------------------------------------------------------------
r187 | ajapted | 2009-10-13

fixed small bug

------------------------------------------------------------------------
r186 | ajapted | 2009-10-13

Eureka: fixed CLAMP() macro.

------------------------------------------------------------------------
r185 | ajapted | 2009-10-13

Eureka: reimplemented editing X and Y values in Vertex Panel.

------------------------------------------------------------------------
r184 | ajapted | 2009-10-13

Eureka: Thing Panel: fixed the 'type' input callback (handle multiple things).

------------------------------------------------------------------------
r183 | ajapted | 2009-10-13

Eureka: Thing Panel: separated 'pos_callback' into X and Y versions, so
that multiple selected things can work properly.

------------------------------------------------------------------------
r182 | ajapted | 2009-10-13

Eureka: Think Panel: reimplemented option_callback, pass a new structure
as the 'data' parameter which contains the needed UI_ThingBox pointer.
Also fixed a bug (used F_ANGLE instead of F_OPTIONS).

------------------------------------------------------------------------
r181 | ajapted | 2009-10-13

Eureka: Thing Panel: implemented value propagation for X and Y edits.
Changed option_callback() method making the 'data' field a mask value,
allowing multiple things to be handled but only the apropos bits are
actually changed.

------------------------------------------------------------------------
r180 | ajapted | 2009-10-13

tweak.

------------------------------------------------------------------------
r179 | ajapted | 2009-10-13

Eureka: for angle input in Thing panel, implemented propagating the new
value to every thing in the current selection.  Simplified handling of
the &lt; and &gt; rotation buttons.

------------------------------------------------------------------------
r178 | ajapted | 2009-10-13

Eureka: implemented UI_LineBox::UpdateField() method.

------------------------------------------------------------------------
r177 | ajapted | 2009-10-13

Eureka: implemented UpdateField() method for UI_VertexBox and UI_SectorBox.

------------------------------------------------------------------------
r176 | ajapted | 2009-10-13

Eureka: disabled the KF auto-upsizing stuff for now.

------------------------------------------------------------------------
r175 | ajapted | 2009-10-13

Eureka: update Thing UI panel after spin_things.

------------------------------------------------------------------------
r174 | ajapted | 2009-10-13

Eureka: Thing info widget: added UpdateField() method for when a field
is changed externally.  Removed some dead code.

------------------------------------------------------------------------
r173 | ajapted | 2009-10-13

Eureka: restored keys for spin_things.

------------------------------------------------------------------------
r172 | ajapted | 2009-10-13

Fixed a few warnings.

------------------------------------------------------------------------
r171 | ajapted | 2009-10-13

Eureka: changed keys to spin things to '[' and ']'.  Added a function
GetCurrentObjects(), and simplified some code using it.

------------------------------------------------------------------------
r170 | ajapted | 2009-10-13

Eureka: improved handling of the current highlighted object and the
current selection (for the UI panel).

------------------------------------------------------------------------
r169 | ajapted | 2009-10-13

Eureka: UI_Canvas: renamed some confusing method names:
   HighlightObject() --&gt; DrawHighlight()
   HighlightSelection() --&gt; DrawSelection()

------------------------------------------------------------------------
r168 | ajapted | 2009-10-13

Eureka: fixed UI_Nombre::Update() logic.

------------------------------------------------------------------------
r167 | ajapted | 2009-10-13

Eureka: the UI panel should now show how many objects are selected,
with a red background to warn that multiple objects may get changed
when editing the values in the panel.

------------------------------------------------------------------------
r166 | ajapted | 2009-10-13

Eureka: added 'slow_count' method to selection_c class.

------------------------------------------------------------------------
r165 | ajapted | 2009-10-13

Eureka: updated UI_Nombre widget to support selections.

------------------------------------------------------------------------
r164 | ajapted | 2009-10-12

Eureka: allow 3D renderer to receive mousewheel events.

------------------------------------------------------------------------
r163 | ajapted | 2009-10-12

Eureka: version bump.

------------------------------------------------------------------------
r162 | ajapted | 2009-10-12

Eureka: TODO update.

------------------------------------------------------------------------
r161 | ajapted | 2009-10-12

Eureka: implemented SelectObjectsInBox() for SECTORS.

------------------------------------------------------------------------
r160 | ajapted | 2009-10-12

Eureka: fixed SelectObjectsInBox() for THINGS, LINEDEFS and VERTICES.

------------------------------------------------------------------------
r159 | ajapted | 2009-10-12

Eureka: fixed key handling so that Ctrl-Z (and other menu shortcuts) work.

------------------------------------------------------------------------
r158 | ajapted | 2009-10-12

Eureka: updated TODO, removed old crud.

------------------------------------------------------------------------
r157 | ajapted | 2009-10-12

Eureka: fixed editing of Thing angles in the UI panel.

------------------------------------------------------------------------
r156 | ajapted | 2009-10-12

Eureka: fixed Undo/Redo to redraw map.

------------------------------------------------------------------------
r155 | ajapted | 2009-10-12

tweak

------------------------------------------------------------------------
r154 | ajapted | 2009-10-12

Eureka: replaced 'MadeChanges = 1' with call to MarkChanges(), and
replaced 'MadeMapChanges = 1' with MarkChanges(2) function call.
This new function remembers to redraw the map too.

------------------------------------------------------------------------
r153 | ajapted | 2009-10-12

Renamed file: AJA_TODO.txt --&gt; TODO.txt

------------------------------------------------------------------------
r152 | ajapted | 2009-10-12

Eureka: implemented 'spin_things' functionality using the BASIS system.

------------------------------------------------------------------------
r151 | ajapted | 2009-10-12

Eureka: implemented menu commands: 'Save', 'Undo' and 'Redo'.

------------------------------------------------------------------------
r150 | ajapted | 2009-10-12

Eureka: dead code removal.

------------------------------------------------------------------------
r149 | ajapted | 2009-10-12

Eureka: fixed bug in saving code (wrong number of linedefs).

------------------------------------------------------------------------
r148 | ajapted | 2009-10-12

Eureka: fixed Wad_file::RemoveLevel() for GL-Nodes, it should remove
the &quot;GL_XXX&quot; lumps after the normal level lumps too.

------------------------------------------------------------------------
r147 | ajapted | 2009-10-12

Eureka: load the specified PWADs.

------------------------------------------------------------------------
r4 | ajapted | 2009-09-07

Checked in sources to my 'Eureka DOOM Editor' program.

For a while this was developed in EDGE's SVN repository on SourceForge.
Before that is was just developed on my hard drive.  Eureka is a fork
of the Yadex editor (version 1.7.0).



====================================================
    DEVELOPMENT IN EDGE REPOSITORY
====================================================

------------------------------------------------------------------------
r5940 | ajapted | 2009-09-27 14:53:16

Removed eureka code from EDGE's SVN repository.  The code has moved to
AwwPort's BZR repository.

------------------------------------------------------------------------
r5919 | ajapted | 2009-08-10 16:23:40

Eureka: temporary disable spin_things().

------------------------------------------------------------------------
r5811 | ajapted | 2009-08-04 14:33:57

Eureka: tweaked Scale choices on the infobar.

------------------------------------------------------------------------
r5810 | ajapted | 2009-08-04 14:28:40

Eureka: fixed privacy of fields in Lump_c and Wad_file classes.

------------------------------------------------------------------------
r5809 | ajapted | 2009-08-03 23:07:55

Tweak.

------------------------------------------------------------------------
r5808 | ajapted | 2009-08-03 22:58:48

Eureka: removed Wad_name class (w_name.h)

------------------------------------------------------------------------
r5807 | ajapted | 2009-08-03 22:39:28

Eureka: dead code removal.

------------------------------------------------------------------------
r5806 | ajapted | 2009-08-03 22:19:51

Eureka: removed the old wad handling code files:
    w_wads.cc/h
    w_io.cc/h
    w_file.cc/h

------------------------------------------------------------------------
r5805 | ajapted | 2009-08-03 22:01:41

Eureka: yet more dead code removed.

------------------------------------------------------------------------
r5804 | ajapted | 2009-08-03 21:20:37

Eureka: removed old patch_dir code.

------------------------------------------------------------------------
r5803 | ajapted | 2009-08-03 20:38:32

Eureka: dead code removal.

------------------------------------------------------------------------
r5802 | ajapted | 2009-08-03 20:25:44

Tweaks.

------------------------------------------------------------------------
r5801 | ajapted | 2009-08-03 20:24:44

Eureka: enabled new texture loading code.

------------------------------------------------------------------------
r5800 | ajapted | 2009-08-03 19:19:13

Eureka: further work on texture loader...

------------------------------------------------------------------------
r5799 | ajapted | 2009-08-03 19:04:15

Eureka: initial work on new texture loading code...

------------------------------------------------------------------------
r5798 | ajapted | 2009-08-03 17:34:03

Eureka: sprite loader updated to use new LoadPicture() code.

------------------------------------------------------------------------
r5797 | ajapted | 2009-08-03 17:17:40

Eureka: new Wad_file function W_FindSpriteLump() which only checks
the valid sprites (S_START..S_END), and similarly W_FindPatchLump()
for patches.

------------------------------------------------------------------------
r5796 | ajapted | 2009-08-03 16:44:28

Eureka: worked on new LoadPicture() implementation.

------------------------------------------------------------------------
r5795 | ajapted | 2009-08-03 16:26:06

Eureka: added WAD utility function to load a lump into memory.

------------------------------------------------------------------------
r5794 | ajapted | 2009-08-03 14:44:47

Eureka: began work on a new LoadPicture() implementation.

------------------------------------------------------------------------
r5793 | ajapted | 2009-08-03 14:31:38

Eureka: renamed IMG_TRANSP --&gt; TRANS_PIXEL.

------------------------------------------------------------------------
r5792 | ajapted | 2009-08-03 11:22:03

Eureka: updated W_LoadPalette() to use new Wad_file code.

------------------------------------------------------------------------
r5791 | ajapted | 2009-08-03 11:13:20

Eureka: new flat loading code (W_LoadFlats), replaces old stuff.

------------------------------------------------------------------------
r5790 | ajapted | 2009-08-03 10:18:21

Eureka: dead code removal.

------------------------------------------------------------------------
r5789 | ajapted | 2009-08-03 10:09:34

Eureka: replaced calls to 'get_thing_xxx' with new M_GetThingType().

------------------------------------------------------------------------
r5788 | ajapted | 2009-08-03 09:55:21

Eureka: added 'color' field to thingtype_t (copied from thinggroup).

------------------------------------------------------------------------
r5787 | ajapted | 2009-08-03 09:46:35

Eureka: worked on using std::map for the game def containters
(sector_types, line_types, thing_types etc).

------------------------------------------------------------------------
r5786 | ajapted | 2009-08-02 23:47:30

Tweaks.

------------------------------------------------------------------------
r5785 | ajapted | 2009-08-02 23:35:40

Eureka: reworked code which loads the game palette.

------------------------------------------------------------------------
r5784 | ajapted | 2009-08-02 22:52:11

Tweak.

------------------------------------------------------------------------
r5783 | ajapted | 2009-08-02 22:30:52

Eureka: finished new line descriptions for doom2 game def.

------------------------------------------------------------------------
r5782 | ajapted | 2009-08-02 22:11:55

Eureka: yet more line description improvements (doom2 game def).

------------------------------------------------------------------------
r5781 | ajapted | 2009-08-02 21:24:08

Eureka: further work on line descriptions in doom2 game def.

------------------------------------------------------------------------
r5780 | ajapted | 2009-08-02 20:44:25

Eureka: more work on line descriptions in doom2 game definition.

------------------------------------------------------------------------
r5779 | ajapted | 2009-08-02 20:12:16

Eureka: game definition file: for 'thing' commands, moved the sprite
name to occur before the description (instead of after it).

More work on updating 'line' commands for a single description.

------------------------------------------------------------------------
r5778 | ajapted | 2009-08-02 19:38:05

Eureka: game definitions: began work to make linetype commands only
have a single description (instead of short and long).

------------------------------------------------------------------------
r5777 | ajapted | 2009-08-02 19:20:11

Eureka: game definitions: made 'sector' command only have a single
description (instead of short and long).

------------------------------------------------------------------------
r5776 | ajapted | 2009-08-02 19:16:40

Eureka: removed acolour_t.

------------------------------------------------------------------------
r5775 | ajapted | 2009-08-02 18:56:31

Eureka: worked on game definition (.ugh) code, renamed some of the
commands e.g. ldt --&gt; line and st --&gt; sector, and moved a couple
functions into m_game.cc.

------------------------------------------------------------------------
r5774 | ajapted | 2009-08-02 18:12:54

Eureka: dead code removal.

------------------------------------------------------------------------
r5773 | ajapted | 2009-08-02 17:17:33

Eureka: small fixes.

------------------------------------------------------------------------
r5772 | ajapted | 2009-08-02 17:13:35

Eureka: prelim rework of w_texture code (split now complete).

------------------------------------------------------------------------
r5771 | ajapted | 2009-08-02 17:06:13

Eureka: prelim rework of w_sprite.cc code.

------------------------------------------------------------------------
r5770 | ajapted | 2009-08-02 16:59:19

Eureka: preliminary rework of w_flats code.

------------------------------------------------------------------------
r5769 | ajapted | 2009-08-02 16:49:38

Eureka: continued splitting r_images.cc into three files.

------------------------------------------------------------------------
r5768 | ajapted | 2009-08-02 16:48:15

Eureka: began splitting r_image.cc into three (Textures, Flats and Sprites).

------------------------------------------------------------------------
r5767 | ajapted | 2009-08-02 16:45:33

Eureka: dead code removal.

------------------------------------------------------------------------
r5766 | ajapted | 2009-08-02 15:09:30

Eureka: merged w_sprites.cc code into r_images.cc

------------------------------------------------------------------------
r5765 | ajapted | 2009-08-02 14:42:40

Eureka: misc tidying.

------------------------------------------------------------------------
r5764 | ajapted | 2009-08-02 14:27:02

Small fix.

------------------------------------------------------------------------
r5763 | ajapted | 2009-08-02 14:14:06

Eureka: improved canvas drawing, keep the map bbox in member fields
(instead of computing it at multiple places), and use a Vis() method
for checking if an item would be visible.

------------------------------------------------------------------------
r5762 | ajapted | 2009-08-02 13:28:49

Eureka: reformatted r_grid.h and removed two unused fields.

------------------------------------------------------------------------
r5761 | ajapted | 2009-08-02 13:21:31

Eureka: small fixes.

------------------------------------------------------------------------
r5760 | ajapted | 2009-08-02 12:50:07

Eureka: added constructors to the basis structures (Thing, LineDef etc).

------------------------------------------------------------------------
r5759 | ajapted | 2009-08-02 12:42:56

Eureka: new FreshLevel() function to create a very basic level.

------------------------------------------------------------------------
r5758 | ajapted | 2009-08-02 12:27:37

Eureka: new level load/save code is mostly done.

------------------------------------------------------------------------
r5757 | ajapted | 2009-08-01 15:50:29

Eureka: Wad_file: changed FindLevel() to return a lump index (instead
of a level number), which affects the parameter to FindLumpInLevel()
and RemoveLevel() as well.   Various code tidying.

------------------------------------------------------------------------
r5756 | ajapted | 2009-08-01 11:56:59

Eureka: implemented remaining functionality of Wad_file class.

------------------------------------------------------------------------
r5755 | ajapted | 2009-07-31 22:46:50

Eureka: more Wad_file goodness...

------------------------------------------------------------------------
r5754 | ajapted | 2009-07-31 22:18:34

Eureka: further work on WAD Writing implementation.  Fixed the fopen
mode string in Open() to &quot;r+b&quot;, and in Create() to &quot;w+b&quot;.

------------------------------------------------------------------------
r5753 | ajapted | 2009-07-31 19:25:14

Eureka: tweaked the menu.

------------------------------------------------------------------------
r5752 | ajapted | 2009-07-31 19:17:59

Eureka: partial work on fleshing out the Wad_file &quot;Write interface&quot;.

------------------------------------------------------------------------
r5751 | ajapted | 2009-07-31 15:48:29

Eureka: created the &quot;Write interface&quot; for new Wad_file class.

------------------------------------------------------------------------
r5750 | ajapted | 2009-07-31 15:37:00

Eureka: fleshed out most of the new SaveLevel() code.

------------------------------------------------------------------------
r5749 | ajapted | 2009-07-30 23:06:51

Eureka: added skeletal SaveLevel() code.

------------------------------------------------------------------------
r5748 | ajapted | 2009-07-30 22:10:50

Eureka: wrote Wad_file::WasExternallyModified() method.

------------------------------------------------------------------------
r5747 | ajapted | 2009-07-30 21:45:53

Eureka: fixed Wad_file::Create() to set 'total_size' field.

------------------------------------------------------------------------
r5746 | ajapted | 2009-07-30 21:44:28

Eureka: determine total size of WAD when opening it.

------------------------------------------------------------------------
r5745 | ajapted | 2009-07-30 20:48:13

Eureka: dead code removal.

------------------------------------------------------------------------
r5744 | ajapted | 2009-07-30 20:47:25

Eureka: implemented Wad_file::ProcessNamespaces(), which handles the
S_START/S_END, P_START/P_END, F_START/F_END groups.

------------------------------------------------------------------------
r5743 | ajapted | 2009-07-30 19:53:38

Eureka: version bump, in honor of new WAD reading code.

------------------------------------------------------------------------
r5742 | ajapted | 2009-07-30 19:51:23

Eureka: implemented Wad_file::DetectLevels().

------------------------------------------------------------------------
r5741 | ajapted | 2009-07-30 19:25:37

Tweak.

------------------------------------------------------------------------
r5740 | ajapted | 2009-07-30 17:41:35

Eureka: preliminary implementation of Wad_file::ReadDirectory().

------------------------------------------------------------------------
r5739 | ajapted | 2009-07-30 16:51:59

Eureka: reworked LoadLevel() to use new Wad_file class.

------------------------------------------------------------------------
r5738 | ajapted | 2009-07-30 16:51:02

Eureka: mere reformatting.

------------------------------------------------------------------------
r5737 | ajapted | 2009-07-30 16:43:47

Eureka: added w_wad.o to the build, with minor fixes.

------------------------------------------------------------------------
r5736 | ajapted | 2009-07-30 16:42:37

Eureka: temp workaround for old Wad_file class clashing with new one.

------------------------------------------------------------------------
r5735 | ajapted | 2009-07-30 16:25:09

Eureka: new Wad_file class is coming along.

------------------------------------------------------------------------
r5734 | ajapted | 2009-07-30 15:57:08

Eureka: further work on new Wad_file class.

------------------------------------------------------------------------
r5732 | ajapted | 2009-07-30 14:52:33

Eureka: implemented RemoveUnusedVertices() for level loading.

------------------------------------------------------------------------
r5731 | ajapted | 2009-07-30 14:09:29

Eureka: #include math.h by default (via main.h).

------------------------------------------------------------------------
r5730 | ajapted | 2009-07-30 13:57:38

Eureka: bit more work on new Wad_file class.

------------------------------------------------------------------------
r5729 | ajapted | 2009-07-30 13:41:47

Eureka: added Adler-32 CRC code.

------------------------------------------------------------------------
r5728 | ajapted | 2009-07-30 13:36:27

Eureka: check-in of skeletal new Wad_file class.

------------------------------------------------------------------------
r5727 | ajapted | 2009-07-30 12:26:35

Eureka: more miscellaneous tidying.

------------------------------------------------------------------------
r5726 | ajapted | 2009-07-30 12:02:11

Eureka: replaced nf_bug() with BugError().

------------------------------------------------------------------------
r5725 | ajapted | 2009-07-30 11:55:25

Eureka: removed sys_assert.cc/h.  Began tidying the error/log stuff.

------------------------------------------------------------------------
r5724 | ajapted | 2009-07-29 23:35:22

Eureka: removed xref stuff (pretty useless).

------------------------------------------------------------------------
r5723 | ajapted | 2009-07-29 23:33:26

Eureka: moved some prototypes out of main.h

------------------------------------------------------------------------
r5722 | ajapted | 2009-07-29 23:17:29

Eureka: dead code removal.

------------------------------------------------------------------------
r5721 | ajapted | 2009-07-29 22:55:54

Eureka: more tidying / dead code removal.

------------------------------------------------------------------------
r5720 | ajapted | 2009-07-29 22:19:58

Eureka: fixed clashing definitions between w_rawdef.h and w_structs.h
and removed some typedefs.

------------------------------------------------------------------------
r5719 | ajapted | 2009-07-29 22:17:17

Eureka: Dead code removal.

------------------------------------------------------------------------
r5718 | ajapted | 2009-07-29 21:56:54

Eureka: fixed side-panel display of sector flats, sidedef textures.

------------------------------------------------------------------------
r5716 | ajapted | 2009-07-29 18:04:00

Eureka: dead code removal.

------------------------------------------------------------------------
r5715 | ajapted | 2009-07-29 16:33:54

Eureka: renamed file: e_load.cc --&gt; e_loadsave.cc

------------------------------------------------------------------------
r5714 | ajapted | 2009-07-29 16:24:15

Eureka: renamed QF --&gt; KF and QF_F --&gt; KF_fonth.

------------------------------------------------------------------------
r5713 | ajapted | 2009-07-29 16:22:59

Eureka: fiddled with menu.

------------------------------------------------------------------------
r5712 | ajapted | 2009-07-29 15:13:17

Eureka: few more fixes to get compiling and running again.

------------------------------------------------------------------------
r5711 | ajapted | 2009-07-29 15:04:25

Eureka: fleshed out new LoadLevel() function, and removed the old crud.

------------------------------------------------------------------------
r5710 | ajapted | 2009-07-29 14:55:38

Eureka: fleshed out LoadThings(), LoadSideDefs() and LoadLineDefs().

------------------------------------------------------------------------
r5709 | ajapted | 2009-07-29 14:38:05

Eureka: yet more sticky-tape and bubble-gum workarounds...

------------------------------------------------------------------------
r5708 | ajapted | 2009-07-29 13:17:25

Eureka: added LineDef::TouchesSector() method.

------------------------------------------------------------------------
r5707 | ajapted | 2009-07-29 01:10:51

Eureka: more bubble gum patching just to get something to compile.

------------------------------------------------------------------------
r5706 | ajapted | 2009-07-29 00:51:38

Eureka: fleshed out sector loading: LoadSectors().

------------------------------------------------------------------------
r5705 | ajapted | 2009-07-29 00:48:09

Eureka: added convenience func: BA_InternaliseShortStr().

------------------------------------------------------------------------
r5704 | ajapted | 2009-07-29 00:09:27

Eureka: began work on new level loading code : e_load.cc

------------------------------------------------------------------------
r5703 | ajapted | 2009-07-29 00:08:32

Eureka: sticky-tape for editloop.cc

------------------------------------------------------------------------
r5702 | ajapted | 2009-07-28 23:04:51

Eureka: wrote a little Features / Requirements doc.

------------------------------------------------------------------------
r5701 | ajapted | 2009-07-28 22:58:06

Eureka: more sticky-tape and bubble-gum to get it compiling again.

------------------------------------------------------------------------
r5700 | ajapted | 2009-07-28 22:51:33

Eureka: fixes for r_images.cc

------------------------------------------------------------------------
r5699 | ajapted | 2009-07-28 22:47:36

Eureka: updated 3D render code for the Basis.

------------------------------------------------------------------------
r5698 | ajapted | 2009-07-28 22:45:19

Eureka: added e_basis.o to the build.

------------------------------------------------------------------------
r5697 | ajapted | 2009-07-28 22:29:31

Eureka: prelim work updating UI widgets for the Basis.

------------------------------------------------------------------------
r5696 | ajapted | 2009-07-28 22:16:50

Eureka: fixed ui_canvas.cc for new basic structs.

------------------------------------------------------------------------
r5695 | ajapted | 2009-07-28 21:53:58

Eureka: remove old defintions of LineDef, Sector (etc) structs.

------------------------------------------------------------------------
r5694 | ajapted | 2009-07-28 21:46:06

Eureka: fixed some things in e_basis.cc

------------------------------------------------------------------------
r5693 | ajapted | 2009-07-28 21:19:02

Eureka: reformatted top-of-file comments, added the word 'Copyright'
because the presence of mere '(C)' has no legal significance.

------------------------------------------------------------------------
r5692 | ajapted | 2009-07-28 21:12:18

Eureka: twiddled TODO

------------------------------------------------------------------------
r5525 | ajapted | 2009-07-17 15:27:57

Eureka: completed the BASIS implementation (Undo, Redo, etc).

------------------------------------------------------------------------
r5524 | ajapted | 2009-07-17 14:56:04

Eureka: fleshed out more of the BASIS implementation.

------------------------------------------------------------------------
r5523 | ajapted | 2009-07-17 14:29:00

Eureka: more work on BASIS implementation, moved or removed the
irrelevant code out of e_basis.cc.

------------------------------------------------------------------------
r5522 | ajapted | 2009-07-17 14:21:44

Eureka: fleshed out the BASIS API (BA_Begin, BA_Change, etc).

------------------------------------------------------------------------
r5521 | ajapted | 2009-07-17 00:48:52

Eureka: basis stuff yay.

------------------------------------------------------------------------
r5520 | ajapted | 2009-07-16 23:59:32

Eureka: further work on the basis (RawInsert and RawDelete).

------------------------------------------------------------------------
r5519 | ajapted | 2009-07-16 21:27:16

Eureka: removed unused OBJ_XXX constants, added rad-trig bits.

------------------------------------------------------------------------
r5518 | ajapted | 2009-07-16 21:24:38

Eureka: basis code: implemented the helper methods (FloorTex etc),
and removed more code that doesn't belong here.

------------------------------------------------------------------------
r5517 | ajapted | 2009-07-16 21:05:32

Eureka: fleshed out all basis InsertXXX() and DeleteXXX() functions.

------------------------------------------------------------------------
r5516 | ajapted | 2009-07-16 20:05:31

Eureka: updated the DeleteObject() code for new basis design.

------------------------------------------------------------------------
r5515 | ajapted | 2009-07-16 19:25:42

Eureka: bit more work on object basis.

------------------------------------------------------------------------
r5514 | ajapted | 2009-07-16 19:22:59

Eureka: updated basis header with design notes and some helper
methods in each structure (e.g. Sector::FloorTex).

------------------------------------------------------------------------
r5513 | ajapted | 2009-07-16 18:47:12

Eureka: updated makefile.

------------------------------------------------------------------------
r5512 | ajapted | 2009-07-16 17:28:42

Eureka: improved string table class to support &quot;huge&quot; strings.

------------------------------------------------------------------------
r5511 | ajapted | 2009-07-16 15:49:28

Eureka: fixed string table to find existing strings in add().

------------------------------------------------------------------------
r5510 | ajapted | 2009-07-16 15:30:11

Eureka: finished implementation of string table.

------------------------------------------------------------------------
r5509 | ajapted | 2009-07-16 15:11:15

Eureka: preliminary work on a string table.

------------------------------------------------------------------------
r5508 | ajapted | 2009-07-16 14:58:40

Eureka: added field enums (F_X, F_FLOOR_TEX, etc) to basis classes.

------------------------------------------------------------------------
r5507 | ajapted | 2009-07-16 14:45:10

Eureka: fleshed out new basis classes (class Thing etc).

------------------------------------------------------------------------
r5506 | ajapted | 2009-07-16 14:20:23

Eureka: began work on new 'e_basis' file for basic object handling.

------------------------------------------------------------------------
r5505 | ajapted | 2009-07-16 14:17:14

Eureka: removed 'ld - LineDefs' and 'sec - Sectors' pointer math.

------------------------------------------------------------------------
r5504 | ajapted | 2009-07-16 00:56:49

Eureka: removed unused 'things_angles' and 'things_types' vars.

------------------------------------------------------------------------
r5503 | ajapted | 2009-07-16 00:55:48

Eureka: fixed 'spin_things' code.

------------------------------------------------------------------------
r5494 | ajapted | 2009-07-14 23:52:22

Eureka: got the code compiling again (after SelPtr change).

------------------------------------------------------------------------
r5493 | ajapted | 2009-07-14 23:14:22

Eureka: partial work, updating all code to use new selection_c
class instead of old SelPtr stuff.

------------------------------------------------------------------------
r5492 | ajapted | 2009-07-14 22:56:36

Eureka: optional 'initial' value for selection_c constructor.

------------------------------------------------------------------------
r5491 | ajapted | 2009-07-14 22:48:07

Eureka: reworked InsertObject() code.

------------------------------------------------------------------------
r5490 | ajapted | 2009-07-14 22:23:14

Eureka: new and improved DeleteObjects() code is done.

------------------------------------------------------------------------
r5489 | ajapted | 2009-07-14 21:14:17

Eureka: preliminary rework of DeleteObjects() code.

------------------------------------------------------------------------
r5488 | ajapted | 2009-07-14 21:13:41

Eureka: reinstated objid.h (finished split from objects.h).

------------------------------------------------------------------------
r5487 | ajapted | 2009-07-14 20:33:38

Eureka: reinstated header file: objid.h

------------------------------------------------------------------------
r5486 | ajapted | 2009-07-14 19:43:32

Eureka: improved selection_c class, new change_type() and empty() methods.

------------------------------------------------------------------------
r5485 | ajapted | 2009-07-14 18:42:54

Eureka: new MAX_RADIUS constant.

------------------------------------------------------------------------
r5484 | ajapted | 2009-07-14 18:41:40

Eureka: code reformatting.

------------------------------------------------------------------------
r5483 | ajapted | 2009-07-14 16:54:15

Eureka: yet more reformatting, yay.

------------------------------------------------------------------------
r5482 | ajapted | 2009-07-14 16:28:55

Eureka: more reformatting.

------------------------------------------------------------------------
r5481 | ajapted | 2009-07-14 15:30:07

Eureka: code reformatting.

------------------------------------------------------------------------
r5480 | ajapted | 2009-07-14 15:16:39

Eureka: reformatted code.

------------------------------------------------------------------------
r5479 | ajapted | 2009-07-13 23:30:46

Eureka: implemented iterators for the new selection_c class,
with an API similar to (but not the same as) the STL.

------------------------------------------------------------------------
r5478 | ajapted | 2009-07-13 23:01:07

Eureka: fleshed out remaining selection_c methods.

------------------------------------------------------------------------
r5477 | ajapted | 2009-07-13 22:49:17

Eureka: preliminary new class for handling selections.

------------------------------------------------------------------------
r5476 | ajapted | 2009-07-13 22:34:39

Eureka: extended bitvec_c class with set_all(), clear_all(),
toggle_all() and merge() methods.

------------------------------------------------------------------------
r5475 | ajapted | 2009-07-13 22:12:38

Eureka: reworked bitvec_c implementation.

------------------------------------------------------------------------
r5474 | ajapted | 2009-07-13 21:47:01

Eureka: incorporated highlight code into UI_Canvas widget.

------------------------------------------------------------------------
r5473 | ajapted | 2009-07-13 20:03:23

Eureka: updated TODO

------------------------------------------------------------------------
r5472 | ajapted | 2009-07-13 19:57:18

Eureka: incorporated selection box functionality into UI_Canvas widget.

------------------------------------------------------------------------
r5471 | ajapted | 2009-07-13 19:20:22

Eureka: updated #includes for recent renamings.

------------------------------------------------------------------------
r5470 | ajapted | 2009-07-13 18:58:35

Eureka: moved levelname2levelno(), levelname2rank() from yutil --&gt; levels.cc

------------------------------------------------------------------------
r5469 | ajapted | 2009-07-13 18:51:00

Eureka: renamed various files, now: e_checks, e_linedef, e_things,
e_sector, e_vertex, m_config, m_dialog and m_game.

------------------------------------------------------------------------
r5468 | ajapted | 2009-07-13 18:47:34

Eureka: make side panels wider on higher resolutions.

------------------------------------------------------------------------
r5467 | ajapted | 2009-07-13 18:38:32

Eureka: renamed Makefile.linux --&gt; Makefile.unx

------------------------------------------------------------------------
r5466 | ajapted | 2009-07-13 18:36:07

Eureka: updated #includes for recent file renamings.

------------------------------------------------------------------------
r5465 | ajapted | 2009-07-13 17:46:42

Eureka: renamed files: gfx --&gt; r_misc

------------------------------------------------------------------------
r5464 | ajapted | 2009-07-13 17:45:00

Eureka: dead code removal.

------------------------------------------------------------------------
r5463 | ajapted | 2009-07-13 17:36:33

Eureka: renamed files: grid2 --&gt; r_grid

------------------------------------------------------------------------
r5462 | ajapted | 2009-07-13 17:30:26

Eureka: moved InitFLTK and TermFLTK from gfx.cc --&gt; main.cc, and
removed some unused stuff.

------------------------------------------------------------------------
r5461 | ajapted | 2009-07-13 17:00:43

Eureka: merged l_super.h file --&gt; linedefs.cc

------------------------------------------------------------------------
r5460 | ajapted | 2009-07-13 14:51:08

Eureka: merged e_names.cc file --&gt; editobj.cc

------------------------------------------------------------------------
r5459 | ajapted | 2009-07-13 14:47:29

Eureka: merged edit2.h file --&gt; editloop.h

------------------------------------------------------------------------
r5458 | ajapted | 2009-07-13 14:41:43

Eureka: merged gotoobj files --&gt; objects.cc/h

------------------------------------------------------------------------
r5450 | ajapted | 2009-07-12 16:02:58

Eureka: code tidying, removed DRAWING_MAP hack.

------------------------------------------------------------------------
r5449 | ajapted | 2009-07-12 00:40:42

Eureka: renamed various fields of map structures:
   xoff, yoff    --&gt; x_offset, y_offset
   ceilt, floort --&gt; ceil_tex, floor_tex
   upper, lower  --&gt; upper_tex, lower_tex
   middle        --&gt; mid_tex
   sidedef1 / 2  --&gt; side_R, side_L
   when, special --&gt; options, type

------------------------------------------------------------------------
r5448 | ajapted | 2009-07-11 23:46:56

Eureka: Removed unused headers: spot.h and edwidget.h

------------------------------------------------------------------------
r5447 | ajapted | 2009-07-11 23:34:04

Eureka: more file merging, various reformatting and renaming.

------------------------------------------------------------------------
r5446 | ajapted | 2009-07-11 22:46:35

Eureka: reformatting...

------------------------------------------------------------------------
r5445 | ajapted | 2009-07-11 22:32:11

Eureka: more file shenanigans.

------------------------------------------------------------------------
r5444 | ajapted | 2009-07-11 22:22:36

Eureka: merged input.h and y_time.cc/h into other files.

------------------------------------------------------------------------
r5443 | ajapted | 2009-07-11 22:10:29

Eureka: scrollbar tweak.

------------------------------------------------------------------------
r5442 | ajapted | 2009-07-11 21:59:25

Eureka: new top-of-file comments (header files).

------------------------------------------------------------------------
r5441 | ajapted | 2009-07-11 21:44:52

Eureka: new top-of-file comment block.

------------------------------------------------------------------------
r5440 | ajapted | 2009-07-11 18:07:17

Eureka: more work on the Texture list widget.

------------------------------------------------------------------------
r5439 | ajapted | 2009-07-11 15:04:50

Eureka: bit more work on texture selector.

------------------------------------------------------------------------
r5438 | ajapted | 2009-07-11 14:42:58

Eureka: preliminary work on a flat/texture selection panel.

------------------------------------------------------------------------
r5437 | ajapted | 2009-07-11 14:10:45

Eureka: renamed more stuff.

------------------------------------------------------------------------
r5436 | ajapted | 2009-07-11 14:09:23

Eureka: renamed more stuff.

------------------------------------------------------------------------
r5435 | ajapted | 2009-07-11 00:32:21

Eureka: various tidying...

------------------------------------------------------------------------
r5434 | ajapted | 2009-07-11 00:06:45

Eureka: began work on using larger fonts (etc) on higher screen resolutions.

------------------------------------------------------------------------
r5433 | ajapted | 2009-07-10 23:35:44

Eureka: reformatting.

------------------------------------------------------------------------
r5432 | ajapted | 2009-07-10 22:44:04

Eureka: added vim editor settings to each file.

------------------------------------------------------------------------
r5431 | ajapted | 2009-07-10 22:15:48

Eureka: renamed files yadex --&gt; main, merged objid.h into objects.h

------------------------------------------------------------------------
r5430 | ajapted | 2009-07-10 21:59:48

Eureka: tweaks.

------------------------------------------------------------------------
r5429 | ajapted | 2009-07-10 21:54:07

Eureka: yep more twiddling...

------------------------------------------------------------------------
r5428 | ajapted | 2009-07-10 21:38:01

Eureka: more tidying...

------------------------------------------------------------------------
r5427 | ajapted | 2009-07-10 19:31:40

Eureka: more file stuff....

------------------------------------------------------------------------
r5426 | ajapted | 2009-07-10 19:21:00

Eureka: merged files: im_appcol, im_gamecol, im_rgb --&gt; im_color.

------------------------------------------------------------------------
r5425 | ajapted | 2009-07-10 19:08:03

Eureka: merged files: x_rotate, x_centre, x_exchg --&gt; x_mirror.

------------------------------------------------------------------------
r5424 | ajapted | 2009-07-10 14:56:36

Eureka: finished merging v_* files.

------------------------------------------------------------------------
r5423 | ajapted | 2009-07-10 14:52:39

Eureka: began merging v_* files --&gt; vertices.cc/h

------------------------------------------------------------------------
r5422 | ajapted | 2009-07-10 14:49:52

Eureka: merged s_* files into sectors.cc/h and s_misc.cc/h

------------------------------------------------------------------------
r5421 | ajapted | 2009-07-10 14:38:39

Eureka: merged s_split.cc, s_slice.cc into --&gt; s_misc.cc

------------------------------------------------------------------------
r5420 | ajapted | 2009-07-10 14:33:32

Eureka: renamed files: s_centre --&gt; sectors

------------------------------------------------------------------------
r5419 | ajapted | 2009-07-10 14:32:20

Eureka: renamed file --&gt; s_misc.h

------------------------------------------------------------------------
r5418 | ajapted | 2009-07-10 14:29:40

Eureka: finished merging linedef stuff.

------------------------------------------------------------------------
r5417 | ajapted | 2009-07-10 14:23:12

Eureka: began merging linedef stuff into less files.

------------------------------------------------------------------------
r5416 | ajapted | 2009-07-10 00:38:58

Eureka: renamed file: memory --&gt; ymemory

------------------------------------------------------------------------
r5415 | ajapted | 2009-07-10 00:34:54

Eureka: merged t_spin, t_flags, t_centre files --&gt; things.cc/h

------------------------------------------------------------------------
r5414 | ajapted | 2009-07-10 00:25:51

Eureka: renamed GetFarMemory --&gt; GetMemory (et al).

------------------------------------------------------------------------
r5413 | ajapted | 2009-07-10 00:17:55

Eureka: removed files: locate.cc/h and macro.cc/h

------------------------------------------------------------------------
r5390 | ajapted | 2009-07-09 01:36:07

Eureka: fixed the cpu hogging (use Fl::wait in main loop).

------------------------------------------------------------------------
r5389 | ajapted | 2009-07-09 01:16:45

Eureka: removed dummy atclib.h

------------------------------------------------------------------------
r5388 | ajapted | 2009-07-09 00:52:30

Checked in a map editor based on Yadex 1.7.0 but completely hacked
to pieces to work with the FLTK toolkit and removal of the atclib.

</pre>
</div>